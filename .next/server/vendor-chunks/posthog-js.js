"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/posthog-js";
exports.ids = ["vendor-chunks/posthog-js"];
exports.modules = {

/***/ "(ssr)/./node_modules/posthog-js/dist/module.js":
/*!************************************************!*\
  !*** ./node_modules/posthog-js/dist/module.js ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPY_AUTOCAPTURE_EVENT: () => (/* binding */ ne),\n/* harmony export */   Compression: () => (/* binding */ oe),\n/* harmony export */   DisplaySurveyType: () => (/* binding */ Bn),\n/* harmony export */   PostHog: () => (/* binding */ Do),\n/* harmony export */   SurveyEventName: () => (/* binding */ zn),\n/* harmony export */   SurveyEventProperties: () => (/* binding */ Hn),\n/* harmony export */   SurveyEventType: () => (/* binding */ Mn),\n/* harmony export */   SurveyPosition: () => (/* binding */ An),\n/* harmony export */   SurveyQuestionBranchingType: () => (/* binding */ Nn),\n/* harmony export */   SurveyQuestionType: () => (/* binding */ Ln),\n/* harmony export */   SurveySchedule: () => (/* binding */ Un),\n/* harmony export */   SurveyTabPosition: () => (/* binding */ Dn),\n/* harmony export */   SurveyType: () => (/* binding */ jn),\n/* harmony export */   SurveyWidgetType: () => (/* binding */ On),\n/* harmony export */   \"default\": () => (/* binding */ Lo),\n/* harmony export */   posthog: () => (/* binding */ Lo),\n/* harmony export */   severityLevels: () => (/* binding */ ae)\n/* harmony export */ });\nvar t=\"undefined\"!=typeof window?window:void 0,i=\"undefined\"!=typeof globalThis?globalThis:t;\"undefined\"==typeof self&&(i.self=i),\"undefined\"==typeof File&&(i.File=function(){});var e=Array.prototype,r=e.forEach,s=e.indexOf,n=null==i?void 0:i.navigator,o=null==i?void 0:i.document,a=null==i?void 0:i.location,l=null==i?void 0:i.fetch,u=null!=i&&i.XMLHttpRequest&&\"withCredentials\"in new i.XMLHttpRequest?i.XMLHttpRequest:void 0,h=null==i?void 0:i.AbortController,d=null==n?void 0:n.userAgent,v=null!=t?t:{},c={DEBUG:!1,LIB_VERSION:\"1.299.0\"};function f(t,i,e,r,s,n,o){try{var a=t[n](o),l=a.value}catch(t){return void e(t)}a.done?i(l):Promise.resolve(l).then(r,s)}function p(t){return function(){var i=this,e=arguments;return new Promise((function(r,s){var n=t.apply(i,e);function o(t){f(n,r,s,o,a,\"next\",t)}function a(t){f(n,r,s,o,a,\"throw\",t)}o(void 0)}))}}function g(){return g=Object.assign?Object.assign.bind():function(t){for(var i=1;i<arguments.length;i++){var e=arguments[i];for(var r in e)({}).hasOwnProperty.call(e,r)&&(t[r]=e[r])}return t},g.apply(null,arguments)}function _(t,i){if(null==t)return{};var e={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(-1!==i.indexOf(r))continue;e[r]=t[r]}return e}var m=[\"amazonbot\",\"amazonproductbot\",\"app.hypefactors.com\",\"applebot\",\"archive.org_bot\",\"awariobot\",\"backlinksextendedbot\",\"baiduspider\",\"bingbot\",\"bingpreview\",\"chrome-lighthouse\",\"dataforseobot\",\"deepscan\",\"duckduckbot\",\"facebookexternal\",\"facebookcatalog\",\"http://yandex.com/bots\",\"hubspot\",\"ia_archiver\",\"leikibot\",\"linkedinbot\",\"meta-externalagent\",\"mj12bot\",\"msnbot\",\"nessus\",\"petalbot\",\"pinterest\",\"prerender\",\"rogerbot\",\"screaming frog\",\"sebot-wa\",\"sitebulb\",\"slackbot\",\"slurp\",\"trendictionbot\",\"turnitin\",\"twitterbot\",\"vercel-screenshot\",\"vercelbot\",\"yahoo! slurp\",\"yandexbot\",\"zoombot\",\"bot.htm\",\"bot.php\",\"(bot;\",\"bot/\",\"crawler\",\"ahrefsbot\",\"ahrefssiteaudit\",\"semrushbot\",\"siteauditbot\",\"splitsignalbot\",\"gptbot\",\"oai-searchbot\",\"chatgpt-user\",\"perplexitybot\",\"better uptime bot\",\"sentryuptimebot\",\"uptimerobot\",\"headlesschrome\",\"cypress\",\"google-hoteladsverifier\",\"adsbot-google\",\"apis-google\",\"duplexweb-google\",\"feedfetcher-google\",\"google favicon\",\"google web preview\",\"google-read-aloud\",\"googlebot\",\"googleother\",\"google-cloudvertexbot\",\"googleweblight\",\"mediapartners-google\",\"storebot-google\",\"google-inspectiontool\",\"bytespider\"],y=function(t,i){if(void 0===i&&(i=[]),!t)return!1;var e=t.toLowerCase();return m.concat(i).some((t=>{var i=t.toLowerCase();return-1!==e.indexOf(i)}))},b=[\"$snapshot\",\"$pageview\",\"$pageleave\",\"$set\",\"survey dismissed\",\"survey sent\",\"survey shown\",\"$identify\",\"$groupidentify\",\"$create_alias\",\"$$client_ingestion_warning\",\"$web_experiment_applied\",\"$feature_enrollment_update\",\"$feature_flag_called\"];function w(t,i){return-1!==t.indexOf(i)}var x=function(t){return t.trim()},S=function(t){return t.replace(/^\\$/,\"\")};var E=Array.isArray,k=Object.prototype,P=k.hasOwnProperty,T=k.toString,I=E||function(t){return\"[object Array]\"===T.call(t)},R=t=>\"function\"==typeof t,F=t=>t===Object(t)&&!I(t),C=t=>{if(F(t)){for(var i in t)if(P.call(t,i))return!1;return!0}return!1},M=t=>void 0===t,O=t=>\"[object String]\"==T.call(t),A=t=>O(t)&&0===t.trim().length,D=t=>null===t,j=t=>M(t)||D(t),L=t=>\"[object Number]\"==T.call(t),N=t=>\"[object Boolean]\"===T.call(t),U=t=>t instanceof FormData,z=t=>w(b,t);function H(t){return null===t||\"object\"!=typeof t}function B(t,i){return Object.prototype.toString.call(t)===\"[object \"+i+\"]\"}function q(t){return!M(Event)&&function(t,i){try{return t instanceof i}catch(t){return!1}}(t,Event)}var W=[!0,\"true\",1,\"1\",\"yes\"],G=t=>w(W,t),V=[!1,\"false\",0,\"0\",\"no\"];function J(t,i,e,r,s){return i>e&&(r.warn(\"min cannot be greater than max.\"),i=e),L(t)?t>e?(r.warn(\" cannot be  greater than max: \"+e+\". Using max value instead.\"),e):t<i?(r.warn(\" cannot be less than min: \"+i+\". Using min value instead.\"),i):t:(r.warn(\" must be a number. using max or fallback. max: \"+e+\", fallback: \"+s),J(s||e,i,e,r))}class K{constructor(t){this.t={},this.i=t.i,this.o=J(t.bucketSize,0,100,t.h),this.m=J(t.refillRate,0,this.o,t.h),this.S=J(t.refillInterval,0,864e5,t.h)}$(t,i){var e=i-t.lastAccess,r=Math.floor(e/this.S);if(r>0){var s=r*this.m;t.tokens=Math.min(t.tokens+s,this.o),t.lastAccess=t.lastAccess+r*this.S}}consumeRateLimit(t){var i,e=Date.now(),r=String(t),s=this.t[r];return s?this.$(s,e):(s={tokens:this.o,lastAccess:e},this.t[r]=s),0===s.tokens||(s.tokens--,0===s.tokens&&(null==(i=this.i)||i.call(this,t)),0===s.tokens)}stop(){this.t={}}}var Y,X,Q,Z=t=>t instanceof Error;function tt(t){var i=globalThis._posthogChunkIds;if(i){var e=Object.keys(i);return Q&&e.length===X||(X=e.length,Q=e.reduce(((e,r)=>{Y||(Y={});var s=Y[r];if(s)e[s[0]]=s[1];else for(var n=t(r),o=n.length-1;o>=0;o--){var a=n[o],l=null==a?void 0:a.filename,u=i[r];if(l&&u){e[l]=u,Y[r]=[l,u];break}}return e}),{})),Q}}class it{constructor(t,i,e){void 0===e&&(e=[]),this.coercers=t,this.stackParser=i,this.modifiers=e}buildFromUnknown(t,i){void 0===i&&(i={});var e=i&&i.mechanism||{handled:!0,type:\"generic\"},r=this.buildCoercingContext(e,i,0).apply(t),s=this.buildParsingContext(),n=this.parseStacktrace(r,s);return{$exception_list:this.convertToExceptionList(n,e),$exception_level:\"error\"}}modifyFrames(t){var i=this;return p((function*(){for(var e of t)e.stacktrace&&e.stacktrace.frames&&I(e.stacktrace.frames)&&(e.stacktrace.frames=yield i.applyModifiers(e.stacktrace.frames));return t}))()}coerceFallback(t){var i;return{type:\"Error\",value:\"Unknown error\",stack:null==(i=t.syntheticException)?void 0:i.stack,synthetic:!0}}parseStacktrace(t,i){var e,r;return null!=t.cause&&(e=this.parseStacktrace(t.cause,i)),\"\"!=t.stack&&null!=t.stack&&(r=this.applyChunkIds(this.stackParser(t.stack,t.synthetic?1:0),i.chunkIdMap)),g({},t,{cause:e,stack:r})}applyChunkIds(t,i){return t.map((t=>(t.filename&&i&&(t.chunk_id=i[t.filename]),t)))}applyCoercers(t,i){for(var e of this.coercers)if(e.match(t))return e.coerce(t,i);return this.coerceFallback(i)}applyModifiers(t){var i=this;return p((function*(){var e=t;for(var r of i.modifiers)e=yield r(e);return e}))()}convertToExceptionList(t,i){var e,r,s,n={type:t.type,value:t.value,mechanism:{type:null!==(e=i.type)&&void 0!==e?e:\"generic\",handled:null===(r=i.handled)||void 0===r||r,synthetic:null!==(s=t.synthetic)&&void 0!==s&&s}};t.stack&&(n.stacktrace={type:\"raw\",frames:t.stack});var o=[n];return null!=t.cause&&o.push(...this.convertToExceptionList(t.cause,g({},i,{handled:!0}))),o}buildParsingContext(){return{chunkIdMap:tt(this.stackParser)}}buildCoercingContext(t,i,e){void 0===e&&(e=0);var r=(e,r)=>{if(r<=4){var s=this.buildCoercingContext(t,i,r);return this.applyCoercers(e,s)}};return g({},i,{syntheticException:0==e?i.syntheticException:void 0,mechanism:t,apply:t=>r(t,e),next:t=>r(t,e+1)})}}var et=\"?\";function rt(t,i,e,r,s){var n={platform:t,filename:i,function:\"<anonymous>\"===e?et:e,in_app:!0};return M(r)||(n.lineno=r),M(s)||(n.colno=s),n}var st=(t,i)=>{var e=-1!==t.indexOf(\"safari-extension\"),r=-1!==t.indexOf(\"safari-web-extension\");return e||r?[-1!==t.indexOf(\"@\")?t.split(\"@\")[0]:et,e?\"safari-extension:\"+i:\"safari-web-extension:\"+i]:[t,i]},nt=/^\\s*at (\\S+?)(?::(\\d+))(?::(\\d+))\\s*$/i,ot=/^\\s*at (?:(.+?\\)(?: \\[.+\\])?|.*?) ?\\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\\/)?.*?)(?::(\\d+))?(?::(\\d+))?\\)?\\s*$/i,at=/\\((\\S*)(?::(\\d+))(?::(\\d+))\\)/,lt=(t,i)=>{var e=nt.exec(t);if(e){var[,r,s,n]=e;return rt(i,r,et,+s,+n)}var o=ot.exec(t);if(o){if(o[2]&&0===o[2].indexOf(\"eval\")){var a=at.exec(o[2]);a&&(o[2]=a[1],o[3]=a[2],o[4]=a[3])}var[l,u]=st(o[1]||et,o[2]);return rt(i,u,l,o[3]?+o[3]:void 0,o[4]?+o[4]:void 0)}},ut=/^\\s*(.*?)(?:\\((.*?)\\))?(?:^|@)?((?:[-a-z]+)?:\\/.*?|\\[native code\\]|[^@]*(?:bundle|\\d+\\.js)|\\/[\\w\\-. /=]+)(?::(\\d+))?(?::(\\d+))?\\s*$/i,ht=/(\\S+) line (\\d+)(?: > eval line \\d+)* > eval/i,dt=(t,i)=>{var e=ut.exec(t);if(e){if(e[3]&&e[3].indexOf(\" > eval\")>-1){var r=ht.exec(e[3]);r&&(e[1]=e[1]||\"eval\",e[3]=r[1],e[4]=r[2],e[5]=\"\")}var s=e[3],n=e[1]||et;return[n,s]=st(n,s),rt(i,s,n,e[4]?+e[4]:void 0,e[5]?+e[5]:void 0)}},vt=/\\(error: (.*)\\)/,ct=50;function ft(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return function(i,r){void 0===r&&(r=0);for(var s=[],n=i.split(\"\\n\"),o=r;o<n.length;o++){var a=n[o];if(!(a.length>1024)){var l=vt.test(a)?a.replace(vt,\"$1\"):a;if(!l.match(/\\S*Error: /)){for(var u of e){var h=u(l,t);if(h){s.push(h);break}}if(s.length>=ct)break}}}return function(t){if(!t.length)return[];var i=Array.from(t);return i.reverse(),i.slice(0,ct).map((t=>{return g({},t,{filename:t.filename||(e=i,e[e.length-1]||{}).filename,function:t.function||et});var e}))}(s)}}class pt{match(t){return this.isDOMException(t)||this.isDOMError(t)}coerce(t,i){var e=O(t.stack);return{type:this.getType(t),value:this.getValue(t),stack:e?t.stack:void 0,cause:t.cause?i.next(t.cause):void 0,synthetic:!1}}getType(t){return this.isDOMError(t)?\"DOMError\":\"DOMException\"}getValue(t){var i=t.name||(this.isDOMError(t)?\"DOMError\":\"DOMException\");return t.message?i+\": \"+t.message:i}isDOMException(t){return B(t,\"DOMException\")}isDOMError(t){return B(t,\"DOMError\")}}class gt{match(t){return(t=>t instanceof Error)(t)}coerce(t,i){return{type:this.getType(t),value:this.getMessage(t,i),stack:this.getStack(t),cause:t.cause?i.next(t.cause):void 0,synthetic:!1}}getType(t){return t.name||t.constructor.name}getMessage(t,i){var e=t.message;return e.error&&\"string\"==typeof e.error.message?String(e.error.message):String(e)}getStack(t){return t.stacktrace||t.stack||void 0}}class _t{constructor(){}match(t){return B(t,\"ErrorEvent\")&&null!=t.error}coerce(t,i){var e,r=i.apply(t.error);return r||{type:\"ErrorEvent\",value:t.message,stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}var mt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;class yt{match(t){return\"string\"==typeof t}coerce(t,i){var e,[r,s]=this.getInfos(t);return{type:null!=r?r:\"Error\",value:null!=s?s:t,stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}getInfos(t){var i=\"Error\",e=t,r=t.match(mt);return r&&(i=r[1],e=r[2]),[i,e]}}var bt=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"];function wt(t,i){void 0===i&&(i=40);var e=Object.keys(t);if(e.sort(),!e.length)return\"[object has no keys]\";for(var r=e.length;r>0;r--){var s=e.slice(0,r).join(\", \");if(!(s.length>i))return r===e.length||s.length<=i?s:s.slice(0,i)+\"...\"}return\"\"}class xt{match(t){return\"object\"==typeof t&&null!==t}coerce(t,i){var e,r=this.getErrorPropertyFromObject(t);return r?i.apply(r):{type:this.getType(t),value:this.getValue(t),stack:null==(e=i.syntheticException)?void 0:e.stack,level:this.isSeverityLevel(t.level)?t.level:\"error\",synthetic:!0}}getType(t){return q(t)?t.constructor.name:\"Error\"}getValue(t){if(\"name\"in t&&\"string\"==typeof t.name){var i=\"'\"+t.name+\"' captured as exception\";return\"message\"in t&&\"string\"==typeof t.message&&(i+=\" with message: '\"+t.message+\"'\"),i}if(\"message\"in t&&\"string\"==typeof t.message)return t.message;var e=this.getObjectClassName(t);return(e&&\"Object\"!==e?\"'\"+e+\"'\":\"Object\")+\" captured as exception with keys: \"+wt(t)}isSeverityLevel(t){return O(t)&&!A(t)&&bt.indexOf(t)>=0}getErrorPropertyFromObject(t){for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var e=t[i];if(Z(e))return e}}getObjectClassName(t){try{var i=Object.getPrototypeOf(t);return i?i.constructor.name:void 0}catch(t){return}}}class St{match(t){return q(t)}coerce(t,i){var e,r=t.constructor.name;return{type:r,value:r+\" captured as exception with keys: \"+wt(t),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}class Et{match(t){return H(t)}coerce(t,i){var e;return{type:\"Error\",value:\"Primitive value captured as exception: \"+String(t),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}}}class $t{match(t){return B(t,\"PromiseRejectionEvent\")}coerce(t,i){var e,r=this.getUnhandledRejectionReason(t);return H(r)?{type:\"UnhandledRejection\",value:\"Non-Error promise rejection captured with value: \"+String(r),stack:null==(e=i.syntheticException)?void 0:e.stack,synthetic:!0}:i.apply(r)}getUnhandledRejectionReason(t){if(H(t))return t;try{if(\"reason\"in t)return t.reason;if(\"detail\"in t&&\"reason\"in t.detail)return t.detail.reason}catch(t){}return t}}var kt=function(i,e){var{debugEnabled:r}=void 0===e?{}:e,s={k:function(e){if(t&&(c.DEBUG||v.POSTHOG_DEBUG||r)&&!M(t.console)&&t.console){for(var s=(\"__rrweb_original__\"in t.console[e]?t.console[e].__rrweb_original__:t.console[e]),n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];s(i,...o)}},info:function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];s.k(\"log\",...i)},warn:function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];s.k(\"warn\",...i)},error:function(){for(var t=arguments.length,i=new Array(t),e=0;e<t;e++)i[e]=arguments[e];s.k(\"error\",...i)},critical:function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];console.error(i,...e)},uninitializedWarning:t=>{s.error(\"You must initialize PostHog before calling \"+t)},createLogger:(t,e)=>kt(i+\" \"+t,e)};return s},Pt=kt(\"[PostHog.js]\"),Tt=Pt.createLogger,It=Tt(\"[ExternalScriptsLoader]\"),Rt=(t,i,e)=>{if(t.config.disable_external_dependency_loading)return It.warn(i+\" was requested but loading of external scripts is disabled.\"),e(\"Loading of external scripts is disabled\");var r=null==o?void 0:o.querySelectorAll(\"script\");if(r)for(var s,n=function(){if(r[a].src===i){var t=r[a];return t.__posthog_loading_callback_fired?{v:e()}:(t.addEventListener(\"load\",(i=>{t.__posthog_loading_callback_fired=!0,e(void 0,i)})),t.onerror=t=>e(t),{v:void 0})}},a=0;a<r.length;a++)if(s=n())return s.v;var l=()=>{if(!o)return e(\"document not found\");var r=o.createElement(\"script\");if(r.type=\"text/javascript\",r.crossOrigin=\"anonymous\",r.src=i,r.onload=t=>{r.__posthog_loading_callback_fired=!0,e(void 0,t)},r.onerror=t=>e(t),t.config.prepare_external_dependency_script&&(r=t.config.prepare_external_dependency_script(r)),!r)return e(\"prepare_external_dependency_script returned null\");var s,n=o.querySelectorAll(\"body > script\");n.length>0?null==(s=n[0].parentNode)||s.insertBefore(r,n[0]):o.body.appendChild(r)};null!=o&&o.body?l():null==o||o.addEventListener(\"DOMContentLoaded\",l)};v.__PosthogExtensions__=v.__PosthogExtensions__||{},v.__PosthogExtensions__.loadExternalDependency=(t,i,e)=>{var r=\"/static/\"+i+\".js?v=\"+t.version;if(\"remote-config\"===i&&(r=\"/array/\"+t.config.token+\"/config.js\"),\"toolbar\"===i){var s=3e5;r=r+\"&t=\"+Math.floor(Date.now()/s)*s}var n=t.requestRouter.endpointFor(\"assets\",r);Rt(t,n,e)},v.__PosthogExtensions__.loadSiteApp=(t,i,e)=>{var r=t.requestRouter.endpointFor(\"api\",i);Rt(t,r,e)};var Ft={};function Ct(t,i,e){if(I(t))if(r&&t.forEach===r)t.forEach(i,e);else if(\"length\"in t&&t.length===+t.length)for(var s=0,n=t.length;s<n;s++)if(s in t&&i.call(e,t[s],s)===Ft)return}function Mt(t,i,e){if(!j(t)){if(I(t))return Ct(t,i,e);if(U(t)){for(var r of t.entries())if(i.call(e,r[1],r[0])===Ft)return}else for(var s in t)if(P.call(t,s)&&i.call(e,t[s],s)===Ft)return}}var Ot=function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return Ct(e,(function(i){for(var e in i)void 0!==i[e]&&(t[e]=i[e])})),t},At=function(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];return Ct(e,(function(i){Ct(i,(function(i){t.push(i)}))})),t};function Dt(t){for(var i=Object.keys(t),e=i.length,r=new Array(e);e--;)r[e]=[i[e],t[i[e]]];return r}var jt=function(t){try{return t()}catch(t){return}},Lt=function(t){return function(){try{for(var i=arguments.length,e=new Array(i),r=0;r<i;r++)e[r]=arguments[r];return t.apply(this,e)}catch(t){Pt.critical(\"Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.\"),Pt.critical(t)}}},Nt=function(t){var i={};return Mt(t,(function(t,e){(O(t)&&t.length>0||L(t))&&(i[e]=t)})),i};function Ut(t,i){return e=t,r=t=>O(t)&&!D(i)?t.slice(0,i):t,s=new Set,function t(i,e){return i!==Object(i)?r?r(i,e):i:s.has(i)?void 0:(s.add(i),I(i)?(n=[],Ct(i,(i=>{n.push(t(i))}))):(n={},Mt(i,((i,e)=>{s.has(i)||(n[e]=t(i,e))}))),n);var n}(e);var e,r,s}var zt=[\"herokuapp.com\",\"vercel.app\",\"netlify.app\"];function Ht(t){var i=null==t?void 0:t.hostname;if(!O(i))return!1;var e=i.split(\".\").slice(-2).join(\".\");for(var r of zt)if(e===r)return!1;return!0}function Bt(t,i){for(var e=0;e<t.length;e++)if(i(t[e]))return t[e]}function qt(t,i,e,r){var{capture:s=!1,passive:n=!0}=null!=r?r:{};null==t||t.addEventListener(i,e,{capture:s,passive:n})}var Wt=\"$people_distinct_id\",Gt=\"__alias\",Vt=\"__timers\",Jt=\"$autocapture_disabled_server_side\",Kt=\"$heatmaps_enabled_server_side\",Yt=\"$exception_capture_enabled_server_side\",Xt=\"$error_tracking_suppression_rules\",Qt=\"$error_tracking_capture_extension_exceptions\",Zt=\"$web_vitals_enabled_server_side\",ti=\"$dead_clicks_enabled_server_side\",ii=\"$web_vitals_allowed_metrics\",ei=\"$session_recording_remote_config\",ri=\"$sesid\",si=\"$session_is_sampled\",ni=\"$enabled_feature_flags\",oi=\"$early_access_features\",ai=\"$feature_flag_details\",li=\"$stored_person_properties\",ui=\"$stored_group_properties\",hi=\"$surveys\",di=\"$surveys_activated\",vi=\"$flag_call_reported\",ci=\"$user_state\",fi=\"$client_session_props\",pi=\"$capture_rate_limit\",gi=\"$initial_campaign_params\",_i=\"$initial_referrer_info\",mi=\"$initial_person_info\",yi=\"$epp\",bi=\"__POSTHOG_TOOLBAR__\",wi=\"$posthog_cookieless\",xi=[Wt,Gt,\"__cmpns\",Vt,\"$session_recording_enabled_server_side\",Kt,ri,ni,Xt,ci,oi,ai,ui,li,hi,vi,fi,pi,gi,_i,yi,mi];function Si(t){return t instanceof Element&&(t.id===bi||!(null==t.closest||!t.closest(\".toolbar-global-fade-container\")))}function Ei(t){return!!t&&1===t.nodeType}function $i(t,i){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===i.toLowerCase()}function ki(t){return!!t&&3===t.nodeType}function Pi(t){return!!t&&11===t.nodeType}function Ti(t){return t?x(t).split(/\\s+/):[]}function Ii(i){var e=null==t?void 0:t.location.href;return!!(e&&i&&i.some((t=>e.match(t))))}function Ri(t){var i=\"\";switch(typeof t.className){case\"string\":i=t.className;break;case\"object\":i=(t.className&&\"baseVal\"in t.className?t.className.baseVal:null)||t.getAttribute(\"class\")||\"\";break;default:i=\"\"}return Ti(i)}function Fi(t){return j(t)?null:x(t).split(/(\\s+)/).filter((t=>Qi(t))).join(\"\").replace(/[\\r\\n]/g,\" \").replace(/[ ]+/g,\" \").substring(0,255)}function Ci(t){var i=\"\";return qi(t)&&!Wi(t)&&t.childNodes&&t.childNodes.length&&Mt(t.childNodes,(function(t){var e;ki(t)&&t.textContent&&(i+=null!==(e=Fi(t.textContent))&&void 0!==e?e:\"\")})),x(i)}function Mi(t){return M(t.target)?t.srcElement||null:null!=(i=t.target)&&i.shadowRoot?t.composedPath()[0]||null:t.target||null;var i}var Oi=[\"a\",\"button\",\"form\",\"input\",\"select\",\"textarea\",\"label\"];function Ai(t,i){if(M(i))return!0;var e,r=function(t){if(i.some((i=>t.matches(i))))return{v:!0}};for(var s of t)if(e=r(s))return e.v;return!1}function Di(t){var i=t.parentNode;return!(!i||!Ei(i))&&i}var ji=[\"next\",\"previous\",\"prev\",\">\",\"<\"],Li=10;var Ni=[\".ph-no-rageclick\",\".ph-no-capture\"];function Ui(i,e){if(!t||zi(i))return!1;var r,s,n;N(e)?(r=!!e&&Ni,s=void 0):(r=null!==(n=null==e?void 0:e.css_selector_ignorelist)&&void 0!==n?n:Ni,s=null==e?void 0:e.content_ignorelist);if(!1===r)return!1;var{targetElementList:o}=Hi(i,!1);return!function(t,i){if(!1===t||M(t))return!1;var e;if(!0===t)e=ji;else{if(!I(t))return!1;if(t.length>Li)return Pt.error(\"[PostHog] content_ignorelist array cannot exceed \"+Li+\" items. Use css_selector_ignorelist for more complex matching.\"),!1;e=t.map((t=>t.toLowerCase()))}return i.some((t=>{var{safeText:i,ariaLabel:r}=t;return e.some((t=>i.includes(t)||r.includes(t)))}))}(s,o.map((t=>{var i;return{safeText:Ci(t).toLowerCase(),ariaLabel:(null==(i=t.getAttribute(\"aria-label\"))?void 0:i.toLowerCase().trim())||\"\"}})))&&!Ai(o,r)}var zi=t=>!t||$i(t,\"html\")||!Ei(t),Hi=(i,e)=>{if(!t||zi(i))return{parentIsUsefulElement:!1,targetElementList:[]};for(var r=!1,s=[i],n=i;n.parentNode&&!$i(n,\"body\");)if(Pi(n.parentNode))s.push(n.parentNode.host),n=n.parentNode.host;else{var o=Di(n);if(!o)break;if(e||Oi.indexOf(o.tagName.toLowerCase())>-1)r=!0;else{var a=t.getComputedStyle(o);a&&\"pointer\"===a.getPropertyValue(\"cursor\")&&(r=!0)}s.push(o),n=o}return{parentIsUsefulElement:r,targetElementList:s}};function Bi(i,e,r,s,n){var o,a,l,u;if(void 0===r&&(r=void 0),!t||zi(i))return!1;if(null!=(o=r)&&o.url_allowlist&&!Ii(r.url_allowlist))return!1;if(null!=(a=r)&&a.url_ignorelist&&Ii(r.url_ignorelist))return!1;if(null!=(l=r)&&l.dom_event_allowlist){var h=r.dom_event_allowlist;if(h&&!h.some((t=>e.type===t)))return!1}var{parentIsUsefulElement:d,targetElementList:v}=Hi(i,s);if(!function(t,i){var e=null==i?void 0:i.element_allowlist;if(M(e))return!0;var r,s=function(t){if(e.some((i=>t.tagName.toLowerCase()===i)))return{v:!0}};for(var n of t)if(r=s(n))return r.v;return!1}(v,r))return!1;if(!Ai(v,null==(u=r)?void 0:u.css_selector_allowlist))return!1;var c=t.getComputedStyle(i);if(c&&\"pointer\"===c.getPropertyValue(\"cursor\")&&\"click\"===e.type)return!0;var f=i.tagName.toLowerCase();switch(f){case\"html\":return!1;case\"form\":return(n||[\"submit\"]).indexOf(e.type)>=0;case\"input\":case\"select\":case\"textarea\":return(n||[\"change\",\"click\"]).indexOf(e.type)>=0;default:return d?(n||[\"click\"]).indexOf(e.type)>=0:(n||[\"click\"]).indexOf(e.type)>=0&&(Oi.indexOf(f)>-1||\"true\"===i.getAttribute(\"contenteditable\"))}}function qi(t){for(var i=t;i.parentNode&&!$i(i,\"body\");i=i.parentNode){var e=Ri(i);if(w(e,\"ph-sensitive\")||w(e,\"ph-no-capture\"))return!1}if(w(Ri(t),\"ph-include\"))return!0;var r=t.type||\"\";if(O(r))switch(r.toLowerCase()){case\"hidden\":case\"password\":return!1}var s=t.name||t.id||\"\";if(O(s)){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(s.replace(/[^a-zA-Z0-9]/g,\"\")))return!1}return!0}function Wi(t){return!!($i(t,\"input\")&&![\"button\",\"checkbox\",\"submit\",\"reset\"].includes(t.type)||$i(t,\"select\")||$i(t,\"textarea\")||\"true\"===t.getAttribute(\"contenteditable\"))}var Gi=\"(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})\",Vi=new RegExp(\"^(?:\"+Gi+\")$\"),Ji=new RegExp(Gi),Ki=\"\\\\d{3}-?\\\\d{2}-?\\\\d{4}\",Yi=new RegExp(\"^(\"+Ki+\")$\"),Xi=new RegExp(\"(\"+Ki+\")\");function Qi(t,i){if(void 0===i&&(i=!0),j(t))return!1;if(O(t)){if(t=x(t),(i?Vi:Ji).test((t||\"\").replace(/[- ]/g,\"\")))return!1;if((i?Yi:Xi).test(t))return!1}return!0}function Zi(t){var i=Ci(t);return Qi(i=(i+\" \"+te(t)).trim())?i:\"\"}function te(t){var i=\"\";return t&&t.childNodes&&t.childNodes.length&&Mt(t.childNodes,(function(t){var e;if(t&&\"span\"===(null==(e=t.tagName)?void 0:e.toLowerCase()))try{var r=Ci(t);i=(i+\" \"+r).trim(),t.childNodes&&t.childNodes.length&&(i=(i+\" \"+te(t)).trim())}catch(t){Pt.error(\"[AutoCapture]\",t)}})),i}function ie(t){return function(t){var i=t.map((t=>{var i,e,r=\"\";if(t.tag_name&&(r+=t.tag_name),t.attr_class)for(var s of(t.attr_class.sort(),t.attr_class))r+=\".\"+s.replace(/\"/g,\"\");var n=g({},t.text?{text:t.text}:{},{\"nth-child\":null!==(i=t.nth_child)&&void 0!==i?i:0,\"nth-of-type\":null!==(e=t.nth_of_type)&&void 0!==e?e:0},t.href?{href:t.href}:{},t.attr_id?{attr_id:t.attr_id}:{},t.attributes),o={};return Dt(n).sort(((t,i)=>{var[e]=t,[r]=i;return e.localeCompare(r)})).forEach((t=>{var[i,e]=t;return o[ee(i.toString())]=ee(e.toString())})),r+=\":\",r+=Dt(o).map((t=>{var[i,e]=t;return i+'=\"'+e+'\"'})).join(\"\")}));return i.join(\";\")}(function(t){return t.map((t=>{var i,e,r={text:null==(i=t.$el_text)?void 0:i.slice(0,400),tag_name:t.tag_name,href:null==(e=t.attr__href)?void 0:e.slice(0,2048),attr_class:re(t),attr_id:t.attr__id,nth_child:t.nth_child,nth_of_type:t.nth_of_type,attributes:{}};return Dt(t).filter((t=>{var[i]=t;return 0===i.indexOf(\"attr__\")})).forEach((t=>{var[i,e]=t;return r.attributes[i]=e})),r}))}(t))}function ee(t){return t.replace(/\"|\\\\\"/g,'\\\\\"')}function re(t){var i=t.attr__class;return i?I(i)?i:Ti(i):void 0}class se{constructor(t){this.disabled=!1===t;var i=F(t)?t:{};this.thresholdPx=i.threshold_px||30,this.timeoutMs=i.timeout_ms||1e3,this.clickCount=i.click_count||3,this.clicks=[]}isRageClick(t,i,e){if(this.disabled)return!1;var r=this.clicks[this.clicks.length-1];if(r&&Math.abs(t-r.x)+Math.abs(i-r.y)<this.thresholdPx&&e-r.timestamp<this.timeoutMs){if(this.clicks.push({x:t,y:i,timestamp:e}),this.clicks.length===this.clickCount)return!0}else this.clicks=[{x:t,y:i,timestamp:e}];return!1}}var ne=\"$copy_autocapture\",oe=function(t){return t.GZipJS=\"gzip-js\",t.Base64=\"base64\",t}({}),ae=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"],le=t=>{var i=null==o?void 0:o.createElement(\"a\");return M(i)?null:(i.href=t,i)},ue=function(t,i){var e,r;void 0===i&&(i=\"&\");var s=[];return Mt(t,(function(t,i){M(t)||M(i)||\"undefined\"===i||(e=encodeURIComponent((t=>t instanceof File)(t)?t.name:t.toString()),r=encodeURIComponent(i),s[s.length]=r+\"=\"+e)})),s.join(i)},he=function(t,i){for(var e,r=((t.split(\"#\")[0]||\"\").split(/\\?(.*)/)[1]||\"\").replace(/^\\?+/g,\"\").split(\"&\"),s=0;s<r.length;s++){var n=r[s].split(\"=\");if(n[0]===i){e=n;break}}if(!I(e)||e.length<2)return\"\";var o=e[1];try{o=decodeURIComponent(o)}catch(t){Pt.error(\"Skipping decoding for malformed query param: \"+o)}return o.replace(/\\+/g,\" \")},de=function(t,i,e){if(!t||!i||!i.length)return t;for(var r=t.split(\"#\"),s=r[0]||\"\",n=r[1],o=s.split(\"?\"),a=o[1],l=o[0],u=(a||\"\").split(\"&\"),h=[],d=0;d<u.length;d++){var v=u[d].split(\"=\");I(v)&&(i.includes(v[0])?h.push(v[0]+\"=\"+e):h.push(u[d]))}var c=l;return null!=a&&(c+=\"?\"+h.join(\"&\")),null!=n&&(c+=\"#\"+n),c},ve=function(t,i){var e=t.match(new RegExp(i+\"=([^&]*)\"));return e?e[1]:null},ce=Tt(\"[AutoCapture]\");function fe(t,i){return i.length>t?i.slice(0,t)+\"...\":i}function pe(t){if(t.previousElementSibling)return t.previousElementSibling;var i=t;do{i=i.previousSibling}while(i&&!Ei(i));return i}function ge(t,i,e,r){var s=t.tagName.toLowerCase(),n={tag_name:s};Oi.indexOf(s)>-1&&!e&&(\"a\"===s.toLowerCase()||\"button\"===s.toLowerCase()?n.$el_text=fe(1024,Zi(t)):n.$el_text=fe(1024,Ci(t)));var o=Ri(t);o.length>0&&(n.classes=o.filter((function(t){return\"\"!==t}))),Mt(t.attributes,(function(e){var s;if((!Wi(t)||-1!==[\"name\",\"id\",\"class\",\"aria-label\"].indexOf(e.name))&&((null==r||!r.includes(e.name))&&!i&&Qi(e.value)&&(s=e.name,!O(s)||\"_ngcontent\"!==s.substring(0,10)&&\"_nghost\"!==s.substring(0,7)))){var o=e.value;\"class\"===e.name&&(o=Ti(o).join(\" \")),n[\"attr__\"+e.name]=fe(1024,o)}}));for(var a=1,l=1,u=t;u=pe(u);)a++,u.tagName===t.tagName&&l++;return n.nth_child=a,n.nth_of_type=l,n}function _e(i,e){for(var r,s,{e:n,maskAllElementAttributes:o,maskAllText:a,elementAttributeIgnoreList:l,elementsChainAsString:u}=e,h=[i],d=i;d.parentNode&&!$i(d,\"body\");)Pi(d.parentNode)?(h.push(d.parentNode.host),d=d.parentNode.host):(h.push(d.parentNode),d=d.parentNode);var v,c=[],f={},p=!1,g=!1;if(Mt(h,(t=>{var i=qi(t);\"a\"===t.tagName.toLowerCase()&&(p=t.getAttribute(\"href\"),p=i&&p&&Qi(p)&&p),w(Ri(t),\"ph-no-capture\")&&(g=!0),c.push(ge(t,o,a,l));var e=function(t){if(!qi(t))return{};var i={};return Mt(t.attributes,(function(t){if(t.name&&0===t.name.indexOf(\"data-ph-capture-attribute\")){var e=t.name.replace(\"data-ph-capture-attribute-\",\"\"),r=t.value;e&&r&&Qi(r)&&(i[e]=r)}})),i}(t);Ot(f,e)})),g)return{props:{},explicitNoCapture:g};if(a||(\"a\"===i.tagName.toLowerCase()||\"button\"===i.tagName.toLowerCase()?c[0].$el_text=Zi(i):c[0].$el_text=Ci(i)),p){var _,m;c[0].attr__href=p;var y=null==(_=le(p))?void 0:_.host,b=null==t||null==(m=t.location)?void 0:m.host;y&&b&&y!==b&&(v=p)}return{props:Ot({$event_type:n.type,$ce_version:1},u?{}:{$elements:c},{$elements_chain:ie(c)},null!=(r=c[0])&&r.$el_text?{$el_text:null==(s=c[0])?void 0:s.$el_text}:{},v&&\"click\"===n.type?{$external_click_url:v}:{},f)}}class me{constructor(t){this.P=!1,this.T=null,this.I=!1,this.instance=t,this.rageclicks=new se(t.config.rageclick),this.R=null}get F(){var t,i,e=F(this.instance.config.autocapture)?this.instance.config.autocapture:{};return e.url_allowlist=null==(t=e.url_allowlist)?void 0:t.map((t=>new RegExp(t))),e.url_ignorelist=null==(i=e.url_ignorelist)?void 0:i.map((t=>new RegExp(t))),e}C(){if(this.isBrowserSupported()){if(t&&o){var i=i=>{i=i||(null==t?void 0:t.event);try{this.M(i)}catch(t){ce.error(\"Failed to capture event\",t)}};if(qt(o,\"submit\",i,{capture:!0}),qt(o,\"change\",i,{capture:!0}),qt(o,\"click\",i,{capture:!0}),this.F.capture_copied_text){var e=i=>{i=i||(null==t?void 0:t.event),this.M(i,ne)};qt(o,\"copy\",e,{capture:!0}),qt(o,\"cut\",e,{capture:!0})}}}else ce.info(\"Disabling Automatic Event Collection because this browser is not supported\")}startIfEnabled(){this.isEnabled&&!this.P&&(this.C(),this.P=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.I=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[Jt]:!!t.autocapture_opt_out}),this.T=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.R=t}getElementSelectors(t){var i,e=[];return null==(i=this.R)||i.forEach((i=>{var r=null==o?void 0:o.querySelectorAll(i);null==r||r.forEach((r=>{t===r&&e.push(i)}))})),e}get isEnabled(){var t,i,e=null==(t=this.instance.persistence)?void 0:t.props[Jt],r=this.T;if(D(r)&&!N(e)&&!this.instance.O())return!1;var s=null!==(i=this.T)&&void 0!==i?i:!!e;return!!this.instance.config.autocapture&&!s}M(i,e){if(void 0===e&&(e=\"$autocapture\"),this.isEnabled){var r,s=Mi(i);if(ki(s)&&(s=s.parentNode||null),\"$autocapture\"===e&&\"click\"===i.type&&i instanceof MouseEvent)this.instance.config.rageclick&&null!=(r=this.rageclicks)&&r.isRageClick(i.clientX,i.clientY,i.timeStamp||(new Date).getTime())&&Ui(s,this.instance.config.rageclick)&&this.M(i,\"$rageclick\");var n=e===ne;if(s&&Bi(s,i,this.F,n,n?[\"copy\",\"cut\"]:void 0)){var{props:o,explicitNoCapture:a}=_e(s,{e:i,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.F.element_attribute_ignorelist,elementsChainAsString:this.I});if(a)return!1;var l=this.getElementSelectors(s);if(l&&l.length>0&&(o.$element_selectors=l),e===ne){var u,h=Fi(null==t||null==(u=t.getSelection())?void 0:u.toString()),d=i.type||\"clipboard\";if(!h)return!1;o.$selected_content=h,o.$copy_type=d}return this.instance.capture(e,o),!0}}}isBrowserSupported(){return R(null==o?void 0:o.querySelectorAll)}}Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return L(t)&&isFinite(t)&&Math.floor(t)===t});var ye=\"0123456789abcdef\";class be{constructor(t){if(this.bytes=t,16!==t.length)throw new TypeError(\"not 128-bit length\")}static fromFieldsV7(t,i,e,r){if(!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(e)||!Number.isInteger(r)||t<0||i<0||e<0||r<0||t>0xffffffffffff||i>4095||e>1073741823||r>4294967295)throw new RangeError(\"invalid field value\");var s=new Uint8Array(16);return s[0]=t/Math.pow(2,40),s[1]=t/Math.pow(2,32),s[2]=t/Math.pow(2,24),s[3]=t/Math.pow(2,16),s[4]=t/Math.pow(2,8),s[5]=t,s[6]=112|i>>>8,s[7]=i,s[8]=128|e>>>24,s[9]=e>>>16,s[10]=e>>>8,s[11]=e,s[12]=r>>>24,s[13]=r>>>16,s[14]=r>>>8,s[15]=r,new be(s)}toString(){for(var t=\"\",i=0;i<this.bytes.length;i++)t=t+ye.charAt(this.bytes[i]>>>4)+ye.charAt(15&this.bytes[i]),3!==i&&5!==i&&7!==i&&9!==i||(t+=\"-\");if(36!==t.length)throw new Error(\"Invalid UUIDv7 was generated\");return t}clone(){return new be(this.bytes.slice(0))}equals(t){return 0===this.compareTo(t)}compareTo(t){for(var i=0;i<16;i++){var e=this.bytes[i]-t.bytes[i];if(0!==e)return Math.sign(e)}return 0}}class we{constructor(){this.A=0,this.D=0,this.j=new Ee}generate(){var t=this.generateOrAbort();if(M(t)){this.A=0;var i=this.generateOrAbort();if(M(i))throw new Error(\"Could not generate UUID after timestamp reset\");return i}return t}generateOrAbort(){var t=Date.now();if(t>this.A)this.A=t,this.L();else{if(!(t+1e4>this.A))return;this.D++,this.D>4398046511103&&(this.A++,this.L())}return be.fromFieldsV7(this.A,Math.trunc(this.D/Math.pow(2,30)),this.D&Math.pow(2,30)-1,this.j.nextUint32())}L(){this.D=1024*this.j.nextUint32()+(1023&this.j.nextUint32())}}var xe,Se=t=>{if(\"undefined\"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error(\"no cryptographically strong RNG available\");for(var i=0;i<t.length;i++)t[i]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};t&&!M(t.crypto)&&crypto.getRandomValues&&(Se=t=>crypto.getRandomValues(t));class Ee{constructor(){this.N=new Uint32Array(8),this.U=1/0}nextUint32(){return this.U>=this.N.length&&(Se(this.N),this.U=0),this.N[this.U++]}}var $e=()=>ke().toString(),ke=()=>(xe||(xe=new we)).generate(),Pe=\"\";var Te=/[a-z0-9][a-z0-9-]+\\.[a-z]{2,}$/i;function Ie(t,i){if(i){var e=function(t,i){if(void 0===i&&(i=o),Pe)return Pe;if(!i)return\"\";if([\"localhost\",\"127.0.0.1\"].includes(t))return\"\";for(var e=t.split(\".\"),r=Math.min(e.length,8),s=\"dmn_chk_\"+$e();!Pe&&r--;){var n=e.slice(r).join(\".\"),a=s+\"=1;domain=.\"+n+\";path=/\";i.cookie=a+\";max-age=3\",i.cookie.includes(s)&&(i.cookie=a+\";max-age=0\",Pe=n)}return Pe}(t);if(!e){var r=(t=>{var i=t.match(Te);return i?i[0]:\"\"})(t);r!==e&&Pt.info(\"Warning: cookie subdomain discovery mismatch\",r,e),e=r}return e?\"; domain=.\"+e:\"\"}return\"\"}var Re={H:()=>!!o,B:function(t){Pt.error(\"cookieStore error: \"+t)},q:function(t){if(o){try{for(var i=t+\"=\",e=o.cookie.split(\";\").filter((t=>t.length)),r=0;r<e.length;r++){for(var s=e[r];\" \"==s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(i))return decodeURIComponent(s.substring(i.length,s.length))}}catch(t){}return null}},W:function(t){var i;try{i=JSON.parse(Re.q(t))||{}}catch(t){}return i},G:function(t,i,e,r,s){if(o)try{var n=\"\",a=\"\",l=Ie(o.location.hostname,r);if(e){var u=new Date;u.setTime(u.getTime()+24*e*60*60*1e3),n=\"; expires=\"+u.toUTCString()}s&&(a=\"; secure\");var h=t+\"=\"+encodeURIComponent(JSON.stringify(i))+n+\"; SameSite=Lax; path=/\"+l+a;return h.length>3686.4&&Pt.warn(\"cookieStore warning: large cookie, len=\"+h.length),o.cookie=h,h}catch(t){return}},V:function(t,i){if(null!=o&&o.cookie)try{Re.G(t,\"\",-1,i)}catch(t){return}}},Fe=null,Ce={H:function(){if(!D(Fe))return Fe;var i=!0;if(M(t))i=!1;else try{var e=\"__mplssupport__\";Ce.G(e,\"xyz\"),'\"xyz\"'!==Ce.q(e)&&(i=!1),Ce.V(e)}catch(t){i=!1}return i||Pt.error(\"localStorage unsupported; falling back to cookie store\"),Fe=i,i},B:function(t){Pt.error(\"localStorage error: \"+t)},q:function(i){try{return null==t?void 0:t.localStorage.getItem(i)}catch(t){Ce.B(t)}return null},W:function(t){try{return JSON.parse(Ce.q(t))||{}}catch(t){}return null},G:function(i,e){try{null==t||t.localStorage.setItem(i,JSON.stringify(e))}catch(t){Ce.B(t)}},V:function(i){try{null==t||t.localStorage.removeItem(i)}catch(t){Ce.B(t)}}},Me=[\"distinct_id\",ri,si,yi,mi],Oe=g({},Ce,{W:function(t){try{var i={};try{i=Re.W(t)||{}}catch(t){}var e=Ot(i,JSON.parse(Ce.q(t)||\"{}\"));return Ce.G(t,e),e}catch(t){}return null},G:function(t,i,e,r,s,n){try{Ce.G(t,i,void 0,void 0,n);var o={};Me.forEach((t=>{i[t]&&(o[t]=i[t])})),Object.keys(o).length&&Re.G(t,o,e,r,s,n)}catch(t){Ce.B(t)}},V:function(i,e){try{null==t||t.localStorage.removeItem(i),Re.V(i,e)}catch(t){Ce.B(t)}}}),Ae={},De={H:function(){return!0},B:function(t){Pt.error(\"memoryStorage error: \"+t)},q:function(t){return Ae[t]||null},W:function(t){return Ae[t]||null},G:function(t,i){Ae[t]=i},V:function(t){delete Ae[t]}},je=null,Le={H:function(){if(!D(je))return je;if(je=!0,M(t))je=!1;else try{var i=\"__support__\";Le.G(i,\"xyz\"),'\"xyz\"'!==Le.q(i)&&(je=!1),Le.V(i)}catch(t){je=!1}return je},B:function(t){Pt.error(\"sessionStorage error: \",t)},q:function(i){try{return null==t?void 0:t.sessionStorage.getItem(i)}catch(t){Le.B(t)}return null},W:function(t){try{return JSON.parse(Le.q(t))||null}catch(t){}return null},G:function(i,e){try{null==t||t.sessionStorage.setItem(i,JSON.stringify(e))}catch(t){Le.B(t)}},V:function(i){try{null==t||t.sessionStorage.removeItem(i)}catch(t){Le.B(t)}}},Ne=function(t){return t[t.PENDING=-1]=\"PENDING\",t[t.DENIED=0]=\"DENIED\",t[t.GRANTED=1]=\"GRANTED\",t}({});class Ue{constructor(t){this._instance=t}get F(){return this._instance.config}get consent(){return this.J()?Ne.DENIED:this.K}isOptedOut(){return\"always\"===this.F.cookieless_mode||(this.consent===Ne.DENIED||this.consent===Ne.PENDING&&(this.F.opt_out_capturing_by_default||\"on_reject\"===this.F.cookieless_mode))}isOptedIn(){return!this.isOptedOut()}isExplicitlyOptedOut(){return this.consent===Ne.DENIED}optInOut(t){this.Y.G(this.X,t?1:0,this.F.cookie_expiration,this.F.cross_subdomain_cookie,this.F.secure_cookie)}reset(){this.Y.V(this.X,this.F.cross_subdomain_cookie)}get X(){var{token:t,opt_out_capturing_cookie_prefix:i,consent_persistence_name:e}=this._instance.config;return e||(i?i+t:\"__ph_opt_in_out_\"+t)}get K(){var t=this.Y.q(this.X);return G(t)?Ne.GRANTED:w(V,t)?Ne.DENIED:Ne.PENDING}get Y(){if(!this.Z){var t=this.F.opt_out_capturing_persistence_type;this.Z=\"localStorage\"===t?Ce:Re;var i=\"localStorage\"===t?Re:Ce;i.q(this.X)&&(this.Z.q(this.X)||this.optInOut(G(i.q(this.X))),i.V(this.X,this.F.cross_subdomain_cookie))}return this.Z}J(){return!!this.F.respect_dnt&&!!Bt([null==n?void 0:n.doNotTrack,null==n?void 0:n.msDoNotTrack,v.doNotTrack],(t=>G(t)))}}var ze=Tt(\"[Dead Clicks]\"),He=()=>!0,Be=t=>{var i,e=!(null==(i=t.instance.persistence)||!i.get_property(ti)),r=t.instance.config.capture_dead_clicks;return N(r)?r:e};class qe{get lazyLoadedDeadClicksAutocapture(){return this.tt}constructor(t,i,e){this.instance=t,this.isEnabled=i,this.onCapture=e,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[ti]:null==t?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.it((()=>{this.et()}))}it(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.initDeadClicksAutocapture&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this.instance,\"dead-clicks-autocapture\",(i=>{i?ze.error(\"failed to load script\",i):t()}))}et(){var t;if(o){if(!this.tt&&null!=(t=v.__PosthogExtensions__)&&t.initDeadClicksAutocapture){var i=F(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};i.__onCapture=this.onCapture,this.tt=v.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,i),this.tt.start(o),ze.info(\"starting...\")}}else ze.error(\"`document` not found. Cannot start.\")}stop(){this.tt&&(this.tt.stop(),this.tt=void 0,ze.info(\"stopping...\"))}}var We=Tt(\"[ExceptionAutocapture]\");class Ge{constructor(i){var e,r,s;this.rt=()=>{var i;if(t&&this.isEnabled&&null!=(i=v.__PosthogExtensions__)&&i.errorWrappingFunctions){var e=v.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,r=v.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,s=v.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.st&&this.F.capture_unhandled_errors&&(this.st=e(this.captureException.bind(this))),!this.nt&&this.F.capture_unhandled_rejections&&(this.nt=r(this.captureException.bind(this))),!this.ot&&this.F.capture_console_errors&&(this.ot=s(this.captureException.bind(this)))}catch(t){We.error(\"failed to start\",t),this.lt()}}},this._instance=i,this.ut=!(null==(e=this._instance.persistence)||!e.props[Yt]),this.F=this.ht(),this.dt=new K({refillRate:null!==(r=this._instance.config.error_tracking.__exceptionRateLimiterRefillRate)&&void 0!==r?r:1,bucketSize:null!==(s=this._instance.config.error_tracking.__exceptionRateLimiterBucketSize)&&void 0!==s?s:10,refillInterval:1e4,h:We}),this.startIfEnabled()}ht(){var t=this._instance.config.capture_exceptions,i={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return F(t)?i=g({},i,t):(M(t)?this.ut:t)&&(i=g({},i,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),i}get isEnabled(){return this.F.capture_console_errors||this.F.capture_unhandled_errors||this.F.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(We.info(\"enabled\"),this.it(this.rt))}it(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.errorWrappingFunctions&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"exception-autocapture\",(i=>{if(i)return We.error(\"failed to load script\",i);t()}))}lt(){var t,i,e;null==(t=this.st)||t.call(this),this.st=void 0,null==(i=this.nt)||i.call(this),this.nt=void 0,null==(e=this.ot)||e.call(this),this.ot=void 0}onRemoteConfig(t){var i=t.autocaptureExceptions;this.ut=!!i||!1,this.F=this.ht(),this._instance.persistence&&this._instance.persistence.register({[Yt]:this.ut}),this.startIfEnabled()}captureException(t){var i,e,r=null!==(i=null==t||null==(e=t.$exception_list)||null==(e=e[0])?void 0:e.type)&&void 0!==i?i:\"Exception\";this.dt.consumeRateLimit(r)?We.info(\"Skipping exception capture because of client rate limiting.\",{exception:r}):this._instance.exceptions.sendExceptionEvent(t)}}function Ve(t,i,e){try{if(!(i in t))return()=>{};var r=t[i],s=e(r);return R(s)&&(s.prototype=s.prototype||{},Object.defineProperties(s,{__posthog_wrapped__:{enumerable:!1,value:!0}})),t[i]=s,()=>{t[i]=r}}catch(t){return()=>{}}}class Je{constructor(i){var e;this._instance=i,this.vt=(null==t||null==(e=t.location)?void 0:e.pathname)||\"\"}get isEnabled(){return\"history_change\"===this._instance.config.capture_pageview}startIfEnabled(){this.isEnabled&&(Pt.info(\"History API monitoring enabled, starting...\"),this.monitorHistoryChanges())}stop(){this.ct&&this.ct(),this.ct=void 0,Pt.info(\"History API monitoring stopped\")}monitorHistoryChanges(){var i,e;if(t&&t.history){var r=this;null!=(i=t.history.pushState)&&i.__posthog_wrapped__||Ve(t.history,\"pushState\",(t=>function(i,e,s){t.call(this,i,e,s),r.ft(\"pushState\")})),null!=(e=t.history.replaceState)&&e.__posthog_wrapped__||Ve(t.history,\"replaceState\",(t=>function(i,e,s){t.call(this,i,e,s),r.ft(\"replaceState\")})),this.gt()}}ft(i){try{var e,r=null==t||null==(e=t.location)?void 0:e.pathname;if(!r)return;r!==this.vt&&this.isEnabled&&this._instance.capture(\"$pageview\",{navigation_type:i}),this.vt=r}catch(t){Pt.error(\"Error capturing \"+i+\" pageview\",t)}}gt(){if(!this.ct){var i=()=>{this.ft(\"popstate\")};qt(t,\"popstate\",i),this.ct=()=>{t&&t.removeEventListener(\"popstate\",i)}}}}var Ke=Tt(\"[SegmentIntegration]\");function Ye(t,i){var e=t.config.segment;if(!e)return i();!function(t,i){var e=t.config.segment;if(!e)return i();var r=e=>{var r=()=>e.anonymousId()||$e();t.config.get_device_id=r,e.id()&&(t.register({distinct_id:e.id(),$device_id:r()}),t.persistence.set_property(ci,\"identified\")),i()},s=e.user();\"then\"in s&&R(s.then)?s.then((t=>r(t))):r(s)}(t,(()=>{e.register((t=>{Promise&&Promise.resolve||Ke.warn(\"This browser does not have Promise support, and can not use the segment integration\");var i=(i,e)=>{if(!e)return i;i.event.userId||i.event.anonymousId===t.get_distinct_id()||(Ke.info(\"No userId set, resetting PostHog\"),t.reset()),i.event.userId&&i.event.userId!==t.get_distinct_id()&&(Ke.info(\"UserId set, identifying with PostHog\"),t.identify(i.event.userId));var r=t.calculateEventProperties(e,i.event.properties);return i.event.properties=Object.assign({},r,i.event.properties),i};return{name:\"PostHog JS\",type:\"enrichment\",version:\"1.0.0\",isLoaded:()=>!0,load:()=>Promise.resolve(),track:t=>i(t,t.event.event),page:t=>i(t,\"$pageview\"),identify:t=>i(t,\"$identify\"),screen:t=>i(t,\"$screen\")}})(t)).then((()=>{i()}))}))}var Xe=\"posthog-js\";function Qe(t,i){var{organization:e,projectId:r,prefix:s,severityAllowList:n=[\"error\"],sendExceptionsToPostHog:o=!0}=void 0===i?{}:i;return i=>{var a,l,u,h,d;if(!(\"*\"===n||n.includes(i.level))||!t.__loaded)return i;i.tags||(i.tags={});var v=t.requestRouter.endpointFor(\"ui\",\"/project/\"+t.config.token+\"/person/\"+t.get_distinct_id());i.tags[\"PostHog Person URL\"]=v,t.sessionRecordingStarted()&&(i.tags[\"PostHog Recording URL\"]=t.get_session_replay_url({withTimestamp:!0}));var c=(null==(a=i.exception)?void 0:a.values)||[],f=c.map((t=>g({},t,{stacktrace:t.stacktrace?g({},t.stacktrace,{type:\"raw\",frames:(t.stacktrace.frames||[]).map((t=>g({},t,{platform:\"web:javascript\"})))}):void 0}))),p={$exception_message:(null==(l=c[0])?void 0:l.value)||i.message,$exception_type:null==(u=c[0])?void 0:u.type,$exception_level:i.level,$exception_list:f,$sentry_event_id:i.event_id,$sentry_exception:i.exception,$sentry_exception_message:(null==(h=c[0])?void 0:h.value)||i.message,$sentry_exception_type:null==(d=c[0])?void 0:d.type,$sentry_tags:i.tags};return e&&r&&(p.$sentry_url=(s||\"https://sentry.io/organizations/\")+e+\"/issues/?project=\"+r+\"&query=\"+i.event_id),o&&t.exceptions.sendExceptionEvent(p),i}}class Ze{constructor(t,i,e,r,s,n){this.name=Xe,this.setupOnce=function(o){o(Qe(t,{organization:i,projectId:e,prefix:r,severityAllowList:s,sendExceptionsToPostHog:null==n||n}))}}}var tr=null!=t&&t.location?ve(t.location.hash,\"__posthog\")||ve(location.hash,\"state\"):null,ir=\"_postHogToolbarParams\",er=Tt(\"[Toolbar]\"),rr=function(t){return t[t.UNINITIALIZED=0]=\"UNINITIALIZED\",t[t.LOADING=1]=\"LOADING\",t[t.LOADED=2]=\"LOADED\",t}(rr||{});class sr{constructor(t){this.instance=t}_t(t){v.ph_toolbar_state=t}yt(){var t;return null!==(t=v.ph_toolbar_state)&&void 0!==t?t:rr.UNINITIALIZED}maybeLoadToolbar(i,e,r){if(void 0===i&&(i=void 0),void 0===e&&(e=void 0),void 0===r&&(r=void 0),!t||!o)return!1;i=null!=i?i:t.location,r=null!=r?r:t.history;try{if(!e){try{t.localStorage.setItem(\"test\",\"test\"),t.localStorage.removeItem(\"test\")}catch(t){return!1}e=null==t?void 0:t.localStorage}var s,n=tr||ve(i.hash,\"__posthog\")||ve(i.hash,\"state\"),a=n?jt((()=>JSON.parse(atob(decodeURIComponent(n)))))||jt((()=>JSON.parse(decodeURIComponent(n)))):null;return a&&\"ph_authorize\"===a.action?((s=a).source=\"url\",s&&Object.keys(s).length>0&&(a.desiredHash?i.hash=a.desiredHash:r?r.replaceState(r.state,\"\",i.pathname+i.search):i.hash=\"\")):((s=JSON.parse(e.getItem(ir)||\"{}\")).source=\"localstorage\",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch(t){return!1}}bt(t){var i=v.ph_load_toolbar||v.ph_load_editor;!j(i)&&R(i)?i(t,this.instance):er.warn(\"No toolbar load function found\")}loadToolbar(i){var e=!(null==o||!o.getElementById(bi));if(!t||e)return!1;var r=\"custom\"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,s=g({token:this.instance.config.token},i,{apiURL:this.instance.requestRouter.endpointFor(\"ui\")},r?{instrument:!1}:{});if(t.localStorage.setItem(ir,JSON.stringify(g({},s,{source:void 0}))),this.yt()===rr.LOADED)this.bt(s);else if(this.yt()===rr.UNINITIALIZED){var n;this._t(rr.LOADING),null==(n=v.__PosthogExtensions__)||null==n.loadExternalDependency||n.loadExternalDependency(this.instance,\"toolbar\",(t=>{if(t)return er.error(\"[Toolbar] Failed to load\",t),void this._t(rr.UNINITIALIZED);this._t(rr.LOADED),this.bt(s)})),qt(t,\"turbolinks:load\",(()=>{this._t(rr.UNINITIALIZED),this.loadToolbar(s)}))}return!0}wt(t){return this.loadToolbar(t)}maybeLoadEditor(t,i,e){return void 0===t&&(t=void 0),void 0===i&&(i=void 0),void 0===e&&(e=void 0),this.maybeLoadToolbar(t,i,e)}}var nr=Tt(\"[TracingHeaders]\");class or{constructor(t){this.xt=void 0,this.St=void 0,this.rt=()=>{var t,i;M(this.xt)&&(null==(t=v.__PosthogExtensions__)||null==(t=t.tracingHeadersPatchFns)||t._patchXHR(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager));M(this.St)&&(null==(i=v.__PosthogExtensions__)||null==(i=i.tracingHeadersPatchFns)||i._patchFetch(this._instance.config.__add_tracing_headers||[],this._instance.get_distinct_id(),this._instance.sessionManager))},this._instance=t}it(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.tracingHeadersPatchFns&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"tracing-headers\",(i=>{if(i)return nr.error(\"failed to load script\",i);t()}))}startIfEnabledOrStop(){var t,i;this._instance.config.__add_tracing_headers?this.it(this.rt):(null==(t=this.xt)||t.call(this),null==(i=this.St)||i.call(this),this.xt=void 0,this.St=void 0)}}var ar=\"Mobile\",lr=\"iOS\",ur=\"Android\",hr=\"Tablet\",dr=ur+\" \"+hr,vr=\"iPad\",cr=\"Apple\",fr=cr+\" Watch\",pr=\"Safari\",gr=\"BlackBerry\",_r=\"Samsung\",mr=_r+\"Browser\",yr=_r+\" Internet\",br=\"Chrome\",wr=br+\" OS\",xr=br+\" \"+lr,Sr=\"Internet Explorer\",Er=Sr+\" \"+ar,$r=\"Opera\",kr=$r+\" Mini\",Pr=\"Edge\",Tr=\"Microsoft \"+Pr,Ir=\"Firefox\",Rr=Ir+\" \"+lr,Fr=\"Nintendo\",Cr=\"PlayStation\",Mr=\"Xbox\",Or=ur+\" \"+ar,Ar=ar+\" \"+pr,Dr=\"Windows\",jr=Dr+\" Phone\",Lr=\"Nokia\",Nr=\"Ouya\",Ur=\"Generic\",zr=Ur+\" \"+ar.toLowerCase(),Hr=Ur+\" \"+hr.toLowerCase(),Br=\"Konqueror\",qr=\"(\\\\d+(\\\\.\\\\d+)?)\",Wr=new RegExp(\"Version/\"+qr),Gr=new RegExp(Mr,\"i\"),Vr=new RegExp(Cr+\" \\\\w+\",\"i\"),Jr=new RegExp(Fr+\" \\\\w+\",\"i\"),Kr=new RegExp(gr+\"|PlayBook|BB10\",\"i\"),Yr={\"NT3.51\":\"NT 3.11\",\"NT4.0\":\"NT 4.0\",\"5.0\":\"2000\",5.1:\"XP\",5.2:\"XP\",\"6.0\":\"Vista\",6.1:\"7\",6.2:\"8\",6.3:\"8.1\",6.4:\"10\",\"10.0\":\"10\"};var Xr=(t,i)=>i&&w(i,cr)||function(t){return w(t,pr)&&!w(t,br)&&!w(t,ur)}(t),Qr=function(t,i){return i=i||\"\",w(t,\" OPR/\")&&w(t,\"Mini\")?kr:w(t,\" OPR/\")?$r:Kr.test(t)?gr:w(t,\"IE\"+ar)||w(t,\"WPDesktop\")?Er:w(t,mr)?yr:w(t,Pr)||w(t,\"Edg/\")?Tr:w(t,\"FBIOS\")?\"Facebook \"+ar:w(t,\"UCWEB\")||w(t,\"UCBrowser\")?\"UC Browser\":w(t,\"CriOS\")?xr:w(t,\"CrMo\")||w(t,br)?br:w(t,ur)&&w(t,pr)?Or:w(t,\"FxiOS\")?Rr:w(t.toLowerCase(),Br.toLowerCase())?Br:Xr(t,i)?w(t,ar)?Ar:pr:w(t,Ir)?Ir:w(t,\"MSIE\")||w(t,\"Trident/\")?Sr:w(t,\"Gecko\")?Ir:\"\"},Zr={[Er]:[new RegExp(\"rv:\"+qr)],[Tr]:[new RegExp(Pr+\"?\\\\/\"+qr)],[br]:[new RegExp(\"(\"+br+\"|CrMo)\\\\/\"+qr)],[xr]:[new RegExp(\"CriOS\\\\/\"+qr)],\"UC Browser\":[new RegExp(\"(UCBrowser|UCWEB)\\\\/\"+qr)],[pr]:[Wr],[Ar]:[Wr],[$r]:[new RegExp(\"(Opera|OPR)\\\\/\"+qr)],[Ir]:[new RegExp(Ir+\"\\\\/\"+qr)],[Rr]:[new RegExp(\"FxiOS\\\\/\"+qr)],[Br]:[new RegExp(\"Konqueror[:/]?\"+qr,\"i\")],[gr]:[new RegExp(gr+\" \"+qr),Wr],[Or]:[new RegExp(\"android\\\\s\"+qr,\"i\")],[yr]:[new RegExp(mr+\"\\\\/\"+qr)],[Sr]:[new RegExp(\"(rv:|MSIE )\"+qr)],Mozilla:[new RegExp(\"rv:\"+qr)]},ts=function(t,i){var e=Qr(t,i),r=Zr[e];if(M(r))return null;for(var s=0;s<r.length;s++){var n=r[s],o=t.match(n);if(o)return parseFloat(o[o.length-2])}return null},is=[[new RegExp(Mr+\"; \"+Mr+\" (.*?)[);]\",\"i\"),t=>[Mr,t&&t[1]||\"\"]],[new RegExp(Fr,\"i\"),[Fr,\"\"]],[new RegExp(Cr,\"i\"),[Cr,\"\"]],[Kr,[gr,\"\"]],[new RegExp(Dr,\"i\"),(t,i)=>{if(/Phone/.test(i)||/WPDesktop/.test(i))return[jr,\"\"];if(new RegExp(ar).test(i)&&!/IEMobile\\b/.test(i))return[Dr+\" \"+ar,\"\"];var e=/Windows NT ([0-9.]+)/i.exec(i);if(e&&e[1]){var r=e[1],s=Yr[r]||\"\";return/arm/i.test(i)&&(s=\"RT\"),[Dr,s]}return[Dr,\"\"]}],[/((iPhone|iPad|iPod).*?OS (\\d+)_(\\d+)_?(\\d+)?|iPhone)/,t=>{if(t&&t[3]){var i=[t[3],t[4],t[5]||\"0\"];return[lr,i.join(\".\")]}return[lr,\"\"]}],[/(watch.*\\/(\\d+\\.\\d+\\.\\d+)|watch os,(\\d+\\.\\d+),)/i,t=>{var i=\"\";return t&&t.length>=3&&(i=M(t[2])?t[3]:t[2]),[\"watchOS\",i]}],[new RegExp(\"(\"+ur+\" (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?|\"+ur+\")\",\"i\"),t=>{if(t&&t[2]){var i=[t[2],t[3],t[4]||\"0\"];return[ur,i.join(\".\")]}return[ur,\"\"]}],[/Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i,t=>{var i=[\"Mac OS X\",\"\"];if(t&&t[1]){var e=[t[1],t[2],t[3]||\"0\"];i[1]=e.join(\".\")}return i}],[/Mac/i,[\"Mac OS X\",\"\"]],[/CrOS/,[wr,\"\"]],[/Linux|debian/i,[\"Linux\",\"\"]]],es=function(t){return Jr.test(t)?Fr:Vr.test(t)?Cr:Gr.test(t)?Mr:new RegExp(Nr,\"i\").test(t)?Nr:new RegExp(\"(\"+jr+\"|WPDesktop)\",\"i\").test(t)?jr:/iPad/.test(t)?vr:/iPod/.test(t)?\"iPod Touch\":/iPhone/.test(t)?\"iPhone\":/(watch)(?: ?os[,/]|\\d,\\d\\/)[\\d.]+/i.test(t)?fr:Kr.test(t)?gr:/(kobo)\\s(ereader|touch)/i.test(t)?\"Kobo\":new RegExp(Lr,\"i\").test(t)?Lr:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i.test(t)||/(kf[a-z]+)( bui|\\)).+silk\\//i.test(t)?\"Kindle Fire\":/(Android|ZTE)/i.test(t)?!new RegExp(ar).test(t)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(t)?/pixel[\\daxl ]{1,6}/i.test(t)&&!/pixel c/i.test(t)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(t)||/lmy47v/i.test(t)&&!/QTAQZ3/i.test(t)?ur:dr:ur:new RegExp(\"(pda|\"+ar+\")\",\"i\").test(t)?zr:new RegExp(hr,\"i\").test(t)&&!new RegExp(hr+\" pc\",\"i\").test(t)?Hr:\"\"},rs=\"https?://(.*)\",ss=[\"gclid\",\"gclsrc\",\"dclid\",\"gbraid\",\"wbraid\",\"fbclid\",\"msclkid\",\"twclid\",\"li_fat_id\",\"igshid\",\"ttclid\",\"rdt_cid\",\"epik\",\"qclid\",\"sccid\",\"irclid\",\"_kx\"],ns=At([\"utm_source\",\"utm_medium\",\"utm_campaign\",\"utm_content\",\"utm_term\",\"gad_source\",\"mc_cid\"],ss),os=\"<masked>\",as=[\"li_fat_id\"];function ls(t,i,e){if(!o)return{};var r,s=i?At([],ss,e||[]):[],n=us(de(o.URL,s,os),t),a=(r={},Mt(as,(function(t){var i=Re.q(t);r[t]=i||null})),r);return Ot(a,n)}function us(t,i){var e=ns.concat(i||[]),r={};return Mt(e,(function(i){var e=he(t,i);r[i]=e||null})),r}function hs(t){var i=function(t){return t?0===t.search(rs+\"google.([^/?]*)\")?\"google\":0===t.search(rs+\"bing.com\")?\"bing\":0===t.search(rs+\"yahoo.com\")?\"yahoo\":0===t.search(rs+\"duckduckgo.com\")?\"duckduckgo\":null:null}(t),e=\"yahoo\"!=i?\"q\":\"p\",r={};if(!D(i)){r.$search_engine=i;var s=o?he(o.referrer,e):\"\";s.length&&(r.ph_keyword=s)}return r}function ds(){return navigator.language||navigator.userLanguage}function vs(){return(null==o?void 0:o.referrer)||\"$direct\"}function cs(t,i){var e=t?At([],ss,i||[]):[],r=null==a?void 0:a.href.substring(0,1e3);return{r:vs().substring(0,1e3),u:r?de(r,e,os):void 0}}function fs(t){var i,{r:e,u:r}=t,s={$referrer:e,$referring_domain:null==e?void 0:\"$direct\"==e?\"$direct\":null==(i=le(e))?void 0:i.host};if(r){s.$current_url=r;var n=le(r);s.$host=null==n?void 0:n.host,s.$pathname=null==n?void 0:n.pathname;var o=us(r);Ot(s,o)}if(e){var a=hs(e);Ot(s,a)}return s}function ps(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(t){return}}function gs(){try{return(new Date).getTimezoneOffset()}catch(t){return}}function _s(i,e){if(!d)return{};var r,s,n,o=i?At([],ss,e||[]):[],[l,u]=function(t){for(var i=0;i<is.length;i++){var[e,r]=is[i],s=e.exec(t),n=s&&(R(r)?r(s,t):r);if(n)return n}return[\"\",\"\"]}(d);return Ot(Nt({$os:l,$os_version:u,$browser:Qr(d,navigator.vendor),$device:es(d),$device_type:(s=d,n=es(s),n===vr||n===dr||\"Kobo\"===n||\"Kindle Fire\"===n||n===Hr?hr:n===Fr||n===Mr||n===Cr||n===Nr?\"Console\":n===fr?\"Wearable\":n?ar:\"Desktop\"),$timezone:ps(),$timezone_offset:gs()}),{$current_url:de(null==a?void 0:a.href,o,os),$host:null==a?void 0:a.host,$pathname:null==a?void 0:a.pathname,$raw_user_agent:d.length>1e3?d.substring(0,997)+\"...\":d,$browser_version:ts(d,navigator.vendor),$browser_language:ds(),$browser_language_prefix:(r=ds(),\"string\"==typeof r?r.split(\"-\")[0]:void 0),$screen_height:null==t?void 0:t.screen.height,$screen_width:null==t?void 0:t.screen.width,$viewport_height:null==t?void 0:t.innerHeight,$viewport_width:null==t?void 0:t.innerWidth,$lib:\"web\",$lib_version:c.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var ms=Tt(\"[Web Vitals]\"),ys=9e5;class bs{constructor(t){var i;this.Et=!1,this.P=!1,this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.$t=()=>{clearTimeout(this.kt),0!==this.N.metrics.length&&(this._instance.capture(\"$web_vitals\",this.N.metrics.reduce(((t,i)=>g({},t,{[\"$web_vitals_\"+i.name+\"_event\"]:g({},i),[\"$web_vitals_\"+i.name+\"_value\"]:i.value})),{})),this.N={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Pt=t=>{var i,e=null==(i=this._instance.sessionManager)?void 0:i.checkAndGetSessionAndWindowId(!0);if(M(e))ms.error(\"Could not read session ID. Dropping metrics!\");else{this.N=this.N||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var r=this.Tt();if(!M(r))if(j(null==t?void 0:t.name)||j(null==t?void 0:t.value))ms.error(\"Invalid metric received\",t);else if(this.It&&t.value>=this.It)ms.error(\"Ignoring metric with value >= \"+this.It,t);else this.N.url!==r&&(this.$t(),this.kt=setTimeout(this.$t,this.flushToCaptureTimeoutMs)),M(this.N.url)&&(this.N.url=r),this.N.firstMetricTimestamp=M(this.N.firstMetricTimestamp)?Date.now():this.N.firstMetricTimestamp,t.attribution&&t.attribution.interactionTargetElement&&(t.attribution.interactionTargetElement=void 0),this.N.metrics.push(g({},t,{$current_url:r,$session_id:e.sessionId,$window_id:e.windowId,timestamp:Date.now()})),this.N.metrics.length===this.allowedMetrics.length&&this.$t()}},this.rt=()=>{var t,i,e,r,s=v.__PosthogExtensions__;M(s)||M(s.postHogWebVitalsCallbacks)||({onLCP:t,onCLS:i,onFCP:e,onINP:r}=s.postHogWebVitalsCallbacks),t&&i&&e&&r?(this.allowedMetrics.indexOf(\"LCP\")>-1&&t(this.Pt.bind(this)),this.allowedMetrics.indexOf(\"CLS\")>-1&&i(this.Pt.bind(this)),this.allowedMetrics.indexOf(\"FCP\")>-1&&e(this.Pt.bind(this)),this.allowedMetrics.indexOf(\"INP\")>-1&&r(this.Pt.bind(this)),this.P=!0):ms.error(\"web vitals callbacks not loaded - not starting\")},this._instance=t,this.Et=!(null==(i=this._instance.persistence)||!i.props[Zt]),this.startIfEnabled()}get allowedMetrics(){var t,i,e=F(this._instance.config.capture_performance)?null==(t=this._instance.config.capture_performance)?void 0:t.web_vitals_allowed_metrics:void 0;return M(e)?(null==(i=this._instance.persistence)?void 0:i.props[ii])||[\"CLS\",\"FCP\",\"INP\",\"LCP\"]:e}get flushToCaptureTimeoutMs(){return(F(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get It(){var t=F(this._instance.config.capture_performance)&&L(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:ys;return 0<t&&t<=6e4?ys:t}get isEnabled(){var t=null==a?void 0:a.protocol;if(\"http:\"!==t&&\"https:\"!==t)return ms.info(\"Web Vitals are disabled on non-http/https protocols\"),!1;var i=F(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:N(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return N(i)?i:this.Et}startIfEnabled(){this.isEnabled&&!this.P&&(ms.info(\"enabled, starting...\"),this.it(this.rt))}onRemoteConfig(t){var i=F(t.capturePerformance)&&!!t.capturePerformance.web_vitals,e=F(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[Zt]:i}),this._instance.persistence.register({[ii]:e})),this.Et=i,this.startIfEnabled()}it(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.postHogWebVitalsCallbacks&&t(),null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"web-vitals\",(i=>{i?ms.error(\"failed to load script\",i):t()}))}Tt(){var i=t?t.location.href:void 0;if(i){var e=this._instance.config.mask_personal_data_properties,r=this._instance.config.custom_personal_data_properties,s=e?At([],ss,r||[]):[];return de(i,s,os)}ms.error(\"Could not determine current URL\")}}var ws=Tt(\"[Heatmaps]\");function xs(t){return F(t)&&\"clientX\"in t&&\"clientY\"in t&&L(t.clientX)&&L(t.clientY)}class Ss{constructor(t){var i;this.Et=!1,this.P=!1,this.Rt=null,this.instance=t,this.Et=!(null==(i=this.instance.persistence)||!i.props[Kt]),this.rageclicks=new se(t.config.rageclick)}get flushIntervalMilliseconds(){var t=5e3;return F(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return M(this.instance.config.capture_heatmaps)?M(this.instance.config.enable_heatmaps)?this.Et:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled){if(this.P)return;ws.info(\"starting...\"),this.Ft(),this.Ct()}else{var t;clearInterval(null!==(t=this.Rt)&&void 0!==t?t:void 0),this.Mt(),this.getAndClearBuffer()}}onRemoteConfig(t){var i=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[Kt]:i}),this.Et=i,this.startIfEnabled()}getAndClearBuffer(){var t=this.N;return this.N=void 0,t}Ot(t){this.At(t.originalEvent,\"deadclick\")}Ct(){this.Rt&&clearInterval(this.Rt),this.Rt=function(t){return\"visible\"===(null==t?void 0:t.visibilityState)}(o)?setInterval(this.Dt.bind(this),this.flushIntervalMilliseconds):null}Ft(){t&&o&&(this.jt=this.Dt.bind(this),qt(t,\"beforeunload\",this.jt),this.Lt=i=>this.At(i||(null==t?void 0:t.event)),qt(o,\"click\",this.Lt,{capture:!0}),this.Nt=i=>this.Ut(i||(null==t?void 0:t.event)),qt(o,\"mousemove\",this.Nt,{capture:!0}),this.zt=new qe(this.instance,He,this.Ot.bind(this)),this.zt.startIfEnabled(),this.Ht=this.Ct.bind(this),qt(o,\"visibilitychange\",this.Ht),this.P=!0)}Mt(){var i;t&&o&&(this.jt&&t.removeEventListener(\"beforeunload\",this.jt),this.Lt&&o.removeEventListener(\"click\",this.Lt,{capture:!0}),this.Nt&&o.removeEventListener(\"mousemove\",this.Nt,{capture:!0}),this.Ht&&o.removeEventListener(\"visibilitychange\",this.Ht),clearTimeout(this.Bt),null==(i=this.zt)||i.stop(),this.P=!1)}qt(i,e){var r=this.instance.scrollManager.scrollY(),s=this.instance.scrollManager.scrollX(),n=this.instance.scrollManager.scrollElement(),o=function(i,e,r){for(var s=i;s&&Ei(s)&&!$i(s,\"body\");){if(s===r)return!1;if(w(e,null==t?void 0:t.getComputedStyle(s).position))return!0;s=Di(s)}return!1}(Mi(i),[\"fixed\",\"sticky\"],n);return{x:i.clientX+(o?0:s),y:i.clientY+(o?0:r),target_fixed:o,type:e}}At(t,i){var e;if(void 0===i&&(i=\"click\"),!Si(t.target)&&xs(t)){var r=this.qt(t,i);null!=(e=this.rageclicks)&&e.isRageClick(t.clientX,t.clientY,(new Date).getTime())&&this.Wt(g({},r,{type:\"rageclick\"})),this.Wt(r)}}Ut(t){!Si(t.target)&&xs(t)&&(clearTimeout(this.Bt),this.Bt=setTimeout((()=>{this.Wt(this.qt(t,\"mousemove\"))}),500))}Wt(i){if(t){var e=t.location.href,r=this.instance.config.mask_personal_data_properties,s=this.instance.config.custom_personal_data_properties,n=r?At([],ss,s||[]):[],o=de(e,n,os);this.N=this.N||{},this.N[o]||(this.N[o]=[]),this.N[o].push(i)}}Dt(){this.N&&!C(this.N)&&this.instance.capture(\"$$heatmap\",{$heatmap_data:this.getAndClearBuffer()})}}class Es{constructor(t){this._instance=t}doPageView(i,e){var r,s=this.Gt(i,e);return this.Vt={pathname:null!==(r=null==t?void 0:t.location.pathname)&&void 0!==r?r:\"\",pageViewId:e,timestamp:i},this._instance.scrollManager.resetContext(),s}doPageLeave(t){var i;return this.Gt(t,null==(i=this.Vt)?void 0:i.pageViewId)}doEvent(){var t;return{$pageview_id:null==(t=this.Vt)?void 0:t.pageViewId}}Gt(t,i){var e=this.Vt;if(!e)return{$pageview_id:i};var r={$pageview_id:i,$prev_pageview_id:e.pageViewId},s=this._instance.scrollManager.getContext();if(s&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:n,lastScrollY:o,maxScrollY:a,maxContentHeight:l,lastContentY:u,maxContentY:h}=s;if(!(M(n)||M(o)||M(a)||M(l)||M(u)||M(h))){n=Math.ceil(n),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),u=Math.ceil(u),h=Math.ceil(h);var d=n<=1?1:J(o/n,0,1,Pt),v=n<=1?1:J(a/n,0,1,Pt),c=l<=1?1:J(u/l,0,1,Pt),f=l<=1?1:J(h/l,0,1,Pt);r=Ot(r,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:d,$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:v,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:c,$prev_pageview_max_content:h,$prev_pageview_max_content_percentage:f})}}return e.pathname&&(r.$prev_pageview_pathname=e.pathname),e.timestamp&&(r.$prev_pageview_duration=(t.getTime()-e.timestamp.getTime())/1e3),r}}var $s=Uint8Array,ks=Uint16Array,Ps=Uint32Array,Ts=new $s([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Is=new $s([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Rs=new $s([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fs=function(t,i){for(var e=new ks(31),r=0;r<31;++r)e[r]=i+=1<<t[r-1];var s=new Ps(e[30]);for(r=1;r<30;++r)for(var n=e[r];n<e[r+1];++n)s[n]=n-e[r]<<5|r;return[e,s]},Cs=Fs(Ts,2),Ms=Cs[0],Os=Cs[1];Ms[28]=258,Os[258]=28;for(var As=Fs(Is,0)[1],Ds=new ks(32768),js=0;js<32768;++js){var Ls=(43690&js)>>>1|(21845&js)<<1;Ls=(61680&(Ls=(52428&Ls)>>>2|(13107&Ls)<<2))>>>4|(3855&Ls)<<4,Ds[js]=((65280&Ls)>>>8|(255&Ls)<<8)>>>1}var Ns=function(t,i,e){for(var r=t.length,s=0,n=new ks(i);s<r;++s)++n[t[s]-1];var o,a=new ks(i);for(s=0;s<i;++s)a[s]=a[s-1]+n[s-1]<<1;if(e){o=new ks(1<<i);var l=15-i;for(s=0;s<r;++s)if(t[s])for(var u=s<<4|t[s],h=i-t[s],d=a[t[s]-1]++<<h,v=d|(1<<h)-1;d<=v;++d)o[Ds[d]>>>l]=u}else for(o=new ks(r),s=0;s<r;++s)o[s]=Ds[a[t[s]-1]++]>>>15-t[s];return o},Us=new $s(288);for(js=0;js<144;++js)Us[js]=8;for(js=144;js<256;++js)Us[js]=9;for(js=256;js<280;++js)Us[js]=7;for(js=280;js<288;++js)Us[js]=8;var zs=new $s(32);for(js=0;js<32;++js)zs[js]=5;var Hs=Ns(Us,9,0),Bs=Ns(zs,5,0),qs=function(t){return(t/8>>0)+(7&t&&1)},Ws=function(t,i,e){(null==e||e>t.length)&&(e=t.length);var r=new(t instanceof ks?ks:t instanceof Ps?Ps:$s)(e-i);return r.set(t.subarray(i,e)),r},Gs=function(t,i,e){e<<=7&i;var r=i/8>>0;t[r]|=e,t[r+1]|=e>>>8},Vs=function(t,i,e){e<<=7&i;var r=i/8>>0;t[r]|=e,t[r+1]|=e>>>8,t[r+2]|=e>>>16},Js=function(t,i){for(var e=[],r=0;r<t.length;++r)t[r]&&e.push({s:r,f:t[r]});var s=e.length,n=e.slice();if(!s)return[new $s(0),0];if(1==s){var o=new $s(e[0].s+1);return o[e[0].s]=1,[o,1]}e.sort((function(t,i){return t.f-i.f})),e.push({s:-1,f:25001});var a=e[0],l=e[1],u=0,h=1,d=2;for(e[0]={s:-1,f:a.f+l.f,l:a,r:l};h!=s-1;)a=e[e[u].f<e[d].f?u++:d++],l=e[u!=h&&e[u].f<e[d].f?u++:d++],e[h++]={s:-1,f:a.f+l.f,l:a,r:l};var v=n[0].s;for(r=1;r<s;++r)n[r].s>v&&(v=n[r].s);var c=new ks(v+1),f=Ks(e[h-1],c,0);if(f>i){r=0;var p=0,g=f-i,_=1<<g;for(n.sort((function(t,i){return c[i.s]-c[t.s]||t.f-i.f}));r<s;++r){var m=n[r].s;if(!(c[m]>i))break;p+=_-(1<<f-c[m]),c[m]=i}for(p>>>=g;p>0;){var y=n[r].s;c[y]<i?p-=1<<i-c[y]++-1:++r}for(;r>=0&&p;--r){var b=n[r].s;c[b]==i&&(--c[b],++p)}f=i}return[new $s(c),f]},Ks=function(t,i,e){return-1==t.s?Math.max(Ks(t.l,i,e+1),Ks(t.r,i,e+1)):i[t.s]=e},Ys=function(t){for(var i=t.length;i&&!t[--i];);for(var e=new ks(++i),r=0,s=t[0],n=1,o=function(t){e[r++]=t},a=1;a<=i;++a)if(t[a]==s&&a!=i)++n;else{if(!s&&n>2){for(;n>138;n-=138)o(32754);n>2&&(o(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(o(s),--n;n>6;n-=6)o(8304);n>2&&(o(n-3<<5|8208),n=0)}for(;n--;)o(s);n=1,s=t[a]}return[e.subarray(0,r),i]},Xs=function(t,i){for(var e=0,r=0;r<i.length;++r)e+=t[r]*i[r];return e},Qs=function(t,i,e){var r=e.length,s=qs(i+2);t[s]=255&r,t[s+1]=r>>>8,t[s+2]=255^t[s],t[s+3]=255^t[s+1];for(var n=0;n<r;++n)t[s+n+4]=e[n];return 8*(s+4+r)},Zs=function(t,i,e,r,s,n,o,a,l,u,h){Gs(i,h++,e),++s[256];for(var d=Js(s,15),v=d[0],c=d[1],f=Js(n,15),p=f[0],g=f[1],_=Ys(v),m=_[0],y=_[1],b=Ys(p),w=b[0],x=b[1],S=new ks(19),E=0;E<m.length;++E)S[31&m[E]]++;for(E=0;E<w.length;++E)S[31&w[E]]++;for(var k=Js(S,7),P=k[0],T=k[1],I=19;I>4&&!P[Rs[I-1]];--I);var R,F,C,M,O=u+5<<3,A=Xs(s,Us)+Xs(n,zs)+o,D=Xs(s,v)+Xs(n,p)+o+14+3*I+Xs(S,P)+(2*S[16]+3*S[17]+7*S[18]);if(O<=A&&O<=D)return Qs(i,h,t.subarray(l,l+u));if(Gs(i,h,1+(D<A)),h+=2,D<A){R=Ns(v,c,0),F=v,C=Ns(p,g,0),M=p;var j=Ns(P,T,0);Gs(i,h,y-257),Gs(i,h+5,x-1),Gs(i,h+10,I-4),h+=14;for(E=0;E<I;++E)Gs(i,h+3*E,P[Rs[E]]);h+=3*I;for(var L=[m,w],N=0;N<2;++N){var U=L[N];for(E=0;E<U.length;++E){var z=31&U[E];Gs(i,h,j[z]),h+=P[z],z>15&&(Gs(i,h,U[E]>>>5&127),h+=U[E]>>>12)}}}else R=Hs,F=Us,C=Bs,M=zs;for(E=0;E<a;++E)if(r[E]>255){z=r[E]>>>18&31;Vs(i,h,R[z+257]),h+=F[z+257],z>7&&(Gs(i,h,r[E]>>>23&31),h+=Ts[z]);var H=31&r[E];Vs(i,h,C[H]),h+=M[H],H>3&&(Vs(i,h,r[E]>>>5&8191),h+=Is[H])}else Vs(i,h,R[r[E]]),h+=F[r[E]];return Vs(i,h,R[256]),h+F[256]},tn=new Ps([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),en=function(){for(var t=new Ps(256),i=0;i<256;++i){for(var e=i,r=9;--r;)e=(1&e&&3988292384)^e>>>1;t[i]=e}return t}(),rn=function(t,i,e,r,s){return function(t,i,e,r,s,n){var o=t.length,a=new $s(r+o+5*(1+Math.floor(o/7e3))+s),l=a.subarray(r,a.length-s),u=0;if(!i||o<8)for(var h=0;h<=o;h+=65535){var d=h+65535;d<o?u=Qs(l,u,t.subarray(h,d)):(l[h]=n,u=Qs(l,u,t.subarray(h,o)))}else{for(var v=tn[i-1],c=v>>>13,f=8191&v,p=(1<<e)-1,g=new ks(32768),_=new ks(p+1),m=Math.ceil(e/3),y=2*m,b=function(i){return(t[i]^t[i+1]<<m^t[i+2]<<y)&p},w=new Ps(25e3),x=new ks(288),S=new ks(32),E=0,k=0,P=(h=0,0),T=0,I=0;h<o;++h){var R=b(h),F=32767&h,C=_[R];if(g[F]=C,_[R]=F,T<=h){var M=o-h;if((E>7e3||P>24576)&&M>423){u=Zs(t,l,0,w,x,S,k,P,I,h-I,u),P=E=k=0,I=h;for(var O=0;O<286;++O)x[O]=0;for(O=0;O<30;++O)S[O]=0}var A=2,D=0,j=f,L=F-C&32767;if(M>2&&R==b(h-L))for(var N=Math.min(c,M)-1,U=Math.min(32767,h),z=Math.min(258,M);L<=U&&--j&&F!=C;){if(t[h+A]==t[h+A-L]){for(var H=0;H<z&&t[h+H]==t[h+H-L];++H);if(H>A){if(A=H,D=L,H>N)break;var B=Math.min(L,H-2),q=0;for(O=0;O<B;++O){var W=h-L+O+32768&32767,G=W-g[W]+32768&32767;G>q&&(q=G,C=W)}}}L+=(F=C)-(C=g[F])+32768&32767}if(D){w[P++]=268435456|Os[A]<<18|As[D];var V=31&Os[A],J=31&As[D];k+=Ts[V]+Is[J],++x[257+V],++S[J],T=h+A,++E}else w[P++]=t[h],++x[t[h]]}}u=Zs(t,l,n,w,x,S,k,P,I,h-I,u)}return Ws(a,0,r+qs(u)+s)}(t,null==i.level?6:i.level,null==i.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+i.mem,e,r,!0)},sn=function(t,i,e){for(;e;++i)t[i]=e,e>>>=8};function nn(t,i){void 0===i&&(i={});var e=function(){var t=4294967295;return{p:function(i){for(var e=t,r=0;r<i.length;++r)e=en[255&e^i[r]]^e>>>8;t=e},d:function(){return 4294967295^t}}}(),r=t.length;e.p(t);var s,n=rn(t,i,10+((s=i).filename&&s.filename.length+1||0),8),o=n.length;return function(t,i){var e=i.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=i.level<2?4:9==i.level?2:0,t[9]=3,0!=i.mtime&&sn(t,4,Math.floor(new Date(i.mtime||Date.now())/1e3)),e){t[3]=8;for(var r=0;r<=e.length;++r)t[r+10]=e.charCodeAt(r)}}(n,i),sn(n,o-8,e.d()),sn(n,o-4,r),n}var on=function(t){var i,e,r,s,n=\"\";for(i=e=0,r=(t=(t+\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")).length,s=0;s<r;s++){var o=t.charCodeAt(s),a=null;o<128?e++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),D(a)||(e>i&&(n+=t.substring(i,e)),n+=a,i=e=s+1)}return e>i&&(n+=t.substring(i,t.length)),n},an=!!u||!!l,ln=\"text/plain\",un=function(t,i,e){var r;void 0===e&&(e=!0);var[s,n]=t.split(\"?\"),o=g({},i),a=null!==(r=null==n?void 0:n.split(\"&\").map((t=>{var i,[r,s]=t.split(\"=\"),n=e&&null!==(i=o[r])&&void 0!==i?i:s;return delete o[r],r+\"=\"+n})))&&void 0!==r?r:[],l=ue(o);return l&&a.push(l),s+\"?\"+a.join(\"&\")},hn=(t,i)=>JSON.stringify(t,((t,i)=>\"bigint\"==typeof i?i.toString():i),i),dn=t=>{var{data:i,compression:e}=t;if(i){if(e===oe.GZipJS){var r=nn(function(t,i){var e=t.length;if(\"undefined\"!=typeof TextEncoder)return(new TextEncoder).encode(t);for(var r=new $s(t.length+(t.length>>>1)),s=0,n=function(t){r[s++]=t},o=0;o<e;++o){if(s+5>r.length){var a=new $s(s+8+(e-o<<1));a.set(r),r=a}var l=t.charCodeAt(o);l<128||i?n(l):l<2048?(n(192|l>>>6),n(128|63&l)):l>55295&&l<57344?(n(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++o))>>>18),n(128|l>>>12&63),n(128|l>>>6&63),n(128|63&l)):(n(224|l>>>12),n(128|l>>>6&63),n(128|63&l))}return Ws(r,0,s)}(hn(i)),{mtime:0}),s=new Blob([r],{type:ln});return{contentType:ln,body:s,estimatedSize:s.size}}if(e===oe.Base64){var n=function(t){var i,e,r,s,n,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",a=0,l=0,u=\"\",h=[];if(!t)return t;t=on(t);do{i=(n=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,e=n>>12&63,r=n>>6&63,s=63&n,h[l++]=o.charAt(i)+o.charAt(e)+o.charAt(r)+o.charAt(s)}while(a<t.length);switch(u=h.join(\"\"),t.length%3){case 1:u=u.slice(0,-2)+\"==\";break;case 2:u=u.slice(0,-1)+\"=\"}return u}(hn(i)),o=(t=>\"data=\"+encodeURIComponent(\"string\"==typeof t?t:hn(t)))(n);return{contentType:\"application/x-www-form-urlencoded\",body:o,estimatedSize:new Blob([o]).size}}var a=hn(i);return{contentType:\"application/json\",body:a,estimatedSize:new Blob([a]).size}}},vn=[];l&&vn.push({transport:\"fetch\",method:t=>{var i,e,{contentType:r,body:s,estimatedSize:n}=null!==(i=dn(t))&&void 0!==i?i:{},o=new Headers;Mt(t.headers,(function(t,i){o.append(i,t)})),r&&o.append(\"Content-Type\",r);var a=t.url,u=null;if(h){var d=new h;u={signal:d.signal,timeout:setTimeout((()=>d.abort()),t.timeout)}}l(a,g({method:(null==t?void 0:t.method)||\"GET\",headers:o,keepalive:\"POST\"===t.method&&(n||0)<52428.8,body:s,signal:null==(e=u)?void 0:e.signal},t.fetchOptions)).then((i=>i.text().then((e=>{var r={statusCode:i.status,text:e};if(200===i.status)try{r.json=JSON.parse(e)}catch(t){Pt.error(t)}null==t.callback||t.callback(r)})))).catch((i=>{Pt.error(i),null==t.callback||t.callback({statusCode:0,text:i})})).finally((()=>u?clearTimeout(u.timeout):null))}}),u&&vn.push({transport:\"XHR\",method:t=>{var i,e=new u;e.open(t.method||\"GET\",t.url,!0);var{contentType:r,body:s}=null!==(i=dn(t))&&void 0!==i?i:{};Mt(t.headers,(function(t,i){e.setRequestHeader(i,t)})),r&&e.setRequestHeader(\"Content-Type\",r),t.timeout&&(e.timeout=t.timeout),t.disableXHRCredentials||(e.withCredentials=!0),e.onreadystatechange=()=>{if(4===e.readyState){var i={statusCode:e.status,text:e.responseText};if(200===e.status)try{i.json=JSON.parse(e.responseText)}catch(t){}null==t.callback||t.callback(i)}},e.send(s)}}),null!=n&&n.sendBeacon&&vn.push({transport:\"sendBeacon\",method:t=>{var i=un(t.url,{beacon:\"1\"});try{var e,{contentType:r,body:s}=null!==(e=dn(t))&&void 0!==e?e:{},o=\"string\"==typeof s?new Blob([s],{type:r}):s;n.sendBeacon(i,o)}catch(t){}}});var cn=function(t,i){if(!function(t){try{new RegExp(t)}catch(t){return!1}return!0}(i))return!1;try{return new RegExp(i).test(t)}catch(t){return!1}};function fn(t,i,e){return hn({distinct_id:t,userPropertiesToSet:i,userPropertiesToSetOnce:e})}var pn={exact:(t,i)=>i.some((i=>t.some((t=>i===t)))),is_not:(t,i)=>i.every((i=>t.every((t=>i!==t)))),regex:(t,i)=>i.some((i=>t.some((t=>cn(i,t))))),not_regex:(t,i)=>i.every((i=>t.every((t=>!cn(i,t))))),icontains:(t,i)=>i.map(gn).some((i=>t.map(gn).some((t=>i.includes(t))))),not_icontains:(t,i)=>i.map(gn).every((i=>t.map(gn).every((t=>!i.includes(t)))))},gn=t=>t.toLowerCase();function _n(t,i){return!t||Object.entries(t).every((t=>{var[e,r]=t,s=null==i?void 0:i[e];if(M(s)||D(s))return!1;var n=[String(s)],o=pn[r.operator];return!!o&&o(r.values,n)}))}var mn=Tt(\"[Error tracking]\");class yn{constructor(t){var i,e;this.Jt=[],this.Kt=new it([new pt,new $t,new _t,new gt,new St,new xt,new yt,new Et],ft(\"web:javascript\",lt,dt)),this._instance=t,this.Jt=null!==(i=null==(e=this._instance.persistence)?void 0:e.get_property(Xt))&&void 0!==i?i:[]}onRemoteConfig(t){var i,e,r,s=null!==(i=null==(e=t.errorTracking)?void 0:e.suppressionRules)&&void 0!==i?i:[],n=null==(r=t.errorTracking)?void 0:r.captureExtensionExceptions;this.Jt=s,this._instance.persistence&&this._instance.persistence.register({[Xt]:this.Jt,[Qt]:n})}get Yt(){var t,i=!!this._instance.get_property(Qt),e=this._instance.config.error_tracking.captureExtensionExceptions;return null!==(t=null!=e?e:i)&&void 0!==t&&t}buildProperties(t,i){return this.Kt.buildFromUnknown(t,{syntheticException:null==i?void 0:i.syntheticException,mechanism:{handled:null==i?void 0:i.handled}})}sendExceptionEvent(t){var i=t.$exception_list;if(this.Xt(i)){if(this.Qt(i))return void mn.info(\"Skipping exception capture because a suppression rule matched\");if(!this.Yt&&this.Zt(i))return void mn.info(\"Skipping exception capture because it was thrown by an extension\");if(!this._instance.config.error_tracking.__capturePostHogExceptions&&this.ti(i))return void mn.info(\"Skipping exception capture because it was thrown by the PostHog SDK\")}return this._instance.capture(\"$exception\",t,{_noTruncate:!0,_batchKey:\"exceptionEvent\"})}Qt(t){if(0===t.length)return!1;var i=t.reduce(((t,i)=>{var{type:e,value:r}=i;return O(e)&&e.length>0&&t.$exception_types.push(e),O(r)&&r.length>0&&t.$exception_values.push(r),t}),{$exception_types:[],$exception_values:[]});return this.Jt.some((t=>{var e=t.values.map((t=>{var e,r=pn[t.operator],s=I(t.value)?t.value:[t.value],n=null!==(e=i[t.key])&&void 0!==e?e:[];return s.length>0&&r(s,n)}));return\"OR\"===t.type?e.some(Boolean):e.every(Boolean)}))}Zt(t){return t.flatMap((t=>{var i,e;return null!==(i=null==(e=t.stacktrace)?void 0:e.frames)&&void 0!==i?i:[]})).some((t=>t.filename&&t.filename.startsWith(\"chrome-extension://\")))}ti(t){if(t.length>0){var i,e,r,s,n=null!==(i=null==(e=t[0].stacktrace)?void 0:e.frames)&&void 0!==i?i:[],o=n[n.length-1];return null!==(r=null==o||null==(s=o.filename)?void 0:s.includes(\"posthog.com/static\"))&&void 0!==r&&r}return!1}Xt(t){return!j(t)&&I(t)}}var bn=Tt(\"[FeatureFlags]\"),wn=Tt(\"[FeatureFlags]\",{debugEnabled:!0}),xn=\"$active_feature_flags\",Sn=\"$override_feature_flags\",En=\"$feature_flag_payloads\",$n=\"$override_feature_flag_payloads\",kn=\"$feature_flag_request_id\",Pn=t=>{var i={};for(var[e,r]of Dt(t||{}))r&&(i[e]=r);return i},Tn=t=>{var i=t.flags;return i?(t.featureFlags=Object.fromEntries(Object.keys(i).map((t=>{var e;return[t,null!==(e=i[t].variant)&&void 0!==e?e:i[t].enabled]}))),t.featureFlagPayloads=Object.fromEntries(Object.keys(i).filter((t=>i[t].enabled)).filter((t=>{var e;return null==(e=i[t].metadata)?void 0:e.payload})).map((t=>{var e;return[t,null==(e=i[t].metadata)?void 0:e.payload]})))):bn.warn(\"Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version\"),t},In=function(t){return t.FeatureFlags=\"feature_flags\",t.Recordings=\"recordings\",t}({});class Rn{constructor(t){this.ii=!1,this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this._instance=t,this.featureFlagEventHandlers=[]}li(){var t=this._instance.config.evaluation_environments;return null!=t&&t.length?t.filter((t=>{var i=t&&\"string\"==typeof t&&t.trim().length>0;return i||bn.error(\"Invalid evaluation environment found:\",t,\"Expected non-empty string\"),i})):[]}ui(){return this.li().length>0}flags(){if(this._instance.config.__preview_remote_config)this.oi=!0;else{var t=!this.hi&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.di({disableFlags:t})}}get hasLoadedFlags(){return this.ei}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(ai),i=this._instance.get_property(Sn),e=this._instance.get_property($n);if(!e&&!i)return t||{};var r=Ot({},t||{}),s=[...new Set([...Object.keys(e||{}),...Object.keys(i||{})])];for(var n of s){var o,a,l=r[n],u=null==i?void 0:i[n],h=M(u)?null!==(o=null==l?void 0:l.enabled)&&void 0!==o&&o:!!u,d=M(u)?l.variant:\"string\"==typeof u?u:void 0,v=null==e?void 0:e[n],c=g({},l,{enabled:h,variant:h?null!=d?d:null==l?void 0:l.variant:void 0});if(h!==(null==l?void 0:l.enabled)&&(c.original_enabled=null==l?void 0:l.enabled),d!==(null==l?void 0:l.variant)&&(c.original_variant=null==l?void 0:l.variant),v)c.metadata=g({},null==l?void 0:l.metadata,{payload:v,original_payload:null==l||null==(a=l.metadata)?void 0:a.payload});r[n]=c}return this.ii||(bn.warn(\" Overriding feature flag details!\",{flagDetails:t,overriddenPayloads:e,finalDetails:r}),this.ii=!0),r}getFlagVariants(){var t=this._instance.get_property(ni),i=this._instance.get_property(Sn);if(!i)return t||{};for(var e=Ot({},t),r=Object.keys(i),s=0;s<r.length;s++)e[r[s]]=i[r[s]];return this.ii||(bn.warn(\" Overriding feature flags!\",{enabledFlags:t,overriddenFlags:i,finalFlags:e}),this.ii=!0),e}getFlagPayloads(){var t=this._instance.get_property(En),i=this._instance.get_property($n);if(!i)return t||{};for(var e=Ot({},t||{}),r=Object.keys(i),s=0;s<r.length;s++)e[r[s]]=i[r[s]];return this.ii||(bn.warn(\" Overriding feature flag payloads!\",{flagPayloads:t,overriddenPayloads:i,finalPayloads:e}),this.ii=!0),e}reloadFeatureFlags(){this.si||this._instance.config.advanced_disable_feature_flags||this.hi||(this.hi=setTimeout((()=>{this.di()}),5))}vi(){clearTimeout(this.hi),this.hi=void 0}ensureFlagsLoaded(){this.ei||this.ri||this.hi||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.si=t}di(t){var i;if(this.vi(),!this._instance.O())if(this.ri)this.ni=!0;else{var e={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:g({},(null==(i=this._instance.persistence)?void 0:i.get_initial_props())||{},this._instance.get_property(li)||{}),group_properties:this._instance.get_property(ui)};(null!=t&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(e.disable_flags=!0),this.ui()&&(e.evaluation_environments=this.li());var r=this._instance.config.__preview_remote_config,s=r?\"/flags/?v=2\":\"/flags/?v=2&config=true\",n=this._instance.config.advanced_only_evaluate_survey_feature_flags?\"&only_evaluate_survey_feature_flags=true\":\"\",o=this._instance.requestRouter.endpointFor(\"flags\",s+n);r&&(e.timezone=ps()),this.ri=!0,this._instance.ci({method:\"POST\",url:o,data:e,compression:this._instance.config.disable_compression?void 0:oe.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:t=>{var i,r,s=!0;(200===t.statusCode&&(this.ni||(this.$anon_distinct_id=void 0),s=!1),this.ri=!1,this.oi)||(this.oi=!0,this._instance.fi(null!==(r=t.json)&&void 0!==r?r:{}));if(!e.disable_flags||this.ni)if(this.ai=!s,t.json&&null!=(i=t.json.quotaLimited)&&i.includes(In.FeatureFlags))bn.warn(\"You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.\");else{var n;if(!e.disable_flags)this.receivedFeatureFlags(null!==(n=t.json)&&void 0!==n?n:{},s);this.ni&&(this.ni=!1,this.di())}}})}}getFeatureFlag(t,i){if(void 0===i&&(i={}),this.ei||this.getFlags()&&this.getFlags().length>0){var e=this.getFlagVariants()[t],r=\"\"+e,s=this._instance.get_property(kn)||void 0,n=this._instance.get_property(vi)||{};if((i.send_event||!(\"send_event\"in i))&&(!(t in n)||!n[t].includes(r))){var o,a,l,u,h,d,v,c,f;I(n[t])?n[t].push(r):n[t]=[r],null==(o=this._instance.persistence)||o.register({[vi]:n});var p=this.getFeatureFlagDetails(t),g={$feature_flag:t,$feature_flag_response:e,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:s,$feature_flag_bootstrapped_response:(null==(a=this._instance.config.bootstrap)||null==(a=a.featureFlags)?void 0:a[t])||null,$feature_flag_bootstrapped_payload:(null==(l=this._instance.config.bootstrap)||null==(l=l.featureFlagPayloads)?void 0:l[t])||null,$used_bootstrap_value:!this.ai};M(null==p||null==(u=p.metadata)?void 0:u.version)||(g.$feature_flag_version=p.metadata.version);var _,m=null!==(h=null==p||null==(d=p.reason)?void 0:d.description)&&void 0!==h?h:null==p||null==(v=p.reason)?void 0:v.code;if(m&&(g.$feature_flag_reason=m),null!=p&&null!=(c=p.metadata)&&c.id&&(g.$feature_flag_id=p.metadata.id),M(null==p?void 0:p.original_variant)&&M(null==p?void 0:p.original_enabled)||(g.$feature_flag_original_response=M(p.original_variant)?p.original_enabled:p.original_variant),null!=p&&null!=(f=p.metadata)&&f.original_payload)g.$feature_flag_original_payload=null==p||null==(_=p.metadata)?void 0:_.original_payload;this._instance.capture(\"$feature_flag_called\",g)}return e}bn.warn('getFeatureFlag for key \"'+t+\"\\\" failed. Feature flags didn't load in time.\")}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,i){var e=this._instance.config.token,r={distinct_id:this._instance.get_distinct_id(),token:e};this.ui()&&(r.evaluation_environments=this.li()),this._instance.ci({method:\"POST\",url:this._instance.requestRouter.endpointFor(\"flags\",\"/flags/?v=2&config=true\"),data:r,compression:this._instance.config.disable_compression?void 0:oe.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:e=>{var r,s=null==(r=e.json)?void 0:r.featureFlagPayloads;i((null==s?void 0:s[t])||void 0)}})}isFeatureEnabled(t,i){if(void 0===i&&(i={}),this.ei||this.getFlags()&&this.getFlags().length>0){var e=this.getFeatureFlag(t,i);return M(e)?void 0:!!e}bn.warn('isFeatureEnabled for key \"'+t+\"\\\" failed. Feature flags didn't load in time.\")}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((i=>i!==t))}receivedFeatureFlags(t,i){if(this._instance.persistence){this.ei=!0;var e=this.getFlagVariants(),r=this.getFlagPayloads(),s=this.getFlagsWithDetails();!function(t,i,e,r,s){void 0===e&&(e={}),void 0===r&&(r={}),void 0===s&&(s={});var n=Tn(t),o=n.flags,a=n.featureFlags,l=n.featureFlagPayloads;if(a){var u=t.requestId;if(I(a)){bn.warn(\"v1 of the feature flags endpoint is deprecated. Please use the latest version.\");var h={};if(a)for(var d=0;d<a.length;d++)h[a[d]]=!0;i&&i.register({[xn]:a,[ni]:h})}else{var v=a,c=l,f=o;t.errorsWhileComputingFlags&&(v=g({},e,v),c=g({},r,c),f=g({},s,f)),i&&i.register(g({[xn]:Object.keys(Pn(v)),[ni]:v||{},[En]:c||{},[ai]:f||{}},u?{[kn]:u}:{}))}}}(t,this._instance.persistence,e,r,s),this.pi(i)}}override(t,i){void 0===i&&(i=!1),bn.warn(\"override is deprecated. Please use overrideFeatureFlags instead.\"),this.overrideFeatureFlags({flags:t,suppressWarning:i})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return bn.uninitializedWarning(\"posthog.featureFlags.overrideFeatureFlags\");if(!1===t)return this._instance.persistence.unregister(Sn),this._instance.persistence.unregister($n),this.pi(),wn.info(\"All overrides cleared\");if(t&&\"object\"==typeof t&&(\"flags\"in t||\"payloads\"in t)){var i,e=t;if(this.ii=Boolean(null!==(i=e.suppressWarning)&&void 0!==i&&i),\"flags\"in e)if(!1===e.flags)this._instance.persistence.unregister(Sn),wn.info(\"Flag overrides cleared\");else if(e.flags){if(I(e.flags)){for(var r={},s=0;s<e.flags.length;s++)r[e.flags[s]]=!0;this._instance.persistence.register({[Sn]:r})}else this._instance.persistence.register({[Sn]:e.flags});wn.info(\"Flag overrides set\",{flags:e.flags})}return\"payloads\"in e&&(!1===e.payloads?(this._instance.persistence.unregister($n),wn.info(\"Payload overrides cleared\")):e.payloads&&(this._instance.persistence.register({[$n]:e.payloads}),wn.info(\"Payload overrides set\",{payloads:e.payloads}))),void this.pi()}this.pi()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.ei){var{flags:i,flagVariants:e}=this.gi();t(i,e)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,i,e){var r,s=(this._instance.get_property(oi)||[]).find((i=>i.flagKey===t)),n={[\"$feature_enrollment/\"+t]:i},o={$feature_flag:t,$feature_enrollment:i,$set:n};s&&(o.$early_access_feature_name=s.name),e&&(o.$feature_enrollment_stage=e),this._instance.capture(\"$feature_enrollment_update\",o),this.setPersonPropertiesForFlags(n,!1);var a=g({},this.getFlagVariants(),{[t]:i});null==(r=this._instance.persistence)||r.register({[xn]:Object.keys(Pn(a)),[ni]:a}),this.pi()}getEarlyAccessFeatures(t,i,e){void 0===i&&(i=!1);var r=this._instance.get_property(oi),s=e?\"&\"+e.map((t=>\"stage=\"+t)).join(\"&\"):\"\";if(r&&!i)return t(r);this._instance.ci({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/early_access_features/?token=\"+this._instance.config.token+s),method:\"GET\",callback:i=>{var e,r;if(i.json){var s=i.json.earlyAccessFeatures;return null==(e=this._instance.persistence)||e.unregister(oi),null==(r=this._instance.persistence)||r.register({[oi]:s}),t(s)}}})}gi(){var t=this.getFlags(),i=this.getFlagVariants();return{flags:t.filter((t=>i[t])),flagVariants:Object.keys(i).filter((t=>i[t])).reduce(((t,e)=>(t[e]=i[e],t)),{})}}pi(t){var{flags:i,flagVariants:e}=this.gi();this.featureFlagEventHandlers.forEach((r=>r(i,e,{errorsLoading:t})))}setPersonPropertiesForFlags(t,i){void 0===i&&(i=!0);var e=this._instance.get_property(li)||{};this._instance.register({[li]:g({},e,t)}),i&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(li)}setGroupPropertiesForFlags(t,i){void 0===i&&(i=!0);var e=this._instance.get_property(ui)||{};0!==Object.keys(e).length&&Object.keys(e).forEach((i=>{e[i]=g({},e[i],t[i]),delete t[i]})),this._instance.register({[ui]:g({},e,t)}),i&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var i=this._instance.get_property(ui)||{};this._instance.register({[ui]:g({},i,{[t]:{}})})}else this._instance.unregister(ui)}reset(){this.ei=!1,this.ri=!1,this.si=!1,this.ni=!1,this.oi=!1,this.ai=!1,this.$anon_distinct_id=void 0,this.vi(),this.ii=!1}}var Fn=[\"cookie\",\"localstorage\",\"localstorage+cookie\",\"sessionstorage\",\"memory\"];class Cn{constructor(t,i){this.F=t,this.props={},this.mi=!1,this.yi=(t=>{var i=\"\";return t.token&&(i=t.token.replace(/\\+/g,\"PL\").replace(/\\//g,\"SL\").replace(/=/g,\"EQ\")),t.persistence_name?\"ph_\"+t.persistence_name:\"ph_\"+i+\"_posthog\"})(t),this.Y=this.bi(t),this.load(),t.debug&&Pt.info(\"Persistence loaded\",t.persistence,g({},this.props)),this.update_config(t,t,i),this.save()}isDisabled(){return!!this.wi}bi(t){-1===Fn.indexOf(t.persistence.toLowerCase())&&(Pt.critical(\"Unknown persistence type \"+t.persistence+\"; falling back to localStorage+cookie\"),t.persistence=\"localStorage+cookie\");var i=t.persistence.toLowerCase();return\"localstorage\"===i&&Ce.H()?Ce:\"localstorage+cookie\"===i&&Oe.H()?Oe:\"sessionstorage\"===i&&Le.H()?Le:\"memory\"===i?De:\"cookie\"===i?Re:Oe.H()?Oe:Re}properties(){var t={};return Mt(this.props,(function(i,e){if(e===ni&&F(i))for(var r=Object.keys(i),n=0;n<r.length;n++)t[\"$feature/\"+r[n]]=i[r[n]];else a=e,l=!1,(D(o=xi)?l:s&&o.indexOf===s?-1!=o.indexOf(a):(Mt(o,(function(t){if(l||(l=t===a))return Ft})),l))||(t[e]=i);var o,a,l})),t}load(){if(!this.wi){var t=this.Y.W(this.yi);t&&(this.props=Ot({},t))}}save(){this.wi||this.Y.G(this.yi,this.props,this.xi,this.Si,this.Ei,this.F.debug)}remove(){this.Y.V(this.yi,!1),this.Y.V(this.yi,!0)}clear(){this.remove(),this.props={}}register_once(t,i,e){if(F(t)){M(i)&&(i=\"None\"),this.xi=M(e)?this.$i:e;var r=!1;if(Mt(t,((t,e)=>{this.props.hasOwnProperty(e)&&this.props[e]!==i||(this.props[e]=t,r=!0)})),r)return this.save(),!0}return!1}register(t,i){if(F(t)){this.xi=M(i)?this.$i:i;var e=!1;if(Mt(t,((i,r)=>{t.hasOwnProperty(r)&&this.props[r]!==i&&(this.props[r]=i,e=!0)})),e)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.mi){var t=ls(this.F.custom_campaign_params,this.F.mask_personal_data_properties,this.F.custom_personal_data_properties);C(Nt(t))||this.register(t),this.mi=!0}}update_search_keyword(){var t;this.register((t=null==o?void 0:o.referrer)?hs(t):{})}update_referrer_info(){var t;this.register_once({$referrer:vs(),$referring_domain:null!=o&&o.referrer&&(null==(t=le(o.referrer))?void 0:t.host)||\"$direct\"},void 0)}set_initial_person_info(){this.props[gi]||this.props[_i]||this.register_once({[mi]:cs(this.F.mask_personal_data_properties,this.F.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Mt([_i,gi],(i=>{var e=this.props[i];e&&Mt(e,(function(i,e){t[\"$initial_\"+S(e)]=i}))}));var i,e,r=this.props[mi];if(r){var s=(i=fs(r),e={},Mt(i,(function(t,i){e[\"$initial_\"+S(i)]=t})),e);Ot(t,s)}return t}safe_merge(t){return Mt(this.props,(function(i,e){e in t||(t[e]=i)})),t}update_config(t,i,e){if(this.$i=this.xi=t.cookie_expiration,this.set_disabled(t.disable_persistence||!!e),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==i.persistence){var r=this.bi(t),s=this.props;this.clear(),this.Y=r,this.props=s,this.save()}}set_disabled(t){this.wi=t,this.wi?this.remove():this.save()}set_cross_subdomain(t){t!==this.Si&&(this.Si=t,this.remove(),this.save())}set_secure(t){t!==this.Ei&&(this.Ei=t,this.remove(),this.save())}set_event_timer(t,i){var e=this.props[Vt]||{};e[t]=i,this.props[Vt]=e,this.save()}remove_event_timer(t){var i=(this.props[Vt]||{})[t];return M(i)||(delete this.props[Vt][t],this.save()),i}get_property(t){return this.props[t]}set_property(t,i){this.props[t]=i,this.save()}}var Mn=function(t){return t.Activation=\"events\",t.Cancellation=\"cancelEvents\",t}({}),On=function(t){return t.Button=\"button\",t.Tab=\"tab\",t.Selector=\"selector\",t}({}),An=function(t){return t.TopLeft=\"top_left\",t.TopRight=\"top_right\",t.TopCenter=\"top_center\",t.MiddleLeft=\"middle_left\",t.MiddleRight=\"middle_right\",t.MiddleCenter=\"middle_center\",t.Left=\"left\",t.Center=\"center\",t.Right=\"right\",t.NextToTrigger=\"next_to_trigger\",t}({}),Dn=function(t){return t.Top=\"top\",t.Left=\"left\",t.Right=\"right\",t.Bottom=\"bottom\",t}({}),jn=function(t){return t.Popover=\"popover\",t.API=\"api\",t.Widget=\"widget\",t.ExternalSurvey=\"external_survey\",t}({}),Ln=function(t){return t.Open=\"open\",t.MultipleChoice=\"multiple_choice\",t.SingleChoice=\"single_choice\",t.Rating=\"rating\",t.Link=\"link\",t}({}),Nn=function(t){return t.NextQuestion=\"next_question\",t.End=\"end\",t.ResponseBased=\"response_based\",t.SpecificQuestion=\"specific_question\",t}({}),Un=function(t){return t.Once=\"once\",t.Recurring=\"recurring\",t.Always=\"always\",t}({}),zn=function(t){return t.SHOWN=\"survey shown\",t.DISMISSED=\"survey dismissed\",t.SENT=\"survey sent\",t}({}),Hn=function(t){return t.SURVEY_ID=\"$survey_id\",t.SURVEY_NAME=\"$survey_name\",t.SURVEY_RESPONSE=\"$survey_response\",t.SURVEY_ITERATION=\"$survey_iteration\",t.SURVEY_ITERATION_START_DATE=\"$survey_iteration_start_date\",t.SURVEY_PARTIALLY_COMPLETED=\"$survey_partially_completed\",t.SURVEY_SUBMISSION_ID=\"$survey_submission_id\",t.SURVEY_QUESTIONS=\"$survey_questions\",t.SURVEY_COMPLETED=\"$survey_completed\",t}({}),Bn=function(t){return t.Popover=\"popover\",t.Inline=\"inline\",t}({});class qn{constructor(){this.ki={},this.ki={}}on(t,i){return this.ki[t]||(this.ki[t]=[]),this.ki[t].push(i),()=>{this.ki[t]=this.ki[t].filter((t=>t!==i))}}emit(t,i){for(var e of this.ki[t]||[])e(i);for(var r of this.ki[\"*\"]||[])r(t,i)}}class Wn{constructor(t){this.Pi=new qn,this.Ti=(t,i)=>this.Ii(t,i)&&this.Ri(t,i)&&this.Fi(t,i)&&this.Ci(t,i),this.Ii=(t,i)=>null==i||!i.event||(null==t?void 0:t.event)===(null==i?void 0:i.event),this._instance=t,this.Mi=new Set,this.Oi=new Set}init(){var t;if(!M(null==(t=this._instance)?void 0:t.Ai)){var i;null==(i=this._instance)||i.Ai(((t,i)=>{this.on(t,i)}))}}register(t){var i,e;if(!M(null==(i=this._instance)?void 0:i.Ai)&&(t.forEach((t=>{var i,e;null==(i=this.Oi)||i.add(t),null==(e=t.steps)||e.forEach((t=>{var i;null==(i=this.Mi)||i.add((null==t?void 0:t.event)||\"\")}))})),null!=(e=this._instance)&&e.autocapture)){var r,s=new Set;t.forEach((t=>{var i;null==(i=t.steps)||i.forEach((t=>{null!=t&&t.selector&&s.add(null==t?void 0:t.selector)}))})),null==(r=this._instance)||r.autocapture.setElementSelectors(s)}}on(t,i){var e;null!=i&&0!=t.length&&(this.Mi.has(t)||this.Mi.has(null==i?void 0:i.event))&&this.Oi&&(null==(e=this.Oi)?void 0:e.size)>0&&this.Oi.forEach((t=>{this.Di(i,t)&&this.Pi.emit(\"actionCaptured\",t.name)}))}ji(t){this.onAction(\"actionCaptured\",(i=>t(i)))}Di(t,i){if(null==(null==i?void 0:i.steps))return!1;for(var e of i.steps)if(this.Ti(t,e))return!0;return!1}onAction(t,i){return this.Pi.on(t,i)}Ri(t,i){if(null!=i&&i.url){var e,r=null==t||null==(e=t.properties)?void 0:e.$current_url;if(!r||\"string\"!=typeof r)return!1;if(!Wn.Li(r,null==i?void 0:i.url,(null==i?void 0:i.url_matching)||\"contains\"))return!1}return!0}static Li(i,e,r){switch(r){case\"regex\":return!!t&&cn(i,e);case\"exact\":return e===i;case\"contains\":var s=Wn.Ni(e).replace(/_/g,\".\").replace(/%/g,\".*\");return cn(i,s);default:return!1}}static Ni(t){return t.replace(/[|\\\\{}()[\\]^$+*?.]/g,\"\\\\$&\").replace(/-/g,\"\\\\x2d\")}Fi(t,i){if((null!=i&&i.href||null!=i&&i.tag_name||null!=i&&i.text)&&!this.Ui(t).some((t=>!(null!=i&&i.href&&!Wn.Li(t.href||\"\",null==i?void 0:i.href,(null==i?void 0:i.href_matching)||\"exact\"))&&((null==i||!i.tag_name||t.tag_name===(null==i?void 0:i.tag_name))&&!(null!=i&&i.text&&!Wn.Li(t.text||\"\",null==i?void 0:i.text,(null==i?void 0:i.text_matching)||\"exact\")&&!Wn.Li(t.$el_text||\"\",null==i?void 0:i.text,(null==i?void 0:i.text_matching)||\"exact\"))))))return!1;if(null!=i&&i.selector){var e,r=null==t||null==(e=t.properties)?void 0:e.$element_selectors;if(!r)return!1;if(!r.includes(null==i?void 0:i.selector))return!1}return!0}Ui(t){return null==(null==t?void 0:t.properties.$elements)?[]:null==t?void 0:t.properties.$elements}Ci(t,i){return null==i||!i.properties||0===i.properties.length||_n(i.properties.reduce(((t,i)=>{var e=I(i.value)?i.value.map(String):null!=i.value?[String(i.value)]:[];return t[i.key]={values:e,operator:i.operator||\"exact\"},t}),{}),null==t?void 0:t.properties)}}var Gn=Tt(\"[Surveys]\");var Vn=\"seenSurvey_\",Jn=(t,i)=>{var e=\"$survey_\"+i+\"/\"+t.id;return t.current_iteration&&t.current_iteration>0&&(e=\"$survey_\"+i+\"/\"+t.id+\"/\"+t.current_iteration),e},Kn=t=>{var i=\"\"+Vn+t.id;return t.current_iteration&&t.current_iteration>0&&(i=\"\"+Vn+t.id+\"_\"+t.current_iteration),i},Yn=[jn.Popover,jn.Widget,jn.API],Xn={ignoreConditions:!1,ignoreDelay:!1,displayType:Bn.Popover};class Qn{constructor(t){this._instance=t,this.zi=new Map,this.Hi=new Map,this.Bi=new Map}qi(t,i){return!!t&&_n(t.propertyFilters,null==i?void 0:i.properties)}Wi(t,i){var e=new Map;return t.forEach((t=>{var r;null==(r=t.conditions)||null==(r=r[i])||null==(r=r.values)||r.forEach((i=>{if(null!=i&&i.name){var r=e.get(i.name)||[];r.push(t.id),e.set(i.name,r)}}))})),e}Gi(t,i,e){var r,s=(e===Mn.Activation?this.zi:this.Hi).get(t),n=[];return null==(r=this._instance)||r.getSurveys((t=>{n=t.filter((t=>null==s?void 0:s.includes(t.id)))})),n.filter((r=>{var s,n=null==(s=r.conditions)||null==(s=s[e])||null==(s=s.values)?void 0:s.find((i=>i.name===t));return this.qi(n,i)}))}register(t){var i;M(null==(i=this._instance)?void 0:i.Ai)||(this.Vi(t),this.Ji(t))}Ji(t){var i=t.filter((t=>{var i,e;return(null==(i=t.conditions)?void 0:i.actions)&&(null==(e=t.conditions)||null==(e=e.actions)||null==(e=e.values)?void 0:e.length)>0}));if(0!==i.length){if(null==this.Ki){this.Ki=new Wn(this._instance),this.Ki.init();this.Ki.ji((t=>{this.onAction(t)}))}i.forEach((t=>{var i,e,r,s,n;t.conditions&&null!=(i=t.conditions)&&i.actions&&null!=(e=t.conditions)&&null!=(e=e.actions)&&e.values&&(null==(r=t.conditions)||null==(r=r.actions)||null==(r=r.values)?void 0:r.length)>0&&(null==(s=this.Ki)||s.register(t.conditions.actions.values),null==(n=t.conditions)||null==(n=n.actions)||null==(n=n.values)||n.forEach((i=>{if(i&&i.name){var e=this.Bi.get(i.name);e&&e.push(t.id),this.Bi.set(i.name,e||[t.id])}})))}))}}Vi(t){var i,e=t.filter((t=>{var i,e;return(null==(i=t.conditions)?void 0:i.events)&&(null==(e=t.conditions)||null==(e=e.events)||null==(e=e.values)?void 0:e.length)>0})),r=t.filter((t=>{var i,e;return(null==(i=t.conditions)?void 0:i.cancelEvents)&&(null==(e=t.conditions)||null==(e=e.cancelEvents)||null==(e=e.values)?void 0:e.length)>0}));if(0!==e.length||0!==r.length){null==(i=this._instance)||i.Ai(((t,i)=>{this.onEvent(t,i)})),this.zi=this.Wi(t,Mn.Activation),this.Hi=this.Wi(t,Mn.Cancellation)}}onEvent(t,i){var e,r=(null==(e=this._instance)||null==(e=e.persistence)?void 0:e.props[di])||[];if(zn.SHOWN===t&&i&&r.length>0){var s;Gn.info(\"survey event matched, removing survey from activated surveys\",{event:t,eventPayload:i,existingActivatedSurveys:r});var n=null==i||null==(s=i.properties)?void 0:s.$survey_id;if(n){var o=r.indexOf(n);o>=0&&(r.splice(o,1),this.Yi(r))}}else{if(this.Hi.has(t)){var a=this.Gi(t,i,Mn.Cancellation);a.length>0&&(Gn.info(\"cancel event matched, cancelling surveys\",{event:t,surveysToCancel:a.map((t=>t.id))}),a.forEach((t=>{var i,e=r.indexOf(t.id);e>=0&&r.splice(e,1),null==(i=this._instance)||i.cancelPendingSurvey(t.id)})),this.Yi(r))}if(this.zi.has(t)){Gn.info(\"survey event name matched\",{event:t,eventPayload:i,surveys:this.zi.get(t)});var l=this.Gi(t,i,Mn.Activation);this.Yi(r.concat(l.map((t=>t.id))||[]))}}}onAction(t){var i,e=(null==(i=this._instance)||null==(i=i.persistence)?void 0:i.props[di])||[];this.Bi.has(t)&&this.Yi(e.concat(this.Bi.get(t)||[]))}Yi(t){var i;Gn.info(\"updating activated surveys\",{activatedSurveys:t}),null==(i=this._instance)||null==(i=i.persistence)||i.register({[di]:[...new Set(t)]})}getSurveys(){var t,i=null==(t=this._instance)||null==(t=t.persistence)?void 0:t.props[di];return i||[]}getEventToSurveys(){return this.zi}Xi(){return this.Ki}}class Zn{constructor(t){this.Qi=void 0,this._surveyManager=null,this.Zi=!1,this.te=!1,this.ie=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){if(!this._instance.config.disable_surveys){var i=t.surveys;if(j(i))return Gn.warn(\"Flags not loaded yet. Not loading surveys.\");var e=I(i);this.Qi=e?i.length>0:i,Gn.info(\"flags response received, isSurveysEnabled: \"+this.Qi),this.loadIfEnabled()}}reset(){localStorage.removeItem(\"lastSeenSurveyDate\");for(var t=[],i=0;i<localStorage.length;i++){var e=localStorage.key(i);(null!=e&&e.startsWith(Vn)||null!=e&&e.startsWith(\"inProgressSurvey_\"))&&t.push(e)}t.forEach((t=>localStorage.removeItem(t)))}loadIfEnabled(){if(!this._surveyManager)if(this.te)Gn.info(\"Already initializing surveys, skipping...\");else if(this._instance.config.disable_surveys)Gn.info(\"Disabled. Not loading surveys.\");else if(this._instance.config.cookieless_mode&&this._instance.consent.isOptedOut())Gn.info(\"Not loading surveys in cookieless mode without consent.\");else{var t=null==v?void 0:v.__PosthogExtensions__;if(t){if(!M(this.Qi)||this._instance.config.advanced_enable_surveys){var i=this.Qi||this._instance.config.advanced_enable_surveys;this.te=!0;try{var e=t.generateSurveys;if(e)return void this.ee(e,i);var r=t.loadExternalDependency;if(!r)return void this.re(\"PostHog loadExternalDependency extension not found.\");r(this._instance,\"surveys\",(e=>{e||!t.generateSurveys?this.re(\"Could not load surveys script\",e):this.ee(t.generateSurveys,i)}))}catch(t){throw this.re(\"Error initializing surveys\",t),t}finally{this.te=!1}}}else Gn.error(\"PostHog Extensions not found.\")}}ee(t,i){this._surveyManager=t(this._instance,i),this._surveyEventReceiver=new Qn(this._instance),Gn.info(\"Surveys loaded successfully\"),this.se({isLoaded:!0})}re(t,i){Gn.error(t,i),this.se({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.ie.push(t),this._surveyManager&&this.se({isLoaded:!0}),()=>{this.ie=this.ie.filter((i=>i!==t))}}getSurveys(t,i){if(void 0===i&&(i=!1),this._instance.config.disable_surveys)return Gn.info(\"Disabled. Not loading surveys.\"),t([]);var e=this._instance.get_property(hi);if(e&&!i)return t(e,{isLoaded:!0});if(this.Zi)return t([],{isLoaded:!1,error:\"Surveys are already being loaded\"});try{this.Zi=!0,this._instance.ci({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/surveys/?token=\"+this._instance.config.token),method:\"GET\",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var e;this.Zi=!1;var r=i.statusCode;if(200!==r||!i.json){var s=\"Surveys API could not be loaded, status: \"+r;return Gn.error(s),t([],{isLoaded:!1,error:s})}var n,o=i.json.surveys||[],a=o.filter((t=>function(t){return!(!t.start_date||t.end_date)}(t)&&(function(t){var i;return!(null==(i=t.conditions)||null==(i=i.events)||null==(i=i.values)||!i.length)}(t)||function(t){var i;return!(null==(i=t.conditions)||null==(i=i.actions)||null==(i=i.values)||!i.length)}(t))));a.length>0&&(null==(n=this._surveyEventReceiver)||n.register(a));return null==(e=this._instance.persistence)||e.register({[hi]:o}),t(o,{isLoaded:!0})}})}catch(t){throw this.Zi=!1,t}}se(t){for(var i of this.ie)try{if(!t.isLoaded)return i([],t);this.getSurveys(i)}catch(t){Gn.error(\"Error in survey callback\",t)}}getActiveMatchingSurveys(t,i){if(void 0===i&&(i=!1),!j(this._surveyManager))return this._surveyManager.getActiveMatchingSurveys(t,i);Gn.warn(\"init was not called\")}ne(t){var i=null;return this.getSurveys((e=>{var r;i=null!==(r=e.find((i=>i.id===t)))&&void 0!==r?r:null})),i}oe(t){if(j(this._surveyManager))return{eligible:!1,reason:\"SDK is not enabled or survey functionality is not yet loaded\"};var i=\"string\"==typeof t?this.ne(t):t;return i?this._surveyManager.checkSurveyEligibility(i):{eligible:!1,reason:\"Survey not found\"}}canRenderSurvey(t){if(j(this._surveyManager))return Gn.warn(\"init was not called\"),{visible:!1,disabledReason:\"SDK is not enabled or survey functionality is not yet loaded\"};var i=this.oe(t);return{visible:i.eligible,disabledReason:i.reason}}canRenderSurveyAsync(t,i){return j(this._surveyManager)?(Gn.warn(\"init was not called\"),Promise.resolve({visible:!1,disabledReason:\"SDK is not enabled or survey functionality is not yet loaded\"})):new Promise((e=>{this.getSurveys((i=>{var r,s=null!==(r=i.find((i=>i.id===t)))&&void 0!==r?r:null;if(s){var n=this.oe(s);e({visible:n.eligible,disabledReason:n.reason})}else e({visible:!1,disabledReason:\"Survey not found\"})}),i)}))}renderSurvey(t,i){var e;if(j(this._surveyManager))Gn.warn(\"init was not called\");else{var r=\"string\"==typeof t?this.ne(t):t;if(null!=r&&r.id)if(Yn.includes(r.type)){var s=null==o?void 0:o.querySelector(i);if(s)return null!=(e=r.appearance)&&e.surveyPopupDelaySeconds?(Gn.info(\"Rendering survey \"+r.id+\" with delay of \"+r.appearance.surveyPopupDelaySeconds+\" seconds\"),void setTimeout((()=>{var t,i;Gn.info(\"Rendering survey \"+r.id+\" with delay of \"+(null==(t=r.appearance)?void 0:t.surveyPopupDelaySeconds)+\" seconds\"),null==(i=this._surveyManager)||i.renderSurvey(r,s),Gn.info(\"Survey \"+r.id+\" rendered\")}),1e3*r.appearance.surveyPopupDelaySeconds)):void this._surveyManager.renderSurvey(r,s);Gn.warn(\"Survey element not found\")}else Gn.warn(\"Surveys of type \"+r.type+\" cannot be rendered in the app\");else Gn.warn(\"Survey not found\")}}displaySurvey(t,i){var e;if(j(this._surveyManager))Gn.warn(\"init was not called\");else{var r=this.ne(t);if(r){var s=r;if(null!=(e=r.appearance)&&e.surveyPopupDelaySeconds&&i.ignoreDelay&&(s=g({},r,{appearance:g({},r.appearance,{surveyPopupDelaySeconds:0})})),!1===i.ignoreConditions){var n=this.canRenderSurvey(r);if(!n.visible)return void Gn.warn(\"Survey is not eligible to be displayed: \",n.disabledReason)}i.displayType!==Bn.Inline?this._surveyManager.handlePopoverSurvey(s):this.renderSurvey(s,i.selector)}else Gn.warn(\"Survey not found\")}}cancelPendingSurvey(t){j(this._surveyManager)?Gn.warn(\"init was not called\"):this._surveyManager.cancelSurvey(t)}}var to=Tt(\"[RateLimiter]\");class io{constructor(t){var i,e;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=t=>{var i=t.text;if(i&&i.length)try{(JSON.parse(i).quota_limited||[]).forEach((t=>{to.info((t||\"events\")+\" is quota limited.\"),this.serverLimits[t]=(new Date).getTime()+6e4}))}catch(t){return void to.warn('could not rate limit - continuing. Error: \"'+(null==t?void 0:t.message)+'\"',{text:i})}},this.instance=t,this.captureEventsPerSecond=(null==(i=t.config.rate_limiting)?void 0:i.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null==(e=t.config.rate_limiting)?void 0:e.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var i,e,r;void 0===t&&(t=!1);var s=(new Date).getTime(),n=null!==(i=null==(e=this.instance.persistence)?void 0:e.get_property(pi))&&void 0!==i?i:{tokens:this.captureEventsBurstLimit,last:s};n.tokens+=(s-n.last)/1e3*this.captureEventsPerSecond,n.last=s,n.tokens>this.captureEventsBurstLimit&&(n.tokens=this.captureEventsBurstLimit);var o=n.tokens<1;return o||t||(n.tokens=Math.max(0,n.tokens-1)),!o||this.lastEventRateLimited||t||this.instance.capture(\"$$client_ingestion_warning\",{$$client_ingestion_warning_message:\"posthog-js client rate limited. Config is set to \"+this.captureEventsPerSecond+\" events per second and \"+this.captureEventsBurstLimit+\" events burst limit.\"},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null==(r=this.instance.persistence)||r.set_property(pi,n),{isRateLimited:o,remainingTokens:n.tokens}}isServerRateLimited(t){var i=this.serverLimits[t||\"events\"]||!1;return!1!==i&&(new Date).getTime()<i}}var eo=Tt(\"[RemoteConfig]\");class ro{constructor(t){this._instance=t}get remoteConfig(){var t;return null==(t=v._POSTHOG_REMOTE_CONFIG)||null==(t=t[this._instance.config.token])?void 0:t.config}ae(t){var i,e;null!=(i=v.__PosthogExtensions__)&&i.loadExternalDependency?null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,\"remote-config\",(()=>t(this.remoteConfig))):(eo.error(\"PostHog Extensions not found. Cannot load remote config.\"),t())}le(t){this._instance.ci({method:\"GET\",url:this._instance.requestRouter.endpointFor(\"assets\",\"/array/\"+this._instance.config.token+\"/config\"),callback:i=>{t(i.json)}})}load(){try{if(this.remoteConfig)return eo.info(\"Using preloaded remote config\",this.remoteConfig),void this.fi(this.remoteConfig);if(this._instance.O())return void eo.warn(\"Remote config is disabled. Falling back to local config.\");this.ae((t=>{if(!t)return eo.info(\"No config found after loading remote JS config. Falling back to JSON.\"),void this.le((t=>{this.fi(t)}));this.fi(t)}))}catch(t){eo.error(\"Error loading remote config\",t)}}fi(t){t?this._instance.config.__preview_remote_config?(this._instance.fi(t),!1!==t.hasFeatureFlags&&this._instance.featureFlags.ensureFlagsLoaded()):eo.info(\"__preview_remote_config is disabled. Logging config instead\",t):eo.error(\"Failed to fetch remote config from PostHog.\")}}var so=3e3;class no{constructor(t,i){this.ue=!0,this.he=[],this.de=J((null==i?void 0:i.flush_interval_ms)||so,250,5e3,Pt.createLogger(\"flush interval\"),so),this.ve=t}enqueue(t){this.he.push(t),this.ce||this.fe()}unload(){this.pe();var t=this.he.length>0?this.ge():{},i=Object.values(t);[...i.filter((t=>0===t.url.indexOf(\"/e\"))),...i.filter((t=>0!==t.url.indexOf(\"/e\")))].map((t=>{this.ve(g({},t,{transport:\"sendBeacon\"}))}))}enable(){this.ue=!1,this.fe()}fe(){var t=this;this.ue||(this.ce=setTimeout((()=>{if(this.pe(),this.he.length>0){var i=this.ge(),e=function(){var e=i[r],s=(new Date).getTime();e.data&&I(e.data)&&Mt(e.data,(t=>{t.offset=Math.abs(t.timestamp-s),delete t.timestamp})),t.ve(e)};for(var r in i)e()}}),this.de))}pe(){clearTimeout(this.ce),this.ce=void 0}ge(){var t={};return Mt(this.he,(i=>{var e,r=i,s=(r?r.batchKey:null)||r.url;M(t[s])&&(t[s]=g({},r,{data:[]})),null==(e=t[s].data)||e.push(r.data)})),this.he=[],t}}var oo=[\"retriesPerformedSoFar\"];class ao{constructor(i){this._e=!1,this.me=3e3,this.he=[],this._instance=i,this.he=[],this.ye=!0,!M(t)&&\"onLine\"in t.navigator&&(this.ye=t.navigator.onLine,this.be=()=>{this.ye=!0,this.Dt()},this.we=()=>{this.ye=!1},qt(t,\"online\",this.be),qt(t,\"offline\",this.we))}get length(){return this.he.length}retriableRequest(t){var{retriesPerformedSoFar:i}=t,e=_(t,oo);L(i)&&i>0&&(e.url=un(e.url,{retry_count:i})),this._instance.ci(g({},e,{callback:t=>{200!==t.statusCode&&(t.statusCode<400||t.statusCode>=500)&&(null!=i?i:0)<10?this.xe(g({retriesPerformedSoFar:i},e)):null==e.callback||e.callback(t)}}))}xe(t){var i=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=i+1;var e=function(t){var i=3e3*Math.pow(2,t),e=i/2,r=Math.min(18e5,i),s=(Math.random()-.5)*(r-e);return Math.ceil(r+s)}(i),r=Date.now()+e;this.he.push({retryAt:r,requestOptions:t});var s=\"Enqueued failed request for retry in \"+e;navigator.onLine||(s+=\" (Browser is offline)\"),Pt.warn(s),this._e||(this._e=!0,this.Se())}Se(){if(this.Ee&&clearTimeout(this.Ee),0===this.he.length)return this._e=!1,void(this.Ee=void 0);this.Ee=setTimeout((()=>{this.ye&&this.he.length>0&&this.Dt(),this.Se()}),this.me)}Dt(){var t=Date.now(),i=[],e=this.he.filter((e=>e.retryAt<t||(i.push(e),!1)));if(this.he=i,e.length>0)for(var{requestOptions:r}of e)this.retriableRequest(r)}unload(){for(var{requestOptions:i}of(this.Ee&&(clearTimeout(this.Ee),this.Ee=void 0),this._e=!1,M(t)||(this.be&&(t.removeEventListener(\"online\",this.be),this.be=void 0),this.we&&(t.removeEventListener(\"offline\",this.we),this.we=void 0)),this.he))try{this._instance.ci(g({},i,{transport:\"sendBeacon\"}))}catch(t){Pt.error(t)}this.he=[]}}class lo{constructor(t){this.$e=()=>{var t,i,e,r;this.ke||(this.ke={});var s=this.scrollElement(),n=this.scrollY(),o=s?Math.max(0,s.scrollHeight-s.clientHeight):0,a=n+((null==s?void 0:s.clientHeight)||0),l=(null==s?void 0:s.scrollHeight)||0;this.ke.lastScrollY=Math.ceil(n),this.ke.maxScrollY=Math.max(n,null!==(t=this.ke.maxScrollY)&&void 0!==t?t:0),this.ke.maxScrollHeight=Math.max(o,null!==(i=this.ke.maxScrollHeight)&&void 0!==i?i:0),this.ke.lastContentY=a,this.ke.maxContentY=Math.max(a,null!==(e=this.ke.maxContentY)&&void 0!==e?e:0),this.ke.maxContentHeight=Math.max(l,null!==(r=this.ke.maxContentHeight)&&void 0!==r?r:0)},this._instance=t}getContext(){return this.ke}resetContext(){var t=this.ke;return setTimeout(this.$e,0),t}startMeasuringScrollPosition(){qt(t,\"scroll\",this.$e,{capture:!0}),qt(t,\"scrollend\",this.$e,{capture:!0}),qt(t,\"resize\",this.$e)}scrollElement(){if(!this._instance.config.scroll_root_selector)return null==t?void 0:t.document.documentElement;var i=I(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var e of i){var r=null==t?void 0:t.document.querySelector(e);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var i=this.scrollElement();return i&&i.scrollTop||0}return t&&(t.scrollY||t.pageYOffset||t.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var i=this.scrollElement();return i&&i.scrollLeft||0}return t&&(t.scrollX||t.pageXOffset||t.document.documentElement.scrollLeft)||0}}var uo=t=>cs(null==t?void 0:t.config.mask_personal_data_properties,null==t?void 0:t.config.custom_personal_data_properties);class ho{constructor(t,i,e,r){this.Pe=t=>{var i=this.Te();if(!i||i.sessionId!==t){var e={sessionId:t,props:this.Ie(this._instance)};this.Re.register({[fi]:e})}},this._instance=t,this.Fe=i,this.Re=e,this.Ie=r||uo,this.Fe.onSessionId(this.Pe)}Te(){return this.Re.props[fi]}getSetOnceProps(){var t,i=null==(t=this.Te())?void 0:t.props;return i?\"r\"in i?fs(i):{$referring_domain:i.referringDomain,$pathname:i.initialPathName,utm_source:i.utm_source,utm_campaign:i.utm_campaign,utm_medium:i.utm_medium,utm_content:i.utm_content,utm_term:i.utm_term}:{}}getSessionProps(){var t={};return Mt(Nt(this.getSetOnceProps()),((i,e)=>{\"$current_url\"===e&&(e=\"url\"),t[\"$session_entry_\"+S(e)]=i})),t}}var vo=Tt(\"[SessionId]\");class co{on(t,i){return this.Ce.on(t,i)}constructor(t,i,e){var r;if(this.Me=[],this.Oe=void 0,this.Ce=new qn,this.Ae=(t,i)=>Math.abs(t-i)>this.sessionTimeoutMs,!t.persistence)throw new Error(\"SessionIdManager requires a PostHogPersistence instance\");if(\"always\"===t.config.cookieless_mode)throw new Error('SessionIdManager cannot be used with cookieless_mode=\"always\"');this.F=t.config,this.Re=t.persistence,this.De=void 0,this.je=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Le=i||$e,this.Ne=e||$e;var s=this.F.persistence_name||this.F.token,n=this.F.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*J(n,60,36e3,vo.createLogger(\"session_idle_timeout_seconds\"),1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Ue(),this.ze=\"ph_\"+s+\"_window_id\",this.He=\"ph_\"+s+\"_primary_window_exists\",this.Be()){var o=Le.W(this.ze),a=Le.W(this.He);o&&!a?this.De=o:Le.V(this.ze),Le.G(this.He,!0)}if(null!=(r=this.F.bootstrap)&&r.sessionID)try{var l=(t=>{var i=t.replace(/-/g,\"\");if(32!==i.length)throw new Error(\"Not a valid UUID\");if(\"7\"!==i[12])throw new Error(\"Not a UUIDv7\");return parseInt(i.substring(0,12),16)})(this.F.bootstrap.sessionID);this.qe(this.F.bootstrap.sessionID,(new Date).getTime(),l)}catch(t){vo.error(\"Invalid sessionID in bootstrap\",t)}this.We()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return M(this.Me)&&(this.Me=[]),this.Me.push(t),this.je&&t(this.je,this.De),()=>{this.Me=this.Me.filter((i=>i!==t))}}Be(){return\"memory\"!==this.F.persistence&&!this.Re.wi&&Le.H()}Ge(t){t!==this.De&&(this.De=t,this.Be()&&Le.G(this.ze,t))}Ve(){return this.De?this.De:this.Be()?Le.W(this.ze):null}qe(t,i,e){t===this.je&&i===this._sessionActivityTimestamp&&e===this._sessionStartTimestamp||(this._sessionStartTimestamp=e,this._sessionActivityTimestamp=i,this.je=t,this.Re.register({[ri]:[i,t,e]}))}Je(){if(this.je&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.je,this._sessionStartTimestamp];var t=this.Re.props[ri];return I(t)&&2===t.length&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.qe(null,null,null)}destroy(){clearTimeout(this.Ke),this.Ke=void 0,this.Oe&&t&&(t.removeEventListener(\"beforeunload\",this.Oe,{capture:!1}),this.Oe=void 0),this.Me=[]}We(){this.Oe=()=>{this.Be()&&Le.V(this.He)},qt(t,\"beforeunload\",this.Oe,{capture:!1})}checkAndGetSessionAndWindowId(t,i){if(void 0===t&&(t=!1),void 0===i&&(i=null),\"always\"===this.F.cookieless_mode)throw new Error('checkAndGetSessionAndWindowId should not be called with cookieless_mode=\"always\"');var e=i||(new Date).getTime(),[r,s,n]=this.Je(),o=this.Ve(),a=L(n)&&n>0&&Math.abs(e-n)>864e5,l=!1,u=!s,h=!u&&!t&&this.Ae(e,r);u||h||a?(s=this.Le(),o=this.Ne(),vo.info(\"new session ID generated\",{sessionId:s,windowId:o,changeReason:{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}}),n=e,l=!0):o||(o=this.Ne(),l=!0);var d=0===r||!t||a?e:r,v=0===n?(new Date).getTime():n;return this.Ge(o),this.qe(s,d,v),t||this.Ue(),l&&this.Me.forEach((t=>t(s,o,l?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}:void 0))),{sessionId:s,windowId:o,sessionStartTimestamp:v,changeReason:l?{noSessionId:u,activityTimeout:h,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:r}}Ue(){clearTimeout(this.Ke),this.Ke=setTimeout((()=>{var[t]=this.Je();if(this.Ae((new Date).getTime(),t)){var i=this.je;this.resetSessionId(),this.Ce.emit(\"forcedIdleReset\",{idleSessionId:i})}}),1.1*this.sessionTimeoutMs)}}var fo=[\"$set_once\",\"$set\"],po=Tt(\"[SiteApps]\");class go{constructor(t){this._instance=t,this.Ye=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Xe(t,i){if(i){var e=this.globalsForEvent(i);this.Ye.push(e),this.Ye.length>1e3&&(this.Ye=this.Ye.slice(10))}}get siteAppLoaders(){var t;return null==(t=v._POSTHOG_REMOTE_CONFIG)||null==(t=t[this._instance.config.token])?void 0:t.siteApps}init(){if(this.isEnabled){var t=this._instance.Ai(this.Xe.bind(this));this.Qe=()=>{t(),this.Ye=[],this.Qe=void 0}}}globalsForEvent(t){var i,e,r,s,n,o,a;if(!t)throw new Error(\"Event payload is required\");var l={},u=this._instance.get_property(\"$groups\")||[],h=this._instance.get_property(\"$stored_group_properties\")||{};for(var[d,v]of Object.entries(h))l[d]={id:u[d],type:d,properties:v};var{$set_once:c,$set:f}=t;return{event:g({},_(t,fo),{properties:g({},t.properties,f?{$set:g({},null!==(i=null==(e=t.properties)?void 0:e.$set)&&void 0!==i?i:{},f)}:{},c?{$set_once:g({},null!==(r=null==(s=t.properties)?void 0:s.$set_once)&&void 0!==r?r:{},c)}:{}),elements_chain:null!==(n=null==(o=t.properties)?void 0:o.$elements_chain)&&void 0!==n?n:\"\",distinct_id:null==(a=t.properties)?void 0:a.distinct_id}),person:{properties:this._instance.get_property(\"$stored_person_properties\")},groups:l}}setupSiteApp(t){var i=this.apps[t.id],e=()=>{var e;(!i.errored&&this.Ye.length&&(po.info(\"Processing \"+this.Ye.length+\" events for site app with id \"+t.id),this.Ye.forEach((t=>null==i.processEvent?void 0:i.processEvent(t))),i.processedBuffer=!0),Object.values(this.apps).every((t=>t.processedBuffer||t.errored)))&&(null==(e=this.Qe)||e.call(this))},r=!1,s=s=>{i.errored=!s,i.loaded=!0,po.info(\"Site app with id \"+t.id+\" \"+(s?\"loaded\":\"errored\")),r&&e()};try{var{processEvent:n}=t.init({posthog:this._instance,callback:t=>{s(t)}});n&&(i.processEvent=n),r=!0}catch(i){po.error(\"Error while initializing PostHog app with config id \"+t.id,i),s(!1)}if(r&&i.loaded)try{e()}catch(e){po.error(\"Error while processing buffered events PostHog app with config id \"+t.id,e),i.errored=!0}}Ze(){var t=this.siteAppLoaders||[];for(var i of t)this.apps[i.id]={id:i.id,loaded:!1,errored:!1,processedBuffer:!1};for(var e of t)this.setupSiteApp(e)}tr(t){if(0!==Object.keys(this.apps).length){var i=this.globalsForEvent(t);for(var e of Object.values(this.apps))try{null==e.processEvent||e.processEvent(i)}catch(i){po.error(\"Error while processing event \"+t.event+\" for site app \"+e.id,i)}}}onRemoteConfig(t){var i,e,r,s=this;if(null!=(i=this.siteAppLoaders)&&i.length)return this.isEnabled?(this.Ze(),void this._instance.on(\"eventCaptured\",(t=>this.tr(t)))):void po.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.');if(null==(e=this.Qe)||e.call(this),null!=(r=t.siteApps)&&r.length)if(this.isEnabled){var n=function(t){var i;v[\"__$$ph_site_app_\"+t]=s._instance,null==(i=v.__PosthogExtensions__)||null==i.loadSiteApp||i.loadSiteApp(s._instance,a,(i=>{if(i)return po.error(\"Error while initializing PostHog app with config id \"+t,i)}))};for(var{id:o,url:a}of t.siteApps)n(o)}else po.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.')}}var _o=function(t,i){if(!t)return!1;var e=t.userAgent;if(e&&y(e,i))return!0;try{var r=null==t?void 0:t.userAgentData;if(null!=r&&r.brands&&r.brands.some((t=>y(null==t?void 0:t.brand,i))))return!0}catch(t){}return!!t.webdriver},mo=function(t){return t.US=\"us\",t.EU=\"eu\",t.CUSTOM=\"custom\",t}({}),yo=\"i.posthog.com\";class bo{constructor(t){this.ir={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\\/$/,\"\");return\"https://app.posthog.com\"===t?\"https://us.i.posthog.com\":t}get flagsApiHost(){var t=this.instance.config.flags_api_host;return t?t.trim().replace(/\\/$/,\"\"):this.apiHost}get uiHost(){var t,i=null==(t=this.instance.config.ui_host)?void 0:t.replace(/\\/$/,\"\");return i||(i=this.apiHost.replace(\".\"+yo,\".posthog.com\")),\"https://app.posthog.com\"===i?\"https://us.posthog.com\":i}get region(){return this.ir[this.apiHost]||(/https:\\/\\/(app|us|us-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this.ir[this.apiHost]=mo.US:/https:\\/\\/(eu|eu-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this.ir[this.apiHost]=mo.EU:this.ir[this.apiHost]=mo.CUSTOM),this.ir[this.apiHost]}endpointFor(t,i){if(void 0===i&&(i=\"\"),i&&(i=\"/\"===i[0]?i:\"/\"+i),\"ui\"===t)return this.uiHost+i;if(\"flags\"===t)return this.flagsApiHost+i;if(this.region===mo.CUSTOM)return this.apiHost+i;var e=yo+i;switch(t){case\"assets\":return\"https://\"+this.region+\"-assets.\"+e;case\"api\":return\"https://\"+this.region+\".\"+e}}}var wo={icontains:(i,e)=>!!t&&e.href.toLowerCase().indexOf(i.toLowerCase())>-1,not_icontains:(i,e)=>!!t&&-1===e.href.toLowerCase().indexOf(i.toLowerCase()),regex:(i,e)=>!!t&&cn(e.href,i),not_regex:(i,e)=>!!t&&!cn(e.href,i),exact:(t,i)=>i.href===t,is_not:(t,i)=>i.href!==t};class xo{constructor(t){var i=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(t){void 0===t&&(t=!1),i.getWebExperiments((t=>{xo.er(\"retrieved web experiments from the server\"),i.rr=new Map,t.forEach((t=>{if(t.feature_flag_key){var e;if(i.rr)xo.er(\"setting flag key \",t.feature_flag_key,\" to web experiment \",t),null==(e=i.rr)||e.set(t.feature_flag_key,t);var r=i._instance.getFeatureFlag(t.feature_flag_key);O(r)&&t.variants[r]&&i.sr(t.name,r,t.variants[r].transforms)}else if(t.variants)for(var s in t.variants){var n=t.variants[s];xo.nr(n)&&i.sr(t.name,s,n.transforms)}}))}),t)},this._instance=t,this._instance.onFeatureFlags((t=>{this.onFeatureFlags(t)}))}onFeatureFlags(t){if(this._is_bot())xo.er(\"Refusing to render web experiment since the viewer is a likely bot\");else if(!this._instance.config.disable_web_experiments){if(j(this.rr))return this.rr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();xo.er(\"applying feature flags\",t),t.forEach((t=>{var i;if(this.rr&&null!=(i=this.rr)&&i.has(t)){var e,r=this._instance.getFeatureFlag(t),s=null==(e=this.rr)?void 0:e.get(t);r&&null!=s&&s.variants[r]&&this.sr(s.name,r,s.variants[r].transforms)}}))}}previewWebExperiment(){var t=xo.getWindowLocation();if(null!=t&&t.search){var i=he(null==t?void 0:t.search,\"__experiment_id\"),e=he(null==t?void 0:t.search,\"__experiment_variant\");i&&e&&(xo.er(\"previewing web experiments \"+i+\" && \"+e),this.getWebExperiments((t=>{this.ar(parseInt(i),e,t)}),!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,i,e){if(this._instance.config.disable_web_experiments&&!e)return t([]);var r=this._instance.get_property(\"$web_experiments\");if(r&&!i)return t(r);this._instance.ci({url:this._instance.requestRouter.endpointFor(\"api\",\"/api/web_experiments/?token=\"+this._instance.config.token),method:\"GET\",callback:i=>{if(200!==i.statusCode||!i.json)return t([]);var e=i.json.experiments||[];return t(e)}})}ar(t,i,e){var r=e.filter((i=>i.id===t));r&&r.length>0&&(xo.er(\"Previewing web experiment [\"+r[0].name+\"] with variant [\"+i+\"]\"),this.sr(r[0].name,i,r[0].variants[i].transforms))}static nr(t){return!j(t.conditions)&&(xo.lr(t)&&xo.ur(t))}static lr(t){var i;if(j(t.conditions)||j(null==(i=t.conditions)?void 0:i.url))return!0;var e,r,s,n=xo.getWindowLocation();return!!n&&(null==(e=t.conditions)||!e.url||wo[null!==(r=null==(s=t.conditions)?void 0:s.urlMatchType)&&void 0!==r?r:\"icontains\"](t.conditions.url,n))}static getWindowLocation(){return null==t?void 0:t.location}static ur(t){var i;if(j(t.conditions)||j(null==(i=t.conditions)?void 0:i.utm))return!0;var e=ls();if(e.utm_source){var r,s,n,o,a,l,u,h,d=null==(r=t.conditions)||null==(r=r.utm)||!r.utm_campaign||(null==(s=t.conditions)||null==(s=s.utm)?void 0:s.utm_campaign)==e.utm_campaign,v=null==(n=t.conditions)||null==(n=n.utm)||!n.utm_source||(null==(o=t.conditions)||null==(o=o.utm)?void 0:o.utm_source)==e.utm_source,c=null==(a=t.conditions)||null==(a=a.utm)||!a.utm_medium||(null==(l=t.conditions)||null==(l=l.utm)?void 0:l.utm_medium)==e.utm_medium,f=null==(u=t.conditions)||null==(u=u.utm)||!u.utm_term||(null==(h=t.conditions)||null==(h=h.utm)?void 0:h.utm_term)==e.utm_term;return d&&c&&f&&v}return!1}static er(t){for(var i=arguments.length,e=new Array(i>1?i-1:0),r=1;r<i;r++)e[r-1]=arguments[r];Pt.info(\"[WebExperiments] \"+t,e)}sr(t,i,e){this._is_bot()?xo.er(\"Refusing to render web experiment since the viewer is a likely bot\"):\"control\"!==i?e.forEach((e=>{if(e.selector){var r;xo.er(\"applying transform of variant \"+i+\" for experiment \"+t+\" \",e);var s=null==(r=document)?void 0:r.querySelectorAll(e.selector);null==s||s.forEach((t=>{var i=t;e.html&&(i.innerHTML=e.html),e.css&&i.setAttribute(\"style\",e.css)}))}})):xo.er(\"Control variants leave the page unmodified.\")}_is_bot(){return n&&this._instance?_o(n,this._instance.config.custom_blocked_useragents):void 0}}var So=Tt(\"[PostHog ExternalIntegrations]\"),Eo={intercom:\"intercom-integration\",crispChat:\"crisp-chat-integration\"};class $o{constructor(t){this._instance=t}it(t,i){var e;null==(e=v.__PosthogExtensions__)||null==e.loadExternalDependency||e.loadExternalDependency(this._instance,t,(t=>{if(t)return So.error(\"failed to load script\",t);i()}))}startIfEnabledOrStop(){var t=this,i=function(i){var e,s,n;(!r||null!=(e=v.__PosthogExtensions__)&&null!=(e=e.integrations)&&e[i]||t.it(Eo[i],(()=>{var e;null==(e=v.__PosthogExtensions__)||null==(e=e.integrations)||null==(e=e[i])||e.start(t._instance)})),!r&&null!=(s=v.__PosthogExtensions__)&&null!=(s=s.integrations)&&s[i])&&(null==(n=v.__PosthogExtensions__)||null==(n=n.integrations)||null==(n=n[i])||n.stop())};for(var[e,r]of Object.entries(null!==(s=this._instance.config.integrations)&&void 0!==s?s:{})){var s;i(e)}}}var ko=\"[SessionRecording]\",Po=Tt(ko);class To{get started(){var t;return!(null==(t=this.hr)||!t.isStarted)}get status(){return this.hr?this.hr.status:this.dr&&!this.vr?\"disabled\":\"lazy_loading\"}constructor(t){if(this._forceAllowLocalhostNetworkCapture=!1,this.dr=!1,this.cr=void 0,this._instance=t,!this._instance.sessionManager)throw Po.error(\"started without valid sessionManager\"),new Error(ko+\" started without valid sessionManager. This is a bug.\");if(\"always\"===this._instance.config.cookieless_mode)throw new Error(ko+' cannot be used with cookieless_mode=\"always\"')}get vr(){var i,e=!(null==(i=this._instance.get_property(ei))||!i.enabled),r=!this._instance.config.disable_session_recording,s=this._instance.config.disable_session_recording||this._instance.consent.isOptedOut();return t&&e&&r&&!s}startIfEnabledOrStop(t){var i;if(!this.vr||null==(i=this.hr)||!i.isStarted){var e=!M(Object.assign)&&!M(Array.from);this.vr&&e?(this.pr(t),Po.info(\"starting\")):this.stopRecording()}}pr(t){var i,e,r;this.vr&&(null!=v&&null!=(i=v.__PosthogExtensions__)&&null!=(i=i.rrweb)&&i.record&&null!=(e=v.__PosthogExtensions__)&&e.initSessionRecording?this.gr(t):null==(r=v.__PosthogExtensions__)||null==r.loadExternalDependency||r.loadExternalDependency(this._instance,this._r,(i=>{if(i)return Po.error(\"could not load recorder\",i);this.gr(t)})))}stopRecording(){var t,i;null==(t=this.cr)||t.call(this),this.cr=void 0,null==(i=this.hr)||i.stop()}mr(){var t;null==(t=this._instance.persistence)||t.unregister(si)}yr(t){if(this._instance.persistence){var i,e,r=this._instance.persistence,s=()=>{var i=!1===t.sessionRecording?void 0:t.sessionRecording,e=null==i?void 0:i.sampleRate,s=j(e)?null:parseFloat(e);j(s)&&this.mr();var n=null==i?void 0:i.minimumDurationMilliseconds;r.register({[ei]:g({enabled:!!i},i,{networkPayloadCapture:g({capturePerformance:t.capturePerformance},null==i?void 0:i.networkPayloadCapture),canvasRecording:{enabled:null==i?void 0:i.recordCanvas,fps:null==i?void 0:i.canvasFps,quality:null==i?void 0:i.canvasQuality},sampleRate:s,minimumDurationMilliseconds:M(n)?null:n,endpoint:null==i?void 0:i.endpoint,triggerMatchType:null==i?void 0:i.triggerMatchType,masking:null==i?void 0:i.masking,urlTriggers:null==i?void 0:i.urlTriggers})})};s(),null==(i=this.cr)||i.call(this),this.cr=null==(e=this._instance.sessionManager)?void 0:e.onSessionId(s)}}onRemoteConfig(t){\"sessionRecording\"in t?!1!==t.sessionRecording?(this.yr(t),this.dr=!0,this.startIfEnabledOrStop()):this.dr=!0:Po.info(\"skipping remote config with no sessionRecording\",t)}log(t,i){var e;void 0===i&&(i=\"log\"),null!=(e=this.hr)&&e.log?this.hr.log(t,i):Po.warn(\"log called before recorder was ready\")}get _r(){var t,i,e=null==(t=this._instance)||null==(t=t.persistence)?void 0:t.get_property(ei);return(null==e||null==(i=e.scriptConfig)?void 0:i.script)||\"lazy-recorder\"}gr(t){var i,e;if(null==(i=v.__PosthogExtensions__)||!i.initSessionRecording)throw Error(\"Called on script loaded before session recording is available\");this.hr||(this.hr=null==(e=v.__PosthogExtensions__)?void 0:e.initSessionRecording(this._instance),this.hr._forceAllowLocalhostNetworkCapture=this._forceAllowLocalhostNetworkCapture);this.hr.start(t)}onRRwebEmit(t){var i;null==(i=this.hr)||null==i.onRRwebEmit||i.onRRwebEmit(t)}overrideLinkedFlag(){var t,i;this.hr||(null==(i=this._instance.persistence)||i.register({$replay_override_linked_flag:!0}));null==(t=this.hr)||t.overrideLinkedFlag()}overrideSampling(){var t,i;this.hr||(null==(i=this._instance.persistence)||i.register({$replay_override_sampling:!0}));null==(t=this.hr)||t.overrideSampling()}overrideTrigger(t){var i,e;this.hr||(null==(e=this._instance.persistence)||e.register({[\"url\"===t?\"$replay_override_url_trigger\":\"$replay_override_event_trigger\"]:!0}));null==(i=this.hr)||i.overrideTrigger(t)}get sdkDebugProperties(){var t;return(null==(t=this.hr)?void 0:t.sdkDebugProperties)||{$recording_status:this.status}}tryAddCustomEvent(t,i){var e;return!(null==(e=this.hr)||!e.tryAddCustomEvent(t,i))}}var Io={},Ro=()=>{},Fo=\"posthog\",Co=!an&&-1===(null==d?void 0:d.indexOf(\"MSIE\"))&&-1===(null==d?void 0:d.indexOf(\"Mozilla\")),Mo=i=>{var e;return g({api_host:\"https://us.i.posthog.com\",flags_api_host:null,ui_host:null,token:\"\",autocapture:!0,cross_subdomain_cookie:Ht(null==o?void 0:o.location),persistence:\"localStorage+cookie\",persistence_name:\"\",loaded:Ro,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageleave:\"if_capture_pageview\",defaults:null!=i?i:\"unset\",__preview_deferred_init_extensions:!1,debug:a&&O(null==a?void 0:a.search)&&-1!==a.search.indexOf(\"__posthog_debug=true\")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_surveys_automatic_display:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:\"https:\"===(null==t||null==(e=t.location)?void 0:e.protocol),ip:!1,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:\"localStorage\",consent_persistence_name:null,opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_flags:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_only_evaluate_survey_feature_flags:!1,advanced_enable_surveys:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:t=>{var i=\"Bad HTTP status: \"+t.statusCode+\" \"+t.text;Pt.error(i)},get_device_id:t=>t,capture_performance:void 0,name:\"posthog\",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:\"identified_only\",before_send:void 0,request_queue_config:{flush_interval_ms:so},error_tracking:{},_onCapture:Ro,__preview_eager_load_replay:!1},(t=>({rageclick:!(t&&t>=\"2025-11-30\")||{content_ignorelist:!0},capture_pageview:!(t&&t>=\"2025-05-24\")||\"history_change\",session_recording:t&&t>=\"2025-11-30\"?{strictMinimumDuration:!0}:{}}))(i))},Oo=t=>{var i={};M(t.process_person)||(i.person_profiles=t.process_person),M(t.xhr_headers)||(i.request_headers=t.xhr_headers),M(t.cookie_name)||(i.persistence_name=t.cookie_name),M(t.disable_cookie)||(i.disable_persistence=t.disable_cookie),M(t.store_google)||(i.save_campaign_params=t.store_google),M(t.verbose)||(i.debug=t.verbose);var e=Ot({},i,t);return I(t.property_blacklist)&&(M(t.property_denylist)?e.property_denylist=t.property_blacklist:I(t.property_denylist)?e.property_denylist=[...t.property_blacklist,...t.property_denylist]:Pt.error(\"Invalid value for property_denylist config: \"+t.property_denylist)),e};class Ao{constructor(){this.__forceAllowLocalhost=!1}get br(){return this.__forceAllowLocalhost}set br(t){Pt.error(\"WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`\"),this.__forceAllowLocalhost=t}}class Do{get decideEndpointWasHit(){var t,i;return null!==(t=null==(i=this.featureFlags)?void 0:i.hasLoadedFlags)&&void 0!==t&&t}get flagsEndpointWasHit(){var t,i;return null!==(t=null==(i=this.featureFlags)?void 0:i.hasLoadedFlags)&&void 0!==t&&t}constructor(){this.webPerformance=new Ao,this.wr=!1,this.version=c.LIB_VERSION,this.Sr=new qn,this._calculate_event_properties=this.calculateEventProperties.bind(this),this.config=Mo(),this.SentryIntegration=Ze,this.sentryIntegration=t=>function(t,i){var e=Qe(t,i);return{name:Xe,processEvent:t=>e(t)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint=\"/e/\",this.Er=!1,this.$r=null,this.kr=null,this.Pr=null,this.featureFlags=new Rn(this),this.toolbar=new sr(this),this.scrollManager=new lo(this),this.pageViewManager=new Es(this),this.surveys=new Zn(this),this.experiments=new xo(this),this.exceptions=new yn(this),this.rateLimiter=new io(this),this.requestRouter=new bo(this),this.consent=new Ue(this),this.externalIntegrations=new $o(this),this.people={set:(t,i,e)=>{var r=O(t)?{[t]:i}:t;this.setPersonProperties(r),null==e||e({})},set_once:(t,i,e)=>{var r=O(t)?{[t]:i}:t;this.setPersonProperties(void 0,r),null==e||e({})}},this.on(\"eventCaptured\",(t=>Pt.info('send \"'+(null==t?void 0:t.event)+'\"',t)))}init(t,i,e){if(e&&e!==Fo){var r,s=null!==(r=Io[e])&&void 0!==r?r:new Do;return s._init(t,i,e),Io[e]=s,Io[Fo][e]=s,s}return this._init(t,i,e)}_init(i,e,r){var s;if(void 0===e&&(e={}),M(i)||A(i))return Pt.critical(\"PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()\"),this;if(this.__loaded)return console.warn(\"[PostHog.js]\",\"You have already initialized PostHog! Re-initializing is a no-op\"),this;this.__loaded=!0,this.config={},e.debug=this.Tr(e.debug),this.Ir=e,this.Rr=[],e.person_profiles&&(this.kr=e.person_profiles),this.set_config(Ot({},Mo(e.defaults),Oo(e),{name:r,token:i})),this.config.on_xhr_error&&Pt.error(\"on_xhr_error is deprecated. Use on_request_error instead\"),this.compression=e.disable_compression?void 0:oe.GZipJS;var n=this.Fr();this.persistence=new Cn(this.config,n),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Cn(g({},this.config,{persistence:\"sessionStorage\"}),n);var o=g({},this.persistence.props),a=g({},this.sessionPersistence.props);this.register({$initialization_time:(new Date).toISOString()}),this.Cr=new no((t=>this.Mr(t)),this.config.request_queue_config),this.Or=new ao(this),this.__request_queue=[];var l=\"always\"===this.config.cookieless_mode||\"on_reject\"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut();if(l||(this.sessionManager=new co(this),this.sessionPropsManager=new ho(this,this.sessionManager,this.persistence)),this.config.__preview_deferred_init_extensions?(Pt.info(\"Deferring extension initialization to improve startup performance\"),setTimeout((()=>{this.Ar(l)}),0)):(Pt.info(\"Initializing extensions synchronously\"),this.Ar(l)),c.DEBUG=c.DEBUG||this.config.debug,c.DEBUG&&Pt.info(\"Starting in debug mode\",{this:this,config:e,thisC:g({},this.config),p:o,s:a}),void 0!==(null==(s=e.bootstrap)?void 0:s.distinctID)){var u,h,d=this.config.get_device_id($e()),v=null!=(u=e.bootstrap)&&u.isIdentifiedID?d:e.bootstrap.distinctID;this.persistence.set_property(ci,null!=(h=e.bootstrap)&&h.isIdentifiedID?\"identified\":\"anonymous\"),this.register({distinct_id:e.bootstrap.distinctID,$device_id:v})}if(this.Dr()){var f,p,_=Object.keys((null==(f=e.bootstrap)?void 0:f.featureFlags)||{}).filter((t=>{var i;return!(null==(i=e.bootstrap)||null==(i=i.featureFlags)||!i[t])})).reduce(((t,i)=>{var r;return t[i]=(null==(r=e.bootstrap)||null==(r=r.featureFlags)?void 0:r[i])||!1,t}),{}),m=Object.keys((null==(p=e.bootstrap)?void 0:p.featureFlagPayloads)||{}).filter((t=>_[t])).reduce(((t,i)=>{var r,s;null!=(r=e.bootstrap)&&null!=(r=r.featureFlagPayloads)&&r[i]&&(t[i]=null==(s=e.bootstrap)||null==(s=s.featureFlagPayloads)?void 0:s[i]);return t}),{});this.featureFlags.receivedFeatureFlags({featureFlags:_,featureFlagPayloads:m})}if(l)this.register_once({distinct_id:wi,$device_id:null},\"\");else if(!this.get_distinct_id()){var y=this.config.get_device_id($e());this.register_once({distinct_id:y,$device_id:y},\"\"),this.persistence.set_property(ci,\"anonymous\")}return qt(t,\"onpagehide\"in self?\"pagehide\":\"unload\",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),e.segment?Ye(this,(()=>this.jr())):this.jr(),R(this.config._onCapture)&&this.config._onCapture!==Ro&&(Pt.warn(\"onCapture is deprecated. Please use `before_send` instead\"),this.on(\"eventCaptured\",(t=>this.config._onCapture(t.event,t)))),this.config.ip&&Pt.warn('The `ip` config option has NO EFFECT AT ALL and has been deprecated. Use a custom transformation or \"Discard IP data\" project setting instead. See https://posthog.com/tutorials/web-redact-properties#hiding-customer-ip-address for more information.'),this}Ar(t){var i=performance.now();this.historyAutocapture=new Je(this),this.historyAutocapture.startIfEnabled();var e=[];e.push((()=>{new or(this).startIfEnabledOrStop()})),e.push((()=>{var t;this.siteApps=new go(this),null==(t=this.siteApps)||t.init()})),t||e.push((()=>{this.sessionRecording=new To(this),this.sessionRecording.startIfEnabledOrStop()})),this.config.disable_scroll_properties||e.push((()=>{this.scrollManager.startMeasuringScrollPosition()})),e.push((()=>{this.autocapture=new me(this),this.autocapture.startIfEnabled()})),e.push((()=>{this.surveys.loadIfEnabled()})),e.push((()=>{this.heatmaps=new Ss(this),this.heatmaps.startIfEnabled()})),e.push((()=>{this.webVitalsAutocapture=new bs(this)})),e.push((()=>{this.exceptionObserver=new Ge(this),this.exceptionObserver.startIfEnabled()})),e.push((()=>{this.deadClicksAutocapture=new qe(this,Be),this.deadClicksAutocapture.startIfEnabled()})),e.push((()=>{if(this.Lr){var t=this.Lr;this.Lr=void 0,this.fi(t)}})),this.Nr(e,i)}Nr(t,i){for(;t.length>0;){if(this.config.__preview_deferred_init_extensions)if(performance.now()-i>=30&&t.length>0)return void setTimeout((()=>{this.Nr(t,i)}),0);var e=t.shift();if(e)try{e()}catch(t){Pt.error(\"Error initializing extension:\",t)}}var r=Math.round(performance.now()-i);this.register_for_session({$sdk_debug_extensions_init_method:this.config.__preview_deferred_init_extensions?\"deferred\":\"synchronous\",$sdk_debug_extensions_init_time_ms:r}),this.config.__preview_deferred_init_extensions&&Pt.info(\"PostHog extensions initialized (\"+r+\"ms)\")}fi(t){var i,e,r,s,n,a,l,u;if(!o||!o.body)return Pt.info(\"document not ready yet, trying again in 500 milliseconds...\"),void setTimeout((()=>{this.fi(t)}),500);this.config.__preview_deferred_init_extensions&&(this.Lr=t),this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=w(t.supportedCompression,oe.GZipJS)?oe.GZipJS:w(t.supportedCompression,oe.Base64)?oe.Base64:void 0),null!=(i=t.analytics)&&i.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.kr?this.kr:\"identified_only\"}),null==(e=this.siteApps)||e.onRemoteConfig(t),null==(r=this.sessionRecording)||r.onRemoteConfig(t),null==(s=this.autocapture)||s.onRemoteConfig(t),null==(n=this.heatmaps)||n.onRemoteConfig(t),this.surveys.onRemoteConfig(t),null==(a=this.webVitalsAutocapture)||a.onRemoteConfig(t),null==(l=this.exceptionObserver)||l.onRemoteConfig(t),this.exceptions.onRemoteConfig(t),null==(u=this.deadClicksAutocapture)||u.onRemoteConfig(t)}jr(){try{this.config.loaded(this)}catch(t){Pt.critical(\"`loaded` function failed\",t)}this.Ur(),this.config.capture_pageview&&setTimeout((()=>{(this.consent.isOptedIn()||\"always\"===this.config.cookieless_mode)&&this.zr()}),1),new ro(this).load(),this.featureFlags.flags()}Ur(){var t;this.is_capturing()&&(this.config.request_batching&&(null==(t=this.Cr)||t.enable()))}_dom_loaded(){this.is_capturing()&&Ct(this.__request_queue,(t=>this.Mr(t))),this.__request_queue=[],this.Ur()}_handle_unload(){var t,i;this.config.request_batching?(this.Hr()&&this.capture(\"$pageleave\"),null==(t=this.Cr)||t.unload(),null==(i=this.Or)||i.unload()):this.Hr()&&this.capture(\"$pageleave\",null,{transport:\"sendBeacon\"})}ci(t){this.__loaded&&(Co?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=un(t.url,{ip:this.config.ip?1:0}),t.headers=g({},this.config.request_headers),t.compression=\"best-available\"===t.compression?this.compression:t.compression,t.disableXHRCredentials=this.config.__preview_disable_xhr_credentials,this.config.__preview_disable_beacon&&(t.disableTransport=[\"sendBeacon\"]),t.fetchOptions=t.fetchOptions||this.config.fetch_options,(t=>{var i,e,r,s=g({},t);s.timeout=s.timeout||6e4,s.url=un(s.url,{_:(new Date).getTime().toString(),ver:c.LIB_VERSION,compression:s.compression});var n=null!==(i=s.transport)&&void 0!==i?i:\"fetch\",o=vn.filter((t=>!s.disableTransport||!t.transport||!s.disableTransport.includes(t.transport))),a=null!==(e=null==(r=Bt(o,(t=>t.transport===n)))?void 0:r.method)&&void 0!==e?e:o[0].method;if(!a)throw new Error(\"No available transport method\");a(s)})(g({},t,{callback:i=>{var e,r;(this.rateLimiter.checkForLimiting(i),i.statusCode>=400)&&(null==(e=(r=this.config).on_request_error)||e.call(r,i));null==t.callback||t.callback(i)}}))))}Mr(t){this.Or?this.Or.retriableRequest(t):this.ci(t)}_execute_array(t){var i,e=[],r=[],s=[];Ct(t,(t=>{t&&(i=t[0],I(i)?s.push(t):R(t)?t.call(this):I(t)&&\"alias\"===i?e.push(t):I(t)&&-1!==i.indexOf(\"capture\")&&R(this[i])?s.push(t):r.push(t))}));var n=function(t,i){Ct(t,(function(t){if(I(t[0])){var e=i;Mt(t,(function(t){e=e[t[0]].apply(e,t.slice(1))}))}else this[t[0]].apply(this,t.slice(1))}),i)};n(e,this),n(r,this),n(s,this)}Dr(){var t,i;return(null==(t=this.config.bootstrap)?void 0:t.featureFlags)&&Object.keys(null==(i=this.config.bootstrap)?void 0:i.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,i,e){var r;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.Cr){if(this.is_capturing())if(!M(t)&&O(t)){var s=!this.config.opt_out_useragent_filter&&this._is_bot();if(!(s&&!this.config.__preview_capture_bot_pageviews)){var n=null!=e&&e.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==n||!n.isRateLimited){null!=i&&i.$current_url&&!O(null==i?void 0:i.$current_url)&&(Pt.error(\"Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value.\"),null==i||delete i.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var o=new Date,a=(null==e?void 0:e.timestamp)||o,l=$e(),u={uuid:l,event:t,properties:this.calculateEventProperties(t,i||{},a,l)};\"$pageview\"===t&&this.config.__preview_capture_bot_pageviews&&s&&(u.event=\"$bot_pageview\",u.properties.$browser_type=\"bot\"),n&&(u.properties.$lib_rate_limit_remaining_tokens=n.remainingTokens),(null==e?void 0:e.$set)&&(u.$set=null==e?void 0:e.$set);var h,d=this.Br(null==e?void 0:e.$set_once);if(d&&(u.$set_once=d),(u=Ut(u,null!=e&&e._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,M(null==e?void 0:e.timestamp)||(u.properties.$event_time_override_provided=!0,u.properties.$event_time_override_system_time=o),t===zn.DISMISSED||t===zn.SENT){var v=null==i?void 0:i[Hn.SURVEY_ID],c=null==i?void 0:i[Hn.SURVEY_ITERATION];h={id:v,current_iteration:c},localStorage.getItem(Kn(h))||localStorage.setItem(Kn(h),\"true\"),u.$set=g({},u.$set,{[Jn({id:v,current_iteration:c},t===zn.SENT?\"responded\":\"dismissed\")]:!0})}var f=g({},u.properties.$set,u.$set);if(C(f)||this.setPersonPropertiesForFlags(f),!j(this.config.before_send)){var p=this.qr(u);if(!p)return;u=p}this.Sr.emit(\"eventCaptured\",u);var _={method:\"POST\",url:null!==(r=null==e?void 0:e._url)&&void 0!==r?r:this.requestRouter.endpointFor(\"api\",this.analyticsDefaultEndpoint),data:u,compression:\"best-available\",batchKey:null==e?void 0:e._batchKey};return!this.config.request_batching||e&&(null==e||!e._batchKey)||null!=e&&e.send_instantly?this.Mr(_):this.Cr.enqueue(_),u}Pt.critical(\"This capture call is ignored due to client rate limiting.\")}}else Pt.error(\"No event name provided to posthog.capture\")}else Pt.uninitializedWarning(\"posthog.capture\")}Ai(t){return this.on(\"eventCaptured\",(i=>t(i.event,i)))}calculateEventProperties(t,i,e,r,s){if(e=e||new Date,!this.persistence||!this.sessionPersistence)return i;var n=s?void 0:this.persistence.remove_event_timer(t),a=g({},i);if(a.token=this.config.token,a.$config_defaults=this.config.defaults,(\"always\"==this.config.cookieless_mode||\"on_reject\"==this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())&&(a.$cookieless_mode=!0),\"$snapshot\"===t){var l=g({},this.persistence.properties(),this.sessionPersistence.properties());return a.distinct_id=l.distinct_id,(!O(a.distinct_id)&&!L(a.distinct_id)||A(a.distinct_id))&&Pt.error(\"Invalid distinct_id for replay event. This indicates a bug in your implementation\"),a}var u,h=_s(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:v,windowId:c}=this.sessionManager.checkAndGetSessionAndWindowId(s,e.getTime());a.$session_id=v,a.$window_id=c}this.sessionPropsManager&&Ot(a,this.sessionPropsManager.getSessionProps());try{var f;this.sessionRecording&&Ot(a,this.sessionRecording.sdkDebugProperties),a.$sdk_debug_retry_queue_size=null==(f=this.Or)?void 0:f.length}catch(t){a.$sdk_debug_error_capturing_properties=String(t)}if(this.requestRouter.region===mo.CUSTOM&&(a.$lib_custom_api_host=this.config.api_host),u=\"$pageview\"!==t||s?\"$pageleave\"!==t||s?this.pageViewManager.doEvent():this.pageViewManager.doPageLeave(e):this.pageViewManager.doPageView(e,r),a=Ot(a,u),\"$pageview\"===t&&o&&(a.title=o.title),!M(n)){var p=e.getTime()-n;a.$duration=parseFloat((p/1e3).toFixed(3))}d&&this.config.opt_out_useragent_filter&&(a.$browser_type=this._is_bot()?\"bot\":\"browser\"),(a=Ot({},h,this.persistence.properties(),this.sessionPersistence.properties(),a)).$is_identified=this._isIdentified(),I(this.config.property_denylist)?Mt(this.config.property_denylist,(function(t){delete a[t]})):Pt.error(\"Invalid value for property_denylist config: \"+this.config.property_denylist+\" or property_blacklist config: \"+this.config.property_blacklist);var _=this.config.sanitize_properties;_&&(Pt.error(\"sanitize_properties is deprecated. Use before_send instead\"),a=_(a,t));var m=this.Wr();return a.$process_person_profile=m,m&&!s&&this.Gr(\"_calculate_event_properties\"),a}Br(t){var i;if(!this.persistence||!this.Wr())return t;if(this.wr)return t;var e=this.persistence.get_initial_props(),r=null==(i=this.sessionPropsManager)?void 0:i.getSetOnceProps(),s=Ot({},e,r||{},t||{}),n=this.config.sanitize_properties;return n&&(Pt.error(\"sanitize_properties is deprecated. Use before_send instead\"),s=n(s,\"$set_once\")),this.wr=!0,C(s)?void 0:s}register(t,i){var e;null==(e=this.persistence)||e.register(t,i)}register_once(t,i,e){var r;null==(r=this.persistence)||r.register_once(t,i,e)}register_for_session(t){var i;null==(i=this.sessionPersistence)||i.register(t)}unregister(t){var i;null==(i=this.persistence)||i.unregister(t)}unregister_for_session(t){var i;null==(i=this.sessionPersistence)||i.unregister(t)}Vr(t,i){this.register({[t]:i})}getFeatureFlag(t,i){return this.featureFlags.getFeatureFlag(t,i)}getFeatureFlagPayload(t){var i=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(i)}catch(t){return i}}isFeatureEnabled(t,i){return this.featureFlags.isFeatureEnabled(t,i)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,i,e){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,i,e)}getEarlyAccessFeatures(t,i,e){return void 0===i&&(i=!1),this.featureFlags.getEarlyAccessFeatures(t,i,e)}on(t,i){return this.Sr.on(t,i)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var i,e;return null!==(i=null==(e=this.sessionManager)?void 0:e.onSessionId(t))&&void 0!==i?i:()=>{}}getSurveys(t,i){void 0===i&&(i=!1),this.surveys.getSurveys(t,i)}getActiveMatchingSurveys(t,i){void 0===i&&(i=!1),this.surveys.getActiveMatchingSurveys(t,i)}renderSurvey(t,i){this.surveys.renderSurvey(t,i)}displaySurvey(t,i){void 0===i&&(i=Xn),this.surveys.displaySurvey(t,i)}cancelPendingSurvey(t){this.surveys.cancelPendingSurvey(t)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,i){return void 0===i&&(i=!1),this.surveys.canRenderSurveyAsync(t,i)}identify(t,i,e){if(!this.__loaded||!this.persistence)return Pt.uninitializedWarning(\"posthog.identify\");if(L(t)&&(t=t.toString(),Pt.warn(\"The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.\")),t)if([\"distinct_id\",\"distinctid\"].includes(t.toLowerCase()))Pt.critical('The string \"'+t+'\" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(t!==wi){if(this.Gr(\"posthog.identify\")){var r=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property(\"$device_id\")){var s=r;this.register_once({$had_persisted_distinct_id:!0,$device_id:s},\"\")}t!==r&&t!==this.get_property(Gt)&&(this.unregister(Gt),this.register({distinct_id:t}));var n=\"anonymous\"===(this.persistence.get_property(ci)||\"anonymous\");t!==r&&n?(this.persistence.set_property(ci,\"identified\"),this.setPersonPropertiesForFlags(g({},e||{},i||{}),!1),this.capture(\"$identify\",{distinct_id:t,$anon_distinct_id:r},{$set:i||{},$set_once:e||{}}),this.Pr=fn(t,i,e),this.featureFlags.setAnonymousDistinctId(r)):(i||e)&&this.setPersonProperties(i,e),t!==r&&(this.reloadFeatureFlags(),this.unregister(vi))}}else Pt.critical('The string \"'+wi+'\" was set in posthog.identify which indicates an error. This ID is only used as a sentinel value.');else Pt.error(\"Unique user id has not been set in posthog.identify\")}setPersonProperties(t,i){if((t||i)&&this.Gr(\"posthog.setPersonProperties\")){var e=fn(this.get_distinct_id(),t,i);this.Pr!==e?(this.setPersonPropertiesForFlags(g({},i||{},t||{})),this.capture(\"$set\",{$set:t||{},$set_once:i||{}}),this.Pr=e):Pt.info(\"A duplicate setPersonProperties call was made with the same properties. It has been ignored.\")}}group(t,i,e){if(t&&i){if(this.Gr(\"posthog.group\")){var r=this.getGroups();r[t]!==i&&this.resetGroupPropertiesForFlags(t),this.register({$groups:g({},r,{[t]:i})}),e&&(this.capture(\"$groupidentify\",{$group_type:t,$group_key:i,$group_set:e}),this.setGroupPropertiesForFlags({[t]:e})),r[t]===i||e||this.reloadFeatureFlags()}}else Pt.error(\"posthog.group requires a group type and group key\")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,i){void 0===i&&(i=!0),this.featureFlags.setPersonPropertiesForFlags(t,i)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,i){void 0===i&&(i=!0),this.Gr(\"posthog.setGroupPropertiesForFlags\")&&this.featureFlags.setGroupPropertiesForFlags(t,i)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var i,e,r,s;if(Pt.info(\"reset\"),!this.__loaded)return Pt.uninitializedWarning(\"posthog.reset\");var n=this.get_property(\"$device_id\");if(this.consent.reset(),null==(i=this.persistence)||i.clear(),null==(e=this.sessionPersistence)||e.clear(),this.surveys.reset(),this.featureFlags.reset(),null==(r=this.persistence)||r.set_property(ci,\"anonymous\"),null==(s=this.sessionManager)||s.resetSessionId(),this.Pr=null,\"always\"===this.config.cookieless_mode)this.register_once({distinct_id:wi,$device_id:null},\"\");else{var o=this.config.get_device_id($e());this.register_once({distinct_id:o,$device_id:t?o:n},\"\")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property(\"distinct_id\")}getGroups(){return this.get_property(\"$groups\")||{}}get_session_id(){var t,i;return null!==(t=null==(i=this.sessionManager)?void 0:i.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==t?t:\"\"}get_session_replay_url(t){if(!this.sessionManager)return\"\";var{sessionId:i,sessionStartTimestamp:e}=this.sessionManager.checkAndGetSessionAndWindowId(!0),r=this.requestRouter.endpointFor(\"ui\",\"/project/\"+this.config.token+\"/replay/\"+i);if(null!=t&&t.withTimestamp&&e){var s,n=null!==(s=t.timestampLookBack)&&void 0!==s?s:10;if(!e)return r;r+=\"?t=\"+Math.max(Math.floor(((new Date).getTime()-e)/1e3)-n,0)}return r}alias(t,i){return t===this.get_property(Wt)?(Pt.critical(\"Attempting to create alias for existing People user - aborting.\"),-2):this.Gr(\"posthog.alias\")?(M(i)&&(i=this.get_distinct_id()),t!==i?(this.Vr(Gt,t),this.capture(\"$create_alias\",{alias:t,distinct_id:i})):(Pt.warn(\"alias matches current distinct_id - skipping api call.\"),this.identify(t),-1)):void 0}set_config(t){var i=g({},this.config);if(F(t)){var e,r,s,n,o;Ot(this.config,Oo(t));var a=this.Fr();null==(e=this.persistence)||e.update_config(this.config,i,a),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Cn(g({},this.config,{persistence:\"sessionStorage\"}),a);var l=this.Tr(this.config.debug);N(l)&&(this.config.debug=l),N(this.config.debug)&&(this.config.debug?(c.DEBUG=!0,Ce.H()&&Ce.G(\"ph_debug\",\"true\"),Pt.info(\"set_config\",{config:t,oldConfig:i,newConfig:g({},this.config)})):(c.DEBUG=!1,Ce.H()&&Ce.V(\"ph_debug\"))),null==(r=this.sessionRecording)||r.startIfEnabledOrStop(),null==(s=this.autocapture)||s.startIfEnabled(),null==(n=this.heatmaps)||n.startIfEnabled(),this.surveys.loadIfEnabled(),this.Jr(),null==(o=this.externalIntegrations)||o.startIfEnabledOrStop()}}startSessionRecording(t){var i=!0===t,e={sampling:i||!(null==t||!t.sampling),linked_flag:i||!(null==t||!t.linked_flag),url_trigger:i||!(null==t||!t.url_trigger),event_trigger:i||!(null==t||!t.event_trigger)};if(Object.values(e).some(Boolean)){var r,s,n,o,a;if(null==(r=this.sessionManager)||r.checkAndGetSessionAndWindowId(),e.sampling)null==(s=this.sessionRecording)||s.overrideSampling();if(e.linked_flag)null==(n=this.sessionRecording)||n.overrideLinkedFlag();if(e.url_trigger)null==(o=this.sessionRecording)||o.overrideTrigger(\"url\");if(e.event_trigger)null==(a=this.sessionRecording)||a.overrideTrigger(\"event\")}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!(null==(t=this.sessionRecording)||!t.started)}captureException(t,i){var e=new Error(\"PostHog syntheticException\"),r=this.exceptions.buildProperties(t,{handled:!0,syntheticException:e});return this.exceptions.sendExceptionEvent(g({},r,i))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var i;return null==(i=this.persistence)?void 0:i.props[t]}getSessionProperty(t){var i;return null==(i=this.sessionPersistence)?void 0:i.props[t]}toString(){var t,i=null!==(t=this.config.name)&&void 0!==t?t:Fo;return i!==Fo&&(i=Fo+\".\"+i),i}_isIdentified(){var t,i;return\"identified\"===(null==(t=this.persistence)?void 0:t.get_property(ci))||\"identified\"===(null==(i=this.sessionPersistence)?void 0:i.get_property(ci))}Wr(){var t,i;return!(\"never\"===this.config.person_profiles||\"identified_only\"===this.config.person_profiles&&!this._isIdentified()&&C(this.getGroups())&&(null==(t=this.persistence)||null==(t=t.props)||!t[Gt])&&(null==(i=this.persistence)||null==(i=i.props)||!i[yi]))}Hr(){return!0===this.config.capture_pageleave||\"if_capture_pageview\"===this.config.capture_pageleave&&(!0===this.config.capture_pageview||\"history_change\"===this.config.capture_pageview)}createPersonProfile(){this.Wr()||this.Gr(\"posthog.createPersonProfile\")&&this.setPersonProperties({},{})}Gr(t){return\"never\"===this.config.person_profiles?(Pt.error(t+' was called, but process_person is set to \"never\". This call will be ignored.'),!1):(this.Vr(yi,!0),!0)}Fr(){if(\"always\"===this.config.cookieless_mode)return!0;var t=this.consent.isOptedOut(),i=this.config.opt_out_persistence_by_default||\"on_reject\"===this.config.cookieless_mode;return this.config.disable_persistence||t&&!!i}Jr(){var t,i,e,r,s=this.Fr();(null==(t=this.persistence)?void 0:t.wi)!==s&&(null==(e=this.persistence)||e.set_disabled(s));(null==(i=this.sessionPersistence)?void 0:i.wi)!==s&&(null==(r=this.sessionPersistence)||r.set_disabled(s));return s}opt_in_capturing(t){if(\"always\"!==this.config.cookieless_mode){var i,e;if(\"on_reject\"===this.config.cookieless_mode&&this.consent.isExplicitlyOptedOut())this.reset(!0),null==(i=this.sessionManager)||i.destroy(),this.sessionManager=new co(this),this.persistence&&(this.sessionPropsManager=new ho(this,this.sessionManager,this.persistence)),this.sessionRecording=new To(this),this.sessionRecording.startIfEnabledOrStop();if(this.consent.optInOut(!0),this.Jr(),this.Ur(),\"on_reject\"==this.config.cookieless_mode&&this.surveys.loadIfEnabled(),M(null==t?void 0:t.captureEventName)||null!=t&&t.captureEventName)this.capture(null!==(e=null==t?void 0:t.captureEventName)&&void 0!==e?e:\"$opt_in\",null==t?void 0:t.captureProperties,{send_instantly:!0});this.config.capture_pageview&&this.zr()}else Pt.warn('Consent opt in/out is not valid with cookieless_mode=\"always\" and will be ignored')}opt_out_capturing(){var t,i;\"always\"!==this.config.cookieless_mode?(\"on_reject\"===this.config.cookieless_mode&&this.consent.isOptedIn()&&this.reset(!0),this.consent.optInOut(!1),this.Jr(),\"on_reject\"===this.config.cookieless_mode&&(this.register({distinct_id:wi,$device_id:null}),null==(t=this.sessionManager)||t.destroy(),this.sessionManager=void 0,this.sessionPropsManager=void 0,null==(i=this.sessionRecording)||i.stopRecording(),this.sessionRecording=void 0,this.zr())):Pt.warn('Consent opt in/out is not valid with cookieless_mode=\"always\" and will be ignored')}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}get_explicit_consent_status(){var t=this.consent.consent;return t===Ne.GRANTED?\"granted\":t===Ne.DENIED?\"denied\":\"pending\"}is_capturing(){return\"always\"===this.config.cookieless_mode||(\"on_reject\"===this.config.cookieless_mode?this.consent.isExplicitlyOptedOut()||this.consent.isOptedIn():!this.has_opted_out_capturing())}clear_opt_in_out_capturing(){this.consent.reset(),this.Jr()}_is_bot(){return n?_o(n,this.config.custom_blocked_useragents):void 0}zr(){o&&(\"visible\"===o.visibilityState?this.Er||(this.Er=!0,this.capture(\"$pageview\",{title:o.title},{send_instantly:!0}),this.$r&&(o.removeEventListener(\"visibilitychange\",this.$r),this.$r=null)):this.$r||(this.$r=this.zr.bind(this),qt(o,\"visibilitychange\",this.$r)))}debug(i){!1===i?(null==t||t.console.log(\"You've disabled debug mode.\"),this.set_config({debug:!1})):(null==t||t.console.log(\"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"),this.set_config({debug:!0}))}O(){var t,i,e,r,s,n,o,a=this.Ir||{};return\"advanced_disable_flags\"in a?!!a.advanced_disable_flags:!1!==this.config.advanced_disable_flags?!!this.config.advanced_disable_flags:!0===this.config.advanced_disable_decide?(Pt.warn(\"Config field 'advanced_disable_decide' is deprecated. Please use 'advanced_disable_flags' instead. The old field will be removed in a future major version.\"),!0):(e=\"advanced_disable_decide\",r=!1,s=Pt,n=(i=\"advanced_disable_flags\")in(t=a)&&!M(t[i]),o=e in t&&!M(t[e]),n?t[i]:o?(s&&s.warn(\"Config field '\"+e+\"' is deprecated. Please use '\"+i+\"' instead. The old field will be removed in a future major version.\"),t[e]):r)}qr(t){if(j(this.config.before_send))return t;var i=I(this.config.before_send)?this.config.before_send:[this.config.before_send],e=t;for(var r of i){if(e=r(e),j(e)){var s=\"Event '\"+t.event+\"' was rejected in beforeSend function\";return z(t.event)?Pt.warn(s+\". This can cause unexpected behavior.\"):Pt.info(s),null}e.properties&&!C(e.properties)||Pt.warn(\"Event '\"+t.event+\"' has no properties after beforeSend function, this is likely an error.\")}return e}getPageViewId(){var t;return null==(t=this.pageViewManager.Vt)?void 0:t.pageViewId}captureTraceFeedback(t,i){this.capture(\"$ai_feedback\",{$ai_trace_id:String(t),$ai_feedback_text:i})}captureTraceMetric(t,i,e){this.capture(\"$ai_metric\",{$ai_trace_id:String(t),$ai_metric_name:i,$ai_metric_value:String(e)})}Tr(t){var i=N(t)&&!t,e=Ce.H()&&\"true\"===Ce.q(\"ph_debug\");return!i&&(!!e||t)}}!function(t,i){for(var e=0;e<i.length;e++)t.prototype[i[e]]=Lt(t.prototype[i[e]])}(Do,[\"identify\"]);var jo,Lo=(jo=Io[Fo]=new Do,function(){function i(){i.done||(i.done=!0,Co=!1,Mt(Io,(function(t){t._dom_loaded()})))}null!=o&&o.addEventListener?\"complete\"===o.readyState?i():qt(o,\"DOMContentLoaded\",i,{capture:!1}):t&&Pt.error(\"Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized\")}(),jo);\n//# sourceMappingURL=module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9kaXN0L21vZHVsZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZGQUE2RixtRkFBbUYsRUFBRSx3VUFBd1UsSUFBSSxnQ0FBZ0MsMEJBQTBCLElBQUksd0JBQXdCLFNBQVMsaUJBQWlCLHlDQUF5QyxjQUFjLGtCQUFrQix1QkFBdUIsa0NBQWtDLG1CQUFtQixjQUFjLHNCQUFzQixjQUFjLHVCQUF1QixVQUFVLElBQUksYUFBYSx3REFBd0QsWUFBWSxtQkFBbUIsS0FBSyxtQkFBbUIsa0JBQWtCLHdDQUF3QyxTQUFTLHlCQUF5QixnQkFBZ0Isb0JBQW9CLFNBQVMsb0JBQW9CLDJCQUEyQiw4QkFBOEIsVUFBVSxTQUFTLCttQkFBK21CLGlpQkFBaWlCLGtDQUFrQyxzQkFBc0IsNkJBQTZCLHNCQUFzQix3QkFBd0IsR0FBRyx5UEFBeVAsZ0JBQWdCLHdCQUF3QixrQkFBa0IsZ0JBQWdCLGVBQWUsNEJBQTRCLHdGQUF3RixtQ0FBbUMsMkRBQTJELFNBQVMsdUNBQXVDLFNBQVMsU0FBUyw2TkFBNk4sY0FBYyxvQ0FBb0MsZ0JBQWdCLDREQUE0RCxjQUFjLCtCQUErQixJQUFJLHNCQUFzQixTQUFTLFVBQVUsVUFBVSxvRUFBb0Usc0JBQXNCLDRUQUE0VCxRQUFRLGVBQWUsU0FBUyx3SEFBd0gsT0FBTyw0Q0FBNEMsUUFBUSxlQUFlLHlFQUF5RSxvQkFBb0IsMkNBQTJDLHlCQUF5QiwyQkFBMkIsdUdBQXVHLE9BQU8sV0FBVyxrQ0FBa0MsZUFBZSxrQ0FBa0MsTUFBTSxxQkFBcUIsd0RBQXdELFFBQVEsRUFBRSxXQUFXLGtCQUFrQixpQ0FBaUMsS0FBSyxLQUFLLDhDQUE4QyxTQUFTLGtCQUFrQixPQUFPLFNBQVMsSUFBSSxNQUFNLFNBQVMsbUJBQW1CLHVFQUF1RSxzQkFBc0IsaUJBQWlCLEVBQUUsdUJBQXVCLDBCQUEwQixzR0FBc0csT0FBTywyRUFBMkUsZ0JBQWdCLFdBQVcsc0JB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TSxxREFBcUQsc0JBQXNCLG1GQUFtRixnQ0FBZ0MsRUFBRSw4Q0FBOEMsT0FBTyxlQUFlLG1DQUFtQyxnQkFBZ0IsTUFBTSxvREFBb0Qsc0JBQXNCLE1BQU0sMkRBQTJELFdBQVcscURBQXFELDhCQUE4QixnQkFBZ0IsUUFBUSwwSkFBMEosS0FBSyxRQUFRLDhQQUE4UCxLQUFLLHNMQUFzTCxzQkFBc0IsOEVBQThFLEdBQUcsRUFBRSxNQUFNLGlLQUFpSyxLQUFLLG1EQUFtRCx3SEFBd0gsK0NBQStDLEtBQUssd0JBQXdCLDhGQUE4Riw0R0FBNEcsU0FBUyxvQkFBb0IsMkNBQTJDLFFBQVEsNFZBQTRWLGdUQUFnVCxrQkFBa0IsRUFBRSx3Q0FBd0Msa0dBQWtHLG9CQUFvQixRQUFRLDJOQUEyTiwrQkFBK0IsaVNBQWlTLHlCQUF5QixnQ0FBZ0MsMEJBQTBCLGlDQUFpQyw4QkFBOEIsMkJBQTJCLGlFQUFpRSxlQUFlLHdMQUF3TCw2QkFBNkIsK0JBQStCLFVBQVUsNERBQTRELEtBQUssaUZBQWlGLGNBQWMsRUFBRSxrQkFBa0IscUpBQXFKLFNBQVMsK0VBQStFLFNBQVMsaUxBQWlMLFNBQVMsR0FBRyxJQUFJLGdDQUFnQyxtbUJBQW1tQixNQUFNLHVDQUF1Qyx1RkFBdUYsZ0JBQWdCLGdCQUFnQixnRUFBZ0UscUZBQXFGLHFJQUFxSSxTQUFTLGdCQUFnQixNQUFNLDZEQUE2RCwwQkFBMEIsNkJBQTZCLDJDQUEyQyxFQUFFLDBCQUEwQiwyQkFBMkIsb0VBQW9FLEVBQUUsTUFBTSxtREFBbUQsb0JBQW9CLGVBQWUsWUFBWSxXQUFXLDRDQUE0QyxrQkFBa0IsdUNBQXVDLGFBQWEsNENBQTRDLGdCQUFnQixJQUFJLHFGQUFxRixXQUFXLHdHQUF3RyxPQUFrWTtBQUN2aWdLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml0ZV9yZWFjdF9zaGFkY25fdHMvLi9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9kaXN0L21vZHVsZS5qcz83NjBjIl0sInNvdXJjZXNDb250ZW50IjpbInZhciB0PVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3c/d2luZG93OnZvaWQgMCxpPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6dDtcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2VsZiYmKGkuc2VsZj1pKSxcInVuZGVmaW5lZFwiPT10eXBlb2YgRmlsZSYmKGkuRmlsZT1mdW5jdGlvbigpe30pO3ZhciBlPUFycmF5LnByb3RvdHlwZSxyPWUuZm9yRWFjaCxzPWUuaW5kZXhPZixuPW51bGw9PWk/dm9pZCAwOmkubmF2aWdhdG9yLG89bnVsbD09aT92b2lkIDA6aS5kb2N1bWVudCxhPW51bGw9PWk/dm9pZCAwOmkubG9jYXRpb24sbD1udWxsPT1pP3ZvaWQgMDppLmZldGNoLHU9bnVsbCE9aSYmaS5YTUxIdHRwUmVxdWVzdCYmXCJ3aXRoQ3JlZGVudGlhbHNcImluIG5ldyBpLlhNTEh0dHBSZXF1ZXN0P2kuWE1MSHR0cFJlcXVlc3Q6dm9pZCAwLGg9bnVsbD09aT92b2lkIDA6aS5BYm9ydENvbnRyb2xsZXIsZD1udWxsPT1uP3ZvaWQgMDpuLnVzZXJBZ2VudCx2PW51bGwhPXQ/dDp7fSxjPXtERUJVRzohMSxMSUJfVkVSU0lPTjpcIjEuMjk5LjBcIn07ZnVuY3Rpb24gZih0LGksZSxyLHMsbixvKXt0cnl7dmFyIGE9dFtuXShvKSxsPWEudmFsdWV9Y2F0Y2godCl7cmV0dXJuIHZvaWQgZSh0KX1hLmRvbmU/aShsKTpQcm9taXNlLnJlc29sdmUobCkudGhlbihyLHMpfWZ1bmN0aW9uIHAodCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGk9dGhpcyxlPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoKGZ1bmN0aW9uKHIscyl7dmFyIG49dC5hcHBseShpLGUpO2Z1bmN0aW9uIG8odCl7ZihuLHIscyxvLGEsXCJuZXh0XCIsdCl9ZnVuY3Rpb24gYSh0KXtmKG4scixzLG8sYSxcInRocm93XCIsdCl9byh2b2lkIDApfSkpfX1mdW5jdGlvbiBnKCl7cmV0dXJuIGc9T2JqZWN0LmFzc2lnbj9PYmplY3QuYXNzaWduLmJpbmQoKTpmdW5jdGlvbih0KXtmb3IodmFyIGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKXt2YXIgZT1hcmd1bWVudHNbaV07Zm9yKHZhciByIGluIGUpKHt9KS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUscikmJih0W3JdPWVbcl0pfXJldHVybiB0fSxnLmFwcGx5KG51bGwsYXJndW1lbnRzKX1mdW5jdGlvbiBfKHQsaSl7aWYobnVsbD09dClyZXR1cm57fTt2YXIgZT17fTtmb3IodmFyIHIgaW4gdClpZih7fS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQscikpe2lmKC0xIT09aS5pbmRleE9mKHIpKWNvbnRpbnVlO2Vbcl09dFtyXX1yZXR1cm4gZX12YXIgbT1bXCJhbWF6b25ib3RcIixcImFtYXpvbnByb2R1Y3Rib3RcIixcImFwcC5oeXBlZmFjdG9ycy5jb21cIixcImFwcGxlYm90XCIsXCJhcmNoaXZlLm9yZ19ib3RcIixcImF3YXJpb2JvdFwiLFwiYmFja2xpbmtzZXh0ZW5kZWRib3RcIixcImJhaWR1c3BpZGVyXCIsXCJiaW5nYm90XCIsXCJiaW5ncHJldmlld1wiLFwiY2hyb21lLWxpZ2h0aG91c2VcIixcImRhdGFmb3JzZW9ib3RcIixcImRlZXBzY2FuXCIsXCJkdWNrZHVja2JvdFwiLFwiZmFjZWJvb2tleHRlcm5hbFwiLFwiZmFjZWJvb2tjYXRhbG9nXCIsXCJodHRwOi8veWFuZGV4LmNvbS9ib3RzXCIsXCJodWJzcG90XCIsXCJpYV9hcmNoaXZlclwiLFwibGVpa2lib3RcIixcImxpbmtlZGluYm90XCIsXCJtZXRhLWV4dGVybmFsYWdlbnRcIixcIm1qMTJib3RcIixcIm1zbmJvdFwiLFwibmVzc3VzXCIsXCJwZXRhbGJvdFwiLFwicGludGVyZXN0XCIsXCJwcmVyZW5kZXJcIixcInJvZ2VyYm90XCIsXCJzY3JlYW1pbmcgZnJvZ1wiLFwic2Vib3Qtd2FcIixcInNpdGVidWxiXCIsXCJzbGFja2JvdFwiLFwic2x1cnBcIixcInRyZW5kaWN0aW9uYm90XCIsXCJ0dXJuaXRpblwiLFwidHdpdHRlcmJvdFwiLFwidmVyY2VsLXNjcmVlbnNob3RcIixcInZlcmNlbGJvdFwiLFwieWFob28hIHNsdXJwXCIsXCJ5YW5kZXhib3RcIixcInpvb21ib3RcIixcImJvdC5odG1cIixcImJvdC5waHBcIixcIihib3Q7XCIsXCJib3QvXCIsXCJjcmF3bGVyXCIsXCJhaHJlZnNib3RcIixcImFocmVmc3NpdGVhdWRpdFwiLFwic2VtcnVzaGJvdFwiLFwic2l0ZWF1ZGl0Ym90XCIsXCJzcGxpdHNpZ25hbGJvdFwiLFwiZ3B0Ym90XCIsXCJvYWktc2VhcmNoYm90XCIsXCJjaGF0Z3B0LXVzZXJcIixcInBlcnBsZXhpdHlib3RcIixcImJldHRlciB1cHRpbWUgYm90XCIsXCJzZW50cnl1cHRpbWVib3RcIixcInVwdGltZXJvYm90XCIsXCJoZWFkbGVzc2Nocm9tZVwiLFwiY3lwcmVzc1wiLFwiZ29vZ2xlLWhvdGVsYWRzdmVyaWZpZXJcIixcImFkc2JvdC1nb29nbGVcIixcImFwaXMtZ29vZ2xlXCIsXCJkdXBsZXh3ZWItZ29vZ2xlXCIsXCJmZWVkZmV0Y2hlci1nb29nbGVcIixcImdvb2dsZSBmYXZpY29uXCIsXCJnb29nbGUgd2ViIHByZXZpZXdcIixcImdvb2dsZS1yZWFkLWFsb3VkXCIsXCJnb29nbGVib3RcIixcImdvb2dsZW90aGVyXCIsXCJnb29nbGUtY2xvdWR2ZXJ0ZXhib3RcIixcImdvb2dsZXdlYmxpZ2h0XCIsXCJtZWRpYXBhcnRuZXJzLWdvb2dsZVwiLFwic3RvcmVib3QtZ29vZ2xlXCIsXCJnb29nbGUtaW5zcGVjdGlvbnRvb2xcIixcImJ5dGVzcGlkZXJcIl0seT1mdW5jdGlvbih0LGkpe2lmKHZvaWQgMD09PWkmJihpPVtdKSwhdClyZXR1cm4hMTt2YXIgZT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuIG0uY29uY2F0KGkpLnNvbWUoKHQ9Pnt2YXIgaT10LnRvTG93ZXJDYXNlKCk7cmV0dXJuLTEhPT1lLmluZGV4T2YoaSl9KSl9LGI9W1wiJHNuYXBzaG90XCIsXCIkcGFnZXZpZXdcIixcIiRwYWdlbGVhdmVcIixcIiRzZXRcIixcInN1cnZleSBkaXNtaXNzZWRcIixcInN1cnZleSBzZW50XCIsXCJzdXJ2ZXkgc2hvd25cIixcIiRpZGVudGlmeVwiLFwiJGdyb3VwaWRlbnRpZnlcIixcIiRjcmVhdGVfYWxpYXNcIixcIiQkY2xpZW50X2luZ2VzdGlvbl93YXJuaW5nXCIsXCIkd2ViX2V4cGVyaW1lbnRfYXBwbGllZFwiLFwiJGZlYXR1cmVfZW5yb2xsbWVudF91cGRhdGVcIixcIiRmZWF0dXJlX2ZsYWdfY2FsbGVkXCJdO2Z1bmN0aW9uIHcodCxpKXtyZXR1cm4tMSE9PXQuaW5kZXhPZihpKX12YXIgeD1mdW5jdGlvbih0KXtyZXR1cm4gdC50cmltKCl9LFM9ZnVuY3Rpb24odCl7cmV0dXJuIHQucmVwbGFjZSgvXlxcJC8sXCJcIil9O3ZhciBFPUFycmF5LmlzQXJyYXksaz1PYmplY3QucHJvdG90eXBlLFA9ay5oYXNPd25Qcm9wZXJ0eSxUPWsudG9TdHJpbmcsST1FfHxmdW5jdGlvbih0KXtyZXR1cm5cIltvYmplY3QgQXJyYXldXCI9PT1ULmNhbGwodCl9LFI9dD0+XCJmdW5jdGlvblwiPT10eXBlb2YgdCxGPXQ9PnQ9PT1PYmplY3QodCkmJiFJKHQpLEM9dD0+e2lmKEYodCkpe2Zvcih2YXIgaSBpbiB0KWlmKFAuY2FsbCh0LGkpKXJldHVybiExO3JldHVybiEwfXJldHVybiExfSxNPXQ9PnZvaWQgMD09PXQsTz10PT5cIltvYmplY3QgU3RyaW5nXVwiPT1ULmNhbGwodCksQT10PT5PKHQpJiYwPT09dC50cmltKCkubGVuZ3RoLEQ9dD0+bnVsbD09PXQsaj10PT5NKHQpfHxEKHQpLEw9dD0+XCJbb2JqZWN0IE51bWJlcl1cIj09VC5jYWxsKHQpLE49dD0+XCJbb2JqZWN0IEJvb2xlYW5dXCI9PT1ULmNhbGwodCksVT10PT50IGluc3RhbmNlb2YgRm9ybURhdGEsej10PT53KGIsdCk7ZnVuY3Rpb24gSCh0KXtyZXR1cm4gbnVsbD09PXR8fFwib2JqZWN0XCIhPXR5cGVvZiB0fWZ1bmN0aW9uIEIodCxpKXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpPT09XCJbb2JqZWN0IFwiK2krXCJdXCJ9ZnVuY3Rpb24gcSh0KXtyZXR1cm4hTShFdmVudCkmJmZ1bmN0aW9uKHQsaSl7dHJ5e3JldHVybiB0IGluc3RhbmNlb2YgaX1jYXRjaCh0KXtyZXR1cm4hMX19KHQsRXZlbnQpfXZhciBXPVshMCxcInRydWVcIiwxLFwiMVwiLFwieWVzXCJdLEc9dD0+dyhXLHQpLFY9WyExLFwiZmFsc2VcIiwwLFwiMFwiLFwibm9cIl07ZnVuY3Rpb24gSih0LGksZSxyLHMpe3JldHVybiBpPmUmJihyLndhcm4oXCJtaW4gY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiBtYXguXCIpLGk9ZSksTCh0KT90PmU/KHIud2FybihcIiBjYW5ub3QgYmUgIGdyZWF0ZXIgdGhhbiBtYXg6IFwiK2UrXCIuIFVzaW5nIG1heCB2YWx1ZSBpbnN0ZWFkLlwiKSxlKTp0PGk/KHIud2FybihcIiBjYW5ub3QgYmUgbGVzcyB0aGFuIG1pbjogXCIraStcIi4gVXNpbmcgbWluIHZhbHVlIGluc3RlYWQuXCIpLGkpOnQ6KHIud2FybihcIiBtdXN0IGJlIGEgbnVtYmVyLiB1c2luZyBtYXggb3IgZmFsbGJhY2suIG1heDogXCIrZStcIiwgZmFsbGJhY2s6IFwiK3MpLEooc3x8ZSxpLGUscikpfWNsYXNzIEt7Y29uc3RydWN0b3IodCl7dGhpcy50PXt9LHRoaXMuaT10LmksdGhpcy5vPUoodC5idWNrZXRTaXplLDAsMTAwLHQuaCksdGhpcy5tPUoodC5yZWZpbGxSYXRlLDAsdGhpcy5vLHQuaCksdGhpcy5TPUoodC5yZWZpbGxJbnRlcnZhbCwwLDg2NGU1LHQuaCl9JCh0LGkpe3ZhciBlPWktdC5sYXN0QWNjZXNzLHI9TWF0aC5mbG9vcihlL3RoaXMuUyk7aWYocj4wKXt2YXIgcz1yKnRoaXMubTt0LnRva2Vucz1NYXRoLm1pbih0LnRva2VucytzLHRoaXMubyksdC5sYXN0QWNjZXNzPXQubGFzdEFjY2VzcytyKnRoaXMuU319Y29uc3VtZVJhdGVMaW1pdCh0KXt2YXIgaSxlPURhdGUubm93KCkscj1TdHJpbmcodCkscz10aGlzLnRbcl07cmV0dXJuIHM/dGhpcy4kKHMsZSk6KHM9e3Rva2Vuczp0aGlzLm8sbGFzdEFjY2VzczplfSx0aGlzLnRbcl09cyksMD09PXMudG9rZW5zfHwocy50b2tlbnMtLSwwPT09cy50b2tlbnMmJihudWxsPT0oaT10aGlzLmkpfHxpLmNhbGwodGhpcyx0KSksMD09PXMudG9rZW5zKX1zdG9wKCl7dGhpcy50PXt9fX12YXIgWSxYLFEsWj10PT50IGluc3RhbmNlb2YgRXJyb3I7ZnVuY3Rpb24gdHQodCl7dmFyIGk9Z2xvYmFsVGhpcy5fcG9zdGhvZ0NodW5rSWRzO2lmKGkpe3ZhciBlPU9iamVjdC5rZXlzKGkpO3JldHVybiBRJiZlLmxlbmd0aD09PVh8fChYPWUubGVuZ3RoLFE9ZS5yZWR1Y2UoKChlLHIpPT57WXx8KFk9e30pO3ZhciBzPVlbcl07aWYocyllW3NbMF1dPXNbMV07ZWxzZSBmb3IodmFyIG49dChyKSxvPW4ubGVuZ3RoLTE7bz49MDtvLS0pe3ZhciBhPW5bb10sbD1udWxsPT1hP3ZvaWQgMDphLmZpbGVuYW1lLHU9aVtyXTtpZihsJiZ1KXtlW2xdPXUsWVtyXT1bbCx1XTticmVha319cmV0dXJuIGV9KSx7fSkpLFF9fWNsYXNzIGl0e2NvbnN0cnVjdG9yKHQsaSxlKXt2b2lkIDA9PT1lJiYoZT1bXSksdGhpcy5jb2VyY2Vycz10LHRoaXMuc3RhY2tQYXJzZXI9aSx0aGlzLm1vZGlmaWVycz1lfWJ1aWxkRnJvbVVua25vd24odCxpKXt2b2lkIDA9PT1pJiYoaT17fSk7dmFyIGU9aSYmaS5tZWNoYW5pc218fHtoYW5kbGVkOiEwLHR5cGU6XCJnZW5lcmljXCJ9LHI9dGhpcy5idWlsZENvZXJjaW5nQ29udGV4dChlLGksMCkuYXBwbHkodCkscz10aGlzLmJ1aWxkUGFyc2luZ0NvbnRleHQoKSxuPXRoaXMucGFyc2VTdGFja3RyYWNlKHIscyk7cmV0dXJueyRleGNlcHRpb25fbGlzdDp0aGlzLmNvbnZlcnRUb0V4Y2VwdGlvbkxpc3QobixlKSwkZXhjZXB0aW9uX2xldmVsOlwiZXJyb3JcIn19bW9kaWZ5RnJhbWVzKHQpe3ZhciBpPXRoaXM7cmV0dXJuIHAoKGZ1bmN0aW9uKigpe2Zvcih2YXIgZSBvZiB0KWUuc3RhY2t0cmFjZSYmZS5zdGFja3RyYWNlLmZyYW1lcyYmSShlLnN0YWNrdHJhY2UuZnJhbWVzKSYmKGUuc3RhY2t0cmFjZS5mcmFtZXM9eWllbGQgaS5hcHBseU1vZGlmaWVycyhlLnN0YWNrdHJhY2UuZnJhbWVzKSk7cmV0dXJuIHR9KSkoKX1jb2VyY2VGYWxsYmFjayh0KXt2YXIgaTtyZXR1cm57dHlwZTpcIkVycm9yXCIsdmFsdWU6XCJVbmtub3duIGVycm9yXCIsc3RhY2s6bnVsbD09KGk9dC5zeW50aGV0aWNFeGNlcHRpb24pP3ZvaWQgMDppLnN0YWNrLHN5bnRoZXRpYzohMH19cGFyc2VTdGFja3RyYWNlKHQsaSl7dmFyIGUscjtyZXR1cm4gbnVsbCE9dC5jYXVzZSYmKGU9dGhpcy5wYXJzZVN0YWNrdHJhY2UodC5jYXVzZSxpKSksXCJcIiE9dC5zdGFjayYmbnVsbCE9dC5zdGFjayYmKHI9dGhpcy5hcHBseUNodW5rSWRzKHRoaXMuc3RhY2tQYXJzZXIodC5zdGFjayx0LnN5bnRoZXRpYz8xOjApLGkuY2h1bmtJZE1hcCkpLGcoe30sdCx7Y2F1c2U6ZSxzdGFjazpyfSl9YXBwbHlDaHVua0lkcyh0LGkpe3JldHVybiB0Lm1hcCgodD0+KHQuZmlsZW5hbWUmJmkmJih0LmNodW5rX2lkPWlbdC5maWxlbmFtZV0pLHQpKSl9YXBwbHlDb2VyY2Vycyh0LGkpe2Zvcih2YXIgZSBvZiB0aGlzLmNvZXJjZXJzKWlmKGUubWF0Y2godCkpcmV0dXJuIGUuY29lcmNlKHQsaSk7cmV0dXJuIHRoaXMuY29lcmNlRmFsbGJhY2soaSl9YXBwbHlNb2RpZmllcnModCl7dmFyIGk9dGhpcztyZXR1cm4gcCgoZnVuY3Rpb24qKCl7dmFyIGU9dDtmb3IodmFyIHIgb2YgaS5tb2RpZmllcnMpZT15aWVsZCByKGUpO3JldHVybiBlfSkpKCl9Y29udmVydFRvRXhjZXB0aW9uTGlzdCh0LGkpe3ZhciBlLHIscyxuPXt0eXBlOnQudHlwZSx2YWx1ZTp0LnZhbHVlLG1lY2hhbmlzbTp7dHlwZTpudWxsIT09KGU9aS50eXBlKSYmdm9pZCAwIT09ZT9lOlwiZ2VuZXJpY1wiLGhhbmRsZWQ6bnVsbD09PShyPWkuaGFuZGxlZCl8fHZvaWQgMD09PXJ8fHIsc3ludGhldGljOm51bGwhPT0ocz10LnN5bnRoZXRpYykmJnZvaWQgMCE9PXMmJnN9fTt0LnN0YWNrJiYobi5zdGFja3RyYWNlPXt0eXBlOlwicmF3XCIsZnJhbWVzOnQuc3RhY2t9KTt2YXIgbz1bbl07cmV0dXJuIG51bGwhPXQuY2F1c2UmJm8ucHVzaCguLi50aGlzLmNvbnZlcnRUb0V4Y2VwdGlvbkxpc3QodC5jYXVzZSxnKHt9LGkse2hhbmRsZWQ6ITB9KSkpLG99YnVpbGRQYXJzaW5nQ29udGV4dCgpe3JldHVybntjaHVua0lkTWFwOnR0KHRoaXMuc3RhY2tQYXJzZXIpfX1idWlsZENvZXJjaW5nQ29udGV4dCh0LGksZSl7dm9pZCAwPT09ZSYmKGU9MCk7dmFyIHI9KGUscik9PntpZihyPD00KXt2YXIgcz10aGlzLmJ1aWxkQ29lcmNpbmdDb250ZXh0KHQsaSxyKTtyZXR1cm4gdGhpcy5hcHBseUNvZXJjZXJzKGUscyl9fTtyZXR1cm4gZyh7fSxpLHtzeW50aGV0aWNFeGNlcHRpb246MD09ZT9pLnN5bnRoZXRpY0V4Y2VwdGlvbjp2b2lkIDAsbWVjaGFuaXNtOnQsYXBwbHk6dD0+cih0LGUpLG5leHQ6dD0+cih0LGUrMSl9KX19dmFyIGV0PVwiP1wiO2Z1bmN0aW9uIHJ0KHQsaSxlLHIscyl7dmFyIG49e3BsYXRmb3JtOnQsZmlsZW5hbWU6aSxmdW5jdGlvbjpcIjxhbm9ueW1vdXM+XCI9PT1lP2V0OmUsaW5fYXBwOiEwfTtyZXR1cm4gTShyKXx8KG4ubGluZW5vPXIpLE0ocyl8fChuLmNvbG5vPXMpLG59dmFyIHN0PSh0LGkpPT57dmFyIGU9LTEhPT10LmluZGV4T2YoXCJzYWZhcmktZXh0ZW5zaW9uXCIpLHI9LTEhPT10LmluZGV4T2YoXCJzYWZhcmktd2ViLWV4dGVuc2lvblwiKTtyZXR1cm4gZXx8cj9bLTEhPT10LmluZGV4T2YoXCJAXCIpP3Quc3BsaXQoXCJAXCIpWzBdOmV0LGU/XCJzYWZhcmktZXh0ZW5zaW9uOlwiK2k6XCJzYWZhcmktd2ViLWV4dGVuc2lvbjpcIitpXTpbdCxpXX0sbnQ9L15cXHMqYXQgKFxcUys/KSg/OjooXFxkKykpKD86OihcXGQrKSlcXHMqJC9pLG90PS9eXFxzKmF0ICg/OiguKz9cXCkoPzogXFxbLitcXF0pP3wuKj8pID9cXCgoPzphZGRyZXNzIGF0ICk/KT8oPzphc3luYyApPygoPzo8YW5vbnltb3VzPnxbLWEtel0rOnwuKmJ1bmRsZXxcXC8pPy4qPykoPzo6KFxcZCspKT8oPzo6KFxcZCspKT9cXCk/XFxzKiQvaSxhdD0vXFwoKFxcUyopKD86OihcXGQrKSkoPzo6KFxcZCspKVxcKS8sbHQ9KHQsaSk9Pnt2YXIgZT1udC5leGVjKHQpO2lmKGUpe3ZhclsscixzLG5dPWU7cmV0dXJuIHJ0KGkscixldCwrcywrbil9dmFyIG89b3QuZXhlYyh0KTtpZihvKXtpZihvWzJdJiYwPT09b1syXS5pbmRleE9mKFwiZXZhbFwiKSl7dmFyIGE9YXQuZXhlYyhvWzJdKTthJiYob1syXT1hWzFdLG9bM109YVsyXSxvWzRdPWFbM10pfXZhcltsLHVdPXN0KG9bMV18fGV0LG9bMl0pO3JldHVybiBydChpLHUsbCxvWzNdPytvWzNdOnZvaWQgMCxvWzRdPytvWzRdOnZvaWQgMCl9fSx1dD0vXlxccyooLio/KSg/OlxcKCguKj8pXFwpKT8oPzpefEApPygoPzpbLWEtel0rKT86XFwvLio/fFxcW25hdGl2ZSBjb2RlXFxdfFteQF0qKD86YnVuZGxlfFxcZCtcXC5qcyl8XFwvW1xcd1xcLS4gLz1dKykoPzo6KFxcZCspKT8oPzo6KFxcZCspKT9cXHMqJC9pLGh0PS8oXFxTKykgbGluZSAoXFxkKykoPzogPiBldmFsIGxpbmUgXFxkKykqID4gZXZhbC9pLGR0PSh0LGkpPT57dmFyIGU9dXQuZXhlYyh0KTtpZihlKXtpZihlWzNdJiZlWzNdLmluZGV4T2YoXCIgPiBldmFsXCIpPi0xKXt2YXIgcj1odC5leGVjKGVbM10pO3ImJihlWzFdPWVbMV18fFwiZXZhbFwiLGVbM109clsxXSxlWzRdPXJbMl0sZVs1XT1cIlwiKX12YXIgcz1lWzNdLG49ZVsxXXx8ZXQ7cmV0dXJuW24sc109c3QobixzKSxydChpLHMsbixlWzRdPytlWzRdOnZvaWQgMCxlWzVdPytlWzVdOnZvaWQgMCl9fSx2dD0vXFwoZXJyb3I6ICguKilcXCkvLGN0PTUwO2Z1bmN0aW9uIGZ0KHQpe2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLGU9bmV3IEFycmF5KGk+MT9pLTE6MCkscj0xO3I8aTtyKyspZVtyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gZnVuY3Rpb24oaSxyKXt2b2lkIDA9PT1yJiYocj0wKTtmb3IodmFyIHM9W10sbj1pLnNwbGl0KFwiXFxuXCIpLG89cjtvPG4ubGVuZ3RoO28rKyl7dmFyIGE9bltvXTtpZighKGEubGVuZ3RoPjEwMjQpKXt2YXIgbD12dC50ZXN0KGEpP2EucmVwbGFjZSh2dCxcIiQxXCIpOmE7aWYoIWwubWF0Y2goL1xcUypFcnJvcjogLykpe2Zvcih2YXIgdSBvZiBlKXt2YXIgaD11KGwsdCk7aWYoaCl7cy5wdXNoKGgpO2JyZWFrfX1pZihzLmxlbmd0aD49Y3QpYnJlYWt9fX1yZXR1cm4gZnVuY3Rpb24odCl7aWYoIXQubGVuZ3RoKXJldHVybltdO3ZhciBpPUFycmF5LmZyb20odCk7cmV0dXJuIGkucmV2ZXJzZSgpLGkuc2xpY2UoMCxjdCkubWFwKCh0PT57cmV0dXJuIGcoe30sdCx7ZmlsZW5hbWU6dC5maWxlbmFtZXx8KGU9aSxlW2UubGVuZ3RoLTFdfHx7fSkuZmlsZW5hbWUsZnVuY3Rpb246dC5mdW5jdGlvbnx8ZXR9KTt2YXIgZX0pKX0ocyl9fWNsYXNzIHB0e21hdGNoKHQpe3JldHVybiB0aGlzLmlzRE9NRXhjZXB0aW9uKHQpfHx0aGlzLmlzRE9NRXJyb3IodCl9Y29lcmNlKHQsaSl7dmFyIGU9Tyh0LnN0YWNrKTtyZXR1cm57dHlwZTp0aGlzLmdldFR5cGUodCksdmFsdWU6dGhpcy5nZXRWYWx1ZSh0KSxzdGFjazplP3Quc3RhY2s6dm9pZCAwLGNhdXNlOnQuY2F1c2U/aS5uZXh0KHQuY2F1c2UpOnZvaWQgMCxzeW50aGV0aWM6ITF9fWdldFR5cGUodCl7cmV0dXJuIHRoaXMuaXNET01FcnJvcih0KT9cIkRPTUVycm9yXCI6XCJET01FeGNlcHRpb25cIn1nZXRWYWx1ZSh0KXt2YXIgaT10Lm5hbWV8fCh0aGlzLmlzRE9NRXJyb3IodCk/XCJET01FcnJvclwiOlwiRE9NRXhjZXB0aW9uXCIpO3JldHVybiB0Lm1lc3NhZ2U/aStcIjogXCIrdC5tZXNzYWdlOml9aXNET01FeGNlcHRpb24odCl7cmV0dXJuIEIodCxcIkRPTUV4Y2VwdGlvblwiKX1pc0RPTUVycm9yKHQpe3JldHVybiBCKHQsXCJET01FcnJvclwiKX19Y2xhc3MgZ3R7bWF0Y2godCl7cmV0dXJuKHQ9PnQgaW5zdGFuY2VvZiBFcnJvcikodCl9Y29lcmNlKHQsaSl7cmV0dXJue3R5cGU6dGhpcy5nZXRUeXBlKHQpLHZhbHVlOnRoaXMuZ2V0TWVzc2FnZSh0LGkpLHN0YWNrOnRoaXMuZ2V0U3RhY2sodCksY2F1c2U6dC5jYXVzZT9pLm5leHQodC5jYXVzZSk6dm9pZCAwLHN5bnRoZXRpYzohMX19Z2V0VHlwZSh0KXtyZXR1cm4gdC5uYW1lfHx0LmNvbnN0cnVjdG9yLm5hbWV9Z2V0TWVzc2FnZSh0LGkpe3ZhciBlPXQubWVzc2FnZTtyZXR1cm4gZS5lcnJvciYmXCJzdHJpbmdcIj09dHlwZW9mIGUuZXJyb3IubWVzc2FnZT9TdHJpbmcoZS5lcnJvci5tZXNzYWdlKTpTdHJpbmcoZSl9Z2V0U3RhY2sodCl7cmV0dXJuIHQuc3RhY2t0cmFjZXx8dC5zdGFja3x8dm9pZCAwfX1jbGFzcyBfdHtjb25zdHJ1Y3Rvcigpe31tYXRjaCh0KXtyZXR1cm4gQih0LFwiRXJyb3JFdmVudFwiKSYmbnVsbCE9dC5lcnJvcn1jb2VyY2UodCxpKXt2YXIgZSxyPWkuYXBwbHkodC5lcnJvcik7cmV0dXJuIHJ8fHt0eXBlOlwiRXJyb3JFdmVudFwiLHZhbHVlOnQubWVzc2FnZSxzdGFjazpudWxsPT0oZT1pLnN5bnRoZXRpY0V4Y2VwdGlvbik/dm9pZCAwOmUuc3RhY2ssc3ludGhldGljOiEwfX19dmFyIG10PS9eKD86W1V1XW5jYXVnaHQgKD86ZXhjZXB0aW9uOiApPyk/KD86KCg/OkV2YWx8SW50ZXJuYWx8UmFuZ2V8UmVmZXJlbmNlfFN5bnRheHxUeXBlfFVSSXwpRXJyb3IpOiApPyguKikkL2k7Y2xhc3MgeXR7bWF0Y2godCl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIHR9Y29lcmNlKHQsaSl7dmFyIGUsW3Isc109dGhpcy5nZXRJbmZvcyh0KTtyZXR1cm57dHlwZTpudWxsIT1yP3I6XCJFcnJvclwiLHZhbHVlOm51bGwhPXM/czp0LHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxzeW50aGV0aWM6ITB9fWdldEluZm9zKHQpe3ZhciBpPVwiRXJyb3JcIixlPXQscj10Lm1hdGNoKG10KTtyZXR1cm4gciYmKGk9clsxXSxlPXJbMl0pLFtpLGVdfX12YXIgYnQ9W1wiZmF0YWxcIixcImVycm9yXCIsXCJ3YXJuaW5nXCIsXCJsb2dcIixcImluZm9cIixcImRlYnVnXCJdO2Z1bmN0aW9uIHd0KHQsaSl7dm9pZCAwPT09aSYmKGk9NDApO3ZhciBlPU9iamVjdC5rZXlzKHQpO2lmKGUuc29ydCgpLCFlLmxlbmd0aClyZXR1cm5cIltvYmplY3QgaGFzIG5vIGtleXNdXCI7Zm9yKHZhciByPWUubGVuZ3RoO3I+MDtyLS0pe3ZhciBzPWUuc2xpY2UoMCxyKS5qb2luKFwiLCBcIik7aWYoIShzLmxlbmd0aD5pKSlyZXR1cm4gcj09PWUubGVuZ3RofHxzLmxlbmd0aDw9aT9zOnMuc2xpY2UoMCxpKStcIi4uLlwifXJldHVyblwiXCJ9Y2xhc3MgeHR7bWF0Y2godCl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIHQmJm51bGwhPT10fWNvZXJjZSh0LGkpe3ZhciBlLHI9dGhpcy5nZXRFcnJvclByb3BlcnR5RnJvbU9iamVjdCh0KTtyZXR1cm4gcj9pLmFwcGx5KHIpOnt0eXBlOnRoaXMuZ2V0VHlwZSh0KSx2YWx1ZTp0aGlzLmdldFZhbHVlKHQpLHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxsZXZlbDp0aGlzLmlzU2V2ZXJpdHlMZXZlbCh0LmxldmVsKT90LmxldmVsOlwiZXJyb3JcIixzeW50aGV0aWM6ITB9fWdldFR5cGUodCl7cmV0dXJuIHEodCk/dC5jb25zdHJ1Y3Rvci5uYW1lOlwiRXJyb3JcIn1nZXRWYWx1ZSh0KXtpZihcIm5hbWVcImluIHQmJlwic3RyaW5nXCI9PXR5cGVvZiB0Lm5hbWUpe3ZhciBpPVwiJ1wiK3QubmFtZStcIicgY2FwdHVyZWQgYXMgZXhjZXB0aW9uXCI7cmV0dXJuXCJtZXNzYWdlXCJpbiB0JiZcInN0cmluZ1wiPT10eXBlb2YgdC5tZXNzYWdlJiYoaSs9XCIgd2l0aCBtZXNzYWdlOiAnXCIrdC5tZXNzYWdlK1wiJ1wiKSxpfWlmKFwibWVzc2FnZVwiaW4gdCYmXCJzdHJpbmdcIj09dHlwZW9mIHQubWVzc2FnZSlyZXR1cm4gdC5tZXNzYWdlO3ZhciBlPXRoaXMuZ2V0T2JqZWN0Q2xhc3NOYW1lKHQpO3JldHVybihlJiZcIk9iamVjdFwiIT09ZT9cIidcIitlK1wiJ1wiOlwiT2JqZWN0XCIpK1wiIGNhcHR1cmVkIGFzIGV4Y2VwdGlvbiB3aXRoIGtleXM6IFwiK3d0KHQpfWlzU2V2ZXJpdHlMZXZlbCh0KXtyZXR1cm4gTyh0KSYmIUEodCkmJmJ0LmluZGV4T2YodCk+PTB9Z2V0RXJyb3JQcm9wZXJ0eUZyb21PYmplY3QodCl7Zm9yKHZhciBpIGluIHQpaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsaSkpe3ZhciBlPXRbaV07aWYoWihlKSlyZXR1cm4gZX19Z2V0T2JqZWN0Q2xhc3NOYW1lKHQpe3RyeXt2YXIgaT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodCk7cmV0dXJuIGk/aS5jb25zdHJ1Y3Rvci5uYW1lOnZvaWQgMH1jYXRjaCh0KXtyZXR1cm59fX1jbGFzcyBTdHttYXRjaCh0KXtyZXR1cm4gcSh0KX1jb2VyY2UodCxpKXt2YXIgZSxyPXQuY29uc3RydWN0b3IubmFtZTtyZXR1cm57dHlwZTpyLHZhbHVlOnIrXCIgY2FwdHVyZWQgYXMgZXhjZXB0aW9uIHdpdGgga2V5czogXCIrd3QodCksc3RhY2s6bnVsbD09KGU9aS5zeW50aGV0aWNFeGNlcHRpb24pP3ZvaWQgMDplLnN0YWNrLHN5bnRoZXRpYzohMH19fWNsYXNzIEV0e21hdGNoKHQpe3JldHVybiBIKHQpfWNvZXJjZSh0LGkpe3ZhciBlO3JldHVybnt0eXBlOlwiRXJyb3JcIix2YWx1ZTpcIlByaW1pdGl2ZSB2YWx1ZSBjYXB0dXJlZCBhcyBleGNlcHRpb246IFwiK1N0cmluZyh0KSxzdGFjazpudWxsPT0oZT1pLnN5bnRoZXRpY0V4Y2VwdGlvbik/dm9pZCAwOmUuc3RhY2ssc3ludGhldGljOiEwfX19Y2xhc3MgJHR7bWF0Y2godCl7cmV0dXJuIEIodCxcIlByb21pc2VSZWplY3Rpb25FdmVudFwiKX1jb2VyY2UodCxpKXt2YXIgZSxyPXRoaXMuZ2V0VW5oYW5kbGVkUmVqZWN0aW9uUmVhc29uKHQpO3JldHVybiBIKHIpP3t0eXBlOlwiVW5oYW5kbGVkUmVqZWN0aW9uXCIsdmFsdWU6XCJOb24tRXJyb3IgcHJvbWlzZSByZWplY3Rpb24gY2FwdHVyZWQgd2l0aCB2YWx1ZTogXCIrU3RyaW5nKHIpLHN0YWNrOm51bGw9PShlPWkuc3ludGhldGljRXhjZXB0aW9uKT92b2lkIDA6ZS5zdGFjayxzeW50aGV0aWM6ITB9OmkuYXBwbHkocil9Z2V0VW5oYW5kbGVkUmVqZWN0aW9uUmVhc29uKHQpe2lmKEgodCkpcmV0dXJuIHQ7dHJ5e2lmKFwicmVhc29uXCJpbiB0KXJldHVybiB0LnJlYXNvbjtpZihcImRldGFpbFwiaW4gdCYmXCJyZWFzb25cImluIHQuZGV0YWlsKXJldHVybiB0LmRldGFpbC5yZWFzb259Y2F0Y2godCl7fXJldHVybiB0fX12YXIga3Q9ZnVuY3Rpb24oaSxlKXt2YXJ7ZGVidWdFbmFibGVkOnJ9PXZvaWQgMD09PWU/e306ZSxzPXtrOmZ1bmN0aW9uKGUpe2lmKHQmJihjLkRFQlVHfHx2LlBPU1RIT0dfREVCVUd8fHIpJiYhTSh0LmNvbnNvbGUpJiZ0LmNvbnNvbGUpe2Zvcih2YXIgcz0oXCJfX3Jyd2ViX29yaWdpbmFsX19cImluIHQuY29uc29sZVtlXT90LmNvbnNvbGVbZV0uX19ycndlYl9vcmlnaW5hbF9fOnQuY29uc29sZVtlXSksbj1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KG4+MT9uLTE6MCksYT0xO2E8bjthKyspb1thLTFdPWFyZ3VtZW50c1thXTtzKGksLi4ubyl9fSxpbmZvOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCksZT0wO2U8dDtlKyspaVtlXT1hcmd1bWVudHNbZV07cy5rKFwibG9nXCIsLi4uaSl9LHdhcm46ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0KSxlPTA7ZTx0O2UrKylpW2VdPWFyZ3VtZW50c1tlXTtzLmsoXCJ3YXJuXCIsLi4uaSl9LGVycm9yOmZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCksZT0wO2U8dDtlKyspaVtlXT1hcmd1bWVudHNbZV07cy5rKFwiZXJyb3JcIiwuLi5pKX0sY3JpdGljYWw6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheSh0KSxyPTA7cjx0O3IrKyllW3JdPWFyZ3VtZW50c1tyXTtjb25zb2xlLmVycm9yKGksLi4uZSl9LHVuaW5pdGlhbGl6ZWRXYXJuaW5nOnQ9PntzLmVycm9yKFwiWW91IG11c3QgaW5pdGlhbGl6ZSBQb3N0SG9nIGJlZm9yZSBjYWxsaW5nIFwiK3QpfSxjcmVhdGVMb2dnZXI6KHQsZSk9Pmt0KGkrXCIgXCIrdCxlKX07cmV0dXJuIHN9LFB0PWt0KFwiW1Bvc3RIb2cuanNdXCIpLFR0PVB0LmNyZWF0ZUxvZ2dlcixJdD1UdChcIltFeHRlcm5hbFNjcmlwdHNMb2FkZXJdXCIpLFJ0PSh0LGksZSk9PntpZih0LmNvbmZpZy5kaXNhYmxlX2V4dGVybmFsX2RlcGVuZGVuY3lfbG9hZGluZylyZXR1cm4gSXQud2FybihpK1wiIHdhcyByZXF1ZXN0ZWQgYnV0IGxvYWRpbmcgb2YgZXh0ZXJuYWwgc2NyaXB0cyBpcyBkaXNhYmxlZC5cIiksZShcIkxvYWRpbmcgb2YgZXh0ZXJuYWwgc2NyaXB0cyBpcyBkaXNhYmxlZFwiKTt2YXIgcj1udWxsPT1vP3ZvaWQgMDpvLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRcIik7aWYocilmb3IodmFyIHMsbj1mdW5jdGlvbigpe2lmKHJbYV0uc3JjPT09aSl7dmFyIHQ9clthXTtyZXR1cm4gdC5fX3Bvc3Rob2dfbG9hZGluZ19jYWxsYmFja19maXJlZD97djplKCl9Oih0LmFkZEV2ZW50TGlzdGVuZXIoXCJsb2FkXCIsKGk9Pnt0Ll9fcG9zdGhvZ19sb2FkaW5nX2NhbGxiYWNrX2ZpcmVkPSEwLGUodm9pZCAwLGkpfSkpLHQub25lcnJvcj10PT5lKHQpLHt2OnZvaWQgMH0pfX0sYT0wO2E8ci5sZW5ndGg7YSsrKWlmKHM9bigpKXJldHVybiBzLnY7dmFyIGw9KCk9PntpZighbylyZXR1cm4gZShcImRvY3VtZW50IG5vdCBmb3VuZFwiKTt2YXIgcj1vLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7aWYoci50eXBlPVwidGV4dC9qYXZhc2NyaXB0XCIsci5jcm9zc09yaWdpbj1cImFub255bW91c1wiLHIuc3JjPWksci5vbmxvYWQ9dD0+e3IuX19wb3N0aG9nX2xvYWRpbmdfY2FsbGJhY2tfZmlyZWQ9ITAsZSh2b2lkIDAsdCl9LHIub25lcnJvcj10PT5lKHQpLHQuY29uZmlnLnByZXBhcmVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9zY3JpcHQmJihyPXQuY29uZmlnLnByZXBhcmVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9zY3JpcHQocikpLCFyKXJldHVybiBlKFwicHJlcGFyZV9leHRlcm5hbF9kZXBlbmRlbmN5X3NjcmlwdCByZXR1cm5lZCBudWxsXCIpO3ZhciBzLG49by5xdWVyeVNlbGVjdG9yQWxsKFwiYm9keSA+IHNjcmlwdFwiKTtuLmxlbmd0aD4wP251bGw9PShzPW5bMF0ucGFyZW50Tm9kZSl8fHMuaW5zZXJ0QmVmb3JlKHIsblswXSk6by5ib2R5LmFwcGVuZENoaWxkKHIpfTtudWxsIT1vJiZvLmJvZHk/bCgpOm51bGw9PW98fG8uYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIixsKX07di5fX1Bvc3Rob2dFeHRlbnNpb25zX189di5fX1Bvc3Rob2dFeHRlbnNpb25zX198fHt9LHYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmxvYWRFeHRlcm5hbERlcGVuZGVuY3k9KHQsaSxlKT0+e3ZhciByPVwiL3N0YXRpYy9cIitpK1wiLmpzP3Y9XCIrdC52ZXJzaW9uO2lmKFwicmVtb3RlLWNvbmZpZ1wiPT09aSYmKHI9XCIvYXJyYXkvXCIrdC5jb25maWcudG9rZW4rXCIvY29uZmlnLmpzXCIpLFwidG9vbGJhclwiPT09aSl7dmFyIHM9M2U1O3I9citcIiZ0PVwiK01hdGguZmxvb3IoRGF0ZS5ub3coKS9zKSpzfXZhciBuPXQucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFzc2V0c1wiLHIpO1J0KHQsbixlKX0sdi5fX1Bvc3Rob2dFeHRlbnNpb25zX18ubG9hZFNpdGVBcHA9KHQsaSxlKT0+e3ZhciByPXQucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLGkpO1J0KHQscixlKX07dmFyIEZ0PXt9O2Z1bmN0aW9uIEN0KHQsaSxlKXtpZihJKHQpKWlmKHImJnQuZm9yRWFjaD09PXIpdC5mb3JFYWNoKGksZSk7ZWxzZSBpZihcImxlbmd0aFwiaW4gdCYmdC5sZW5ndGg9PT0rdC5sZW5ndGgpZm9yKHZhciBzPTAsbj10Lmxlbmd0aDtzPG47cysrKWlmKHMgaW4gdCYmaS5jYWxsKGUsdFtzXSxzKT09PUZ0KXJldHVybn1mdW5jdGlvbiBNdCh0LGksZSl7aWYoIWoodCkpe2lmKEkodCkpcmV0dXJuIEN0KHQsaSxlKTtpZihVKHQpKXtmb3IodmFyIHIgb2YgdC5lbnRyaWVzKCkpaWYoaS5jYWxsKGUsclsxXSxyWzBdKT09PUZ0KXJldHVybn1lbHNlIGZvcih2YXIgcyBpbiB0KWlmKFAuY2FsbCh0LHMpJiZpLmNhbGwoZSx0W3NdLHMpPT09RnQpcmV0dXJufX12YXIgT3Q9ZnVuY3Rpb24odCl7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsZT1uZXcgQXJyYXkoaT4xP2ktMTowKSxyPTE7cjxpO3IrKyllW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBDdChlLChmdW5jdGlvbihpKXtmb3IodmFyIGUgaW4gaSl2b2lkIDAhPT1pW2VdJiYodFtlXT1pW2VdKX0pKSx0fSxBdD1mdW5jdGlvbih0KXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheShpPjE/aS0xOjApLHI9MTtyPGk7cisrKWVbci0xXT1hcmd1bWVudHNbcl07cmV0dXJuIEN0KGUsKGZ1bmN0aW9uKGkpe0N0KGksKGZ1bmN0aW9uKGkpe3QucHVzaChpKX0pKX0pKSx0fTtmdW5jdGlvbiBEdCh0KXtmb3IodmFyIGk9T2JqZWN0LmtleXModCksZT1pLmxlbmd0aCxyPW5ldyBBcnJheShlKTtlLS07KXJbZV09W2lbZV0sdFtpW2VdXV07cmV0dXJuIHJ9dmFyIGp0PWZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gdCgpfWNhdGNoKHQpe3JldHVybn19LEx0PWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbigpe3RyeXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheShpKSxyPTA7cjxpO3IrKyllW3JdPWFyZ3VtZW50c1tyXTtyZXR1cm4gdC5hcHBseSh0aGlzLGUpfWNhdGNoKHQpe1B0LmNyaXRpY2FsKFwiSW1wbGVtZW50YXRpb24gZXJyb3IuIFBsZWFzZSB0dXJuIG9uIGRlYnVnIG1vZGUgYW5kIG9wZW4gYSB0aWNrZXQgb24gaHR0cHM6Ly9hcHAucG9zdGhvZy5jb20vaG9tZSNwYW5lbD1zdXBwb3J0JTNBc3VwcG9ydCUzQS5cIiksUHQuY3JpdGljYWwodCl9fX0sTnQ9ZnVuY3Rpb24odCl7dmFyIGk9e307cmV0dXJuIE10KHQsKGZ1bmN0aW9uKHQsZSl7KE8odCkmJnQubGVuZ3RoPjB8fEwodCkpJiYoaVtlXT10KX0pKSxpfTtmdW5jdGlvbiBVdCh0LGkpe3JldHVybiBlPXQscj10PT5PKHQpJiYhRChpKT90LnNsaWNlKDAsaSk6dCxzPW5ldyBTZXQsZnVuY3Rpb24gdChpLGUpe3JldHVybiBpIT09T2JqZWN0KGkpP3I/cihpLGUpOmk6cy5oYXMoaSk/dm9pZCAwOihzLmFkZChpKSxJKGkpPyhuPVtdLEN0KGksKGk9PntuLnB1c2godChpKSl9KSkpOihuPXt9LE10KGksKChpLGUpPT57cy5oYXMoaSl8fChuW2VdPXQoaSxlKSl9KSkpLG4pO3ZhciBufShlKTt2YXIgZSxyLHN9dmFyIHp0PVtcImhlcm9rdWFwcC5jb21cIixcInZlcmNlbC5hcHBcIixcIm5ldGxpZnkuYXBwXCJdO2Z1bmN0aW9uIEh0KHQpe3ZhciBpPW51bGw9PXQ/dm9pZCAwOnQuaG9zdG5hbWU7aWYoIU8oaSkpcmV0dXJuITE7dmFyIGU9aS5zcGxpdChcIi5cIikuc2xpY2UoLTIpLmpvaW4oXCIuXCIpO2Zvcih2YXIgciBvZiB6dClpZihlPT09cilyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBCdCh0LGkpe2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKWlmKGkodFtlXSkpcmV0dXJuIHRbZV19ZnVuY3Rpb24gcXQodCxpLGUscil7dmFye2NhcHR1cmU6cz0hMSxwYXNzaXZlOm49ITB9PW51bGwhPXI/cjp7fTtudWxsPT10fHx0LmFkZEV2ZW50TGlzdGVuZXIoaSxlLHtjYXB0dXJlOnMscGFzc2l2ZTpufSl9dmFyIFd0PVwiJHBlb3BsZV9kaXN0aW5jdF9pZFwiLEd0PVwiX19hbGlhc1wiLFZ0PVwiX190aW1lcnNcIixKdD1cIiRhdXRvY2FwdHVyZV9kaXNhYmxlZF9zZXJ2ZXJfc2lkZVwiLEt0PVwiJGhlYXRtYXBzX2VuYWJsZWRfc2VydmVyX3NpZGVcIixZdD1cIiRleGNlcHRpb25fY2FwdHVyZV9lbmFibGVkX3NlcnZlcl9zaWRlXCIsWHQ9XCIkZXJyb3JfdHJhY2tpbmdfc3VwcHJlc3Npb25fcnVsZXNcIixRdD1cIiRlcnJvcl90cmFja2luZ19jYXB0dXJlX2V4dGVuc2lvbl9leGNlcHRpb25zXCIsWnQ9XCIkd2ViX3ZpdGFsc19lbmFibGVkX3NlcnZlcl9zaWRlXCIsdGk9XCIkZGVhZF9jbGlja3NfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLGlpPVwiJHdlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzXCIsZWk9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfcmVtb3RlX2NvbmZpZ1wiLHJpPVwiJHNlc2lkXCIsc2k9XCIkc2Vzc2lvbl9pc19zYW1wbGVkXCIsbmk9XCIkZW5hYmxlZF9mZWF0dXJlX2ZsYWdzXCIsb2k9XCIkZWFybHlfYWNjZXNzX2ZlYXR1cmVzXCIsYWk9XCIkZmVhdHVyZV9mbGFnX2RldGFpbHNcIixsaT1cIiRzdG9yZWRfcGVyc29uX3Byb3BlcnRpZXNcIix1aT1cIiRzdG9yZWRfZ3JvdXBfcHJvcGVydGllc1wiLGhpPVwiJHN1cnZleXNcIixkaT1cIiRzdXJ2ZXlzX2FjdGl2YXRlZFwiLHZpPVwiJGZsYWdfY2FsbF9yZXBvcnRlZFwiLGNpPVwiJHVzZXJfc3RhdGVcIixmaT1cIiRjbGllbnRfc2Vzc2lvbl9wcm9wc1wiLHBpPVwiJGNhcHR1cmVfcmF0ZV9saW1pdFwiLGdpPVwiJGluaXRpYWxfY2FtcGFpZ25fcGFyYW1zXCIsX2k9XCIkaW5pdGlhbF9yZWZlcnJlcl9pbmZvXCIsbWk9XCIkaW5pdGlhbF9wZXJzb25faW5mb1wiLHlpPVwiJGVwcFwiLGJpPVwiX19QT1NUSE9HX1RPT0xCQVJfX1wiLHdpPVwiJHBvc3Rob2dfY29va2llbGVzc1wiLHhpPVtXdCxHdCxcIl9fY21wbnNcIixWdCxcIiRzZXNzaW9uX3JlY29yZGluZ19lbmFibGVkX3NlcnZlcl9zaWRlXCIsS3QscmksbmksWHQsY2ksb2ksYWksdWksbGksaGksdmksZmkscGksZ2ksX2kseWksbWldO2Z1bmN0aW9uIFNpKHQpe3JldHVybiB0IGluc3RhbmNlb2YgRWxlbWVudCYmKHQuaWQ9PT1iaXx8IShudWxsPT10LmNsb3Nlc3R8fCF0LmNsb3Nlc3QoXCIudG9vbGJhci1nbG9iYWwtZmFkZS1jb250YWluZXJcIikpKX1mdW5jdGlvbiBFaSh0KXtyZXR1cm4hIXQmJjE9PT10Lm5vZGVUeXBlfWZ1bmN0aW9uICRpKHQsaSl7cmV0dXJuISF0JiYhIXQudGFnTmFtZSYmdC50YWdOYW1lLnRvTG93ZXJDYXNlKCk9PT1pLnRvTG93ZXJDYXNlKCl9ZnVuY3Rpb24ga2kodCl7cmV0dXJuISF0JiYzPT09dC5ub2RlVHlwZX1mdW5jdGlvbiBQaSh0KXtyZXR1cm4hIXQmJjExPT09dC5ub2RlVHlwZX1mdW5jdGlvbiBUaSh0KXtyZXR1cm4gdD94KHQpLnNwbGl0KC9cXHMrLyk6W119ZnVuY3Rpb24gSWkoaSl7dmFyIGU9bnVsbD09dD92b2lkIDA6dC5sb2NhdGlvbi5ocmVmO3JldHVybiEhKGUmJmkmJmkuc29tZSgodD0+ZS5tYXRjaCh0KSkpKX1mdW5jdGlvbiBSaSh0KXt2YXIgaT1cIlwiO3N3aXRjaCh0eXBlb2YgdC5jbGFzc05hbWUpe2Nhc2VcInN0cmluZ1wiOmk9dC5jbGFzc05hbWU7YnJlYWs7Y2FzZVwib2JqZWN0XCI6aT0odC5jbGFzc05hbWUmJlwiYmFzZVZhbFwiaW4gdC5jbGFzc05hbWU/dC5jbGFzc05hbWUuYmFzZVZhbDpudWxsKXx8dC5nZXRBdHRyaWJ1dGUoXCJjbGFzc1wiKXx8XCJcIjticmVhaztkZWZhdWx0Omk9XCJcIn1yZXR1cm4gVGkoaSl9ZnVuY3Rpb24gRmkodCl7cmV0dXJuIGoodCk/bnVsbDp4KHQpLnNwbGl0KC8oXFxzKykvKS5maWx0ZXIoKHQ9PlFpKHQpKSkuam9pbihcIlwiKS5yZXBsYWNlKC9bXFxyXFxuXS9nLFwiIFwiKS5yZXBsYWNlKC9bIF0rL2csXCIgXCIpLnN1YnN0cmluZygwLDI1NSl9ZnVuY3Rpb24gQ2kodCl7dmFyIGk9XCJcIjtyZXR1cm4gcWkodCkmJiFXaSh0KSYmdC5jaGlsZE5vZGVzJiZ0LmNoaWxkTm9kZXMubGVuZ3RoJiZNdCh0LmNoaWxkTm9kZXMsKGZ1bmN0aW9uKHQpe3ZhciBlO2tpKHQpJiZ0LnRleHRDb250ZW50JiYoaSs9bnVsbCE9PShlPUZpKHQudGV4dENvbnRlbnQpKSYmdm9pZCAwIT09ZT9lOlwiXCIpfSkpLHgoaSl9ZnVuY3Rpb24gTWkodCl7cmV0dXJuIE0odC50YXJnZXQpP3Quc3JjRWxlbWVudHx8bnVsbDpudWxsIT0oaT10LnRhcmdldCkmJmkuc2hhZG93Um9vdD90LmNvbXBvc2VkUGF0aCgpWzBdfHxudWxsOnQudGFyZ2V0fHxudWxsO3ZhciBpfXZhciBPaT1bXCJhXCIsXCJidXR0b25cIixcImZvcm1cIixcImlucHV0XCIsXCJzZWxlY3RcIixcInRleHRhcmVhXCIsXCJsYWJlbFwiXTtmdW5jdGlvbiBBaSh0LGkpe2lmKE0oaSkpcmV0dXJuITA7dmFyIGUscj1mdW5jdGlvbih0KXtpZihpLnNvbWUoKGk9PnQubWF0Y2hlcyhpKSkpKXJldHVybnt2OiEwfX07Zm9yKHZhciBzIG9mIHQpaWYoZT1yKHMpKXJldHVybiBlLnY7cmV0dXJuITF9ZnVuY3Rpb24gRGkodCl7dmFyIGk9dC5wYXJlbnROb2RlO3JldHVybiEoIWl8fCFFaShpKSkmJml9dmFyIGppPVtcIm5leHRcIixcInByZXZpb3VzXCIsXCJwcmV2XCIsXCI+XCIsXCI8XCJdLExpPTEwO3ZhciBOaT1bXCIucGgtbm8tcmFnZWNsaWNrXCIsXCIucGgtbm8tY2FwdHVyZVwiXTtmdW5jdGlvbiBVaShpLGUpe2lmKCF0fHx6aShpKSlyZXR1cm4hMTt2YXIgcixzLG47TihlKT8ocj0hIWUmJk5pLHM9dm9pZCAwKToocj1udWxsIT09KG49bnVsbD09ZT92b2lkIDA6ZS5jc3Nfc2VsZWN0b3JfaWdub3JlbGlzdCkmJnZvaWQgMCE9PW4/bjpOaSxzPW51bGw9PWU/dm9pZCAwOmUuY29udGVudF9pZ25vcmVsaXN0KTtpZighMT09PXIpcmV0dXJuITE7dmFye3RhcmdldEVsZW1lbnRMaXN0Om99PUhpKGksITEpO3JldHVybiFmdW5jdGlvbih0LGkpe2lmKCExPT09dHx8TSh0KSlyZXR1cm4hMTt2YXIgZTtpZighMD09PXQpZT1qaTtlbHNle2lmKCFJKHQpKXJldHVybiExO2lmKHQubGVuZ3RoPkxpKXJldHVybiBQdC5lcnJvcihcIltQb3N0SG9nXSBjb250ZW50X2lnbm9yZWxpc3QgYXJyYXkgY2Fubm90IGV4Y2VlZCBcIitMaStcIiBpdGVtcy4gVXNlIGNzc19zZWxlY3Rvcl9pZ25vcmVsaXN0IGZvciBtb3JlIGNvbXBsZXggbWF0Y2hpbmcuXCIpLCExO2U9dC5tYXAoKHQ9PnQudG9Mb3dlckNhc2UoKSkpfXJldHVybiBpLnNvbWUoKHQ9Pnt2YXJ7c2FmZVRleHQ6aSxhcmlhTGFiZWw6cn09dDtyZXR1cm4gZS5zb21lKCh0PT5pLmluY2x1ZGVzKHQpfHxyLmluY2x1ZGVzKHQpKSl9KSl9KHMsby5tYXAoKHQ9Pnt2YXIgaTtyZXR1cm57c2FmZVRleHQ6Q2kodCkudG9Mb3dlckNhc2UoKSxhcmlhTGFiZWw6KG51bGw9PShpPXQuZ2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiKSk/dm9pZCAwOmkudG9Mb3dlckNhc2UoKS50cmltKCkpfHxcIlwifX0pKSkmJiFBaShvLHIpfXZhciB6aT10PT4hdHx8JGkodCxcImh0bWxcIil8fCFFaSh0KSxIaT0oaSxlKT0+e2lmKCF0fHx6aShpKSlyZXR1cm57cGFyZW50SXNVc2VmdWxFbGVtZW50OiExLHRhcmdldEVsZW1lbnRMaXN0OltdfTtmb3IodmFyIHI9ITEscz1baV0sbj1pO24ucGFyZW50Tm9kZSYmISRpKG4sXCJib2R5XCIpOylpZihQaShuLnBhcmVudE5vZGUpKXMucHVzaChuLnBhcmVudE5vZGUuaG9zdCksbj1uLnBhcmVudE5vZGUuaG9zdDtlbHNle3ZhciBvPURpKG4pO2lmKCFvKWJyZWFrO2lmKGV8fE9pLmluZGV4T2Yoby50YWdOYW1lLnRvTG93ZXJDYXNlKCkpPi0xKXI9ITA7ZWxzZXt2YXIgYT10LmdldENvbXB1dGVkU3R5bGUobyk7YSYmXCJwb2ludGVyXCI9PT1hLmdldFByb3BlcnR5VmFsdWUoXCJjdXJzb3JcIikmJihyPSEwKX1zLnB1c2gobyksbj1vfXJldHVybntwYXJlbnRJc1VzZWZ1bEVsZW1lbnQ6cix0YXJnZXRFbGVtZW50TGlzdDpzfX07ZnVuY3Rpb24gQmkoaSxlLHIscyxuKXt2YXIgbyxhLGwsdTtpZih2b2lkIDA9PT1yJiYocj12b2lkIDApLCF0fHx6aShpKSlyZXR1cm4hMTtpZihudWxsIT0obz1yKSYmby51cmxfYWxsb3dsaXN0JiYhSWkoci51cmxfYWxsb3dsaXN0KSlyZXR1cm4hMTtpZihudWxsIT0oYT1yKSYmYS51cmxfaWdub3JlbGlzdCYmSWkoci51cmxfaWdub3JlbGlzdCkpcmV0dXJuITE7aWYobnVsbCE9KGw9cikmJmwuZG9tX2V2ZW50X2FsbG93bGlzdCl7dmFyIGg9ci5kb21fZXZlbnRfYWxsb3dsaXN0O2lmKGgmJiFoLnNvbWUoKHQ9PmUudHlwZT09PXQpKSlyZXR1cm4hMX12YXJ7cGFyZW50SXNVc2VmdWxFbGVtZW50OmQsdGFyZ2V0RWxlbWVudExpc3Q6dn09SGkoaSxzKTtpZighZnVuY3Rpb24odCxpKXt2YXIgZT1udWxsPT1pP3ZvaWQgMDppLmVsZW1lbnRfYWxsb3dsaXN0O2lmKE0oZSkpcmV0dXJuITA7dmFyIHIscz1mdW5jdGlvbih0KXtpZihlLnNvbWUoKGk9PnQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09aSkpKXJldHVybnt2OiEwfX07Zm9yKHZhciBuIG9mIHQpaWYocj1zKG4pKXJldHVybiByLnY7cmV0dXJuITF9KHYscikpcmV0dXJuITE7aWYoIUFpKHYsbnVsbD09KHU9cik/dm9pZCAwOnUuY3NzX3NlbGVjdG9yX2FsbG93bGlzdCkpcmV0dXJuITE7dmFyIGM9dC5nZXRDb21wdXRlZFN0eWxlKGkpO2lmKGMmJlwicG9pbnRlclwiPT09Yy5nZXRQcm9wZXJ0eVZhbHVlKFwiY3Vyc29yXCIpJiZcImNsaWNrXCI9PT1lLnR5cGUpcmV0dXJuITA7dmFyIGY9aS50YWdOYW1lLnRvTG93ZXJDYXNlKCk7c3dpdGNoKGYpe2Nhc2VcImh0bWxcIjpyZXR1cm4hMTtjYXNlXCJmb3JtXCI6cmV0dXJuKG58fFtcInN1Ym1pdFwiXSkuaW5kZXhPZihlLnR5cGUpPj0wO2Nhc2VcImlucHV0XCI6Y2FzZVwic2VsZWN0XCI6Y2FzZVwidGV4dGFyZWFcIjpyZXR1cm4obnx8W1wiY2hhbmdlXCIsXCJjbGlja1wiXSkuaW5kZXhPZihlLnR5cGUpPj0wO2RlZmF1bHQ6cmV0dXJuIGQ/KG58fFtcImNsaWNrXCJdKS5pbmRleE9mKGUudHlwZSk+PTA6KG58fFtcImNsaWNrXCJdKS5pbmRleE9mKGUudHlwZSk+PTAmJihPaS5pbmRleE9mKGYpPi0xfHxcInRydWVcIj09PWkuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpKX19ZnVuY3Rpb24gcWkodCl7Zm9yKHZhciBpPXQ7aS5wYXJlbnROb2RlJiYhJGkoaSxcImJvZHlcIik7aT1pLnBhcmVudE5vZGUpe3ZhciBlPVJpKGkpO2lmKHcoZSxcInBoLXNlbnNpdGl2ZVwiKXx8dyhlLFwicGgtbm8tY2FwdHVyZVwiKSlyZXR1cm4hMX1pZih3KFJpKHQpLFwicGgtaW5jbHVkZVwiKSlyZXR1cm4hMDt2YXIgcj10LnR5cGV8fFwiXCI7aWYoTyhyKSlzd2l0Y2goci50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoaWRkZW5cIjpjYXNlXCJwYXNzd29yZFwiOnJldHVybiExfXZhciBzPXQubmFtZXx8dC5pZHx8XCJcIjtpZihPKHMpKXtpZigvXmNjfGNhcmRudW18Y2NudW18Y3JlZGl0Y2FyZHxjc2N8Y3ZjfGN2dnxleHB8cGFzc3xwd2R8cm91dGluZ3xzZWNjb2RlfHNlY3VyaXR5Y29kZXxzZWN1cml0eW51bXxzb2NpYWxzZWN8c29jc2VjfHNzbi9pLnRlc3Qocy5yZXBsYWNlKC9bXmEtekEtWjAtOV0vZyxcIlwiKSkpcmV0dXJuITF9cmV0dXJuITB9ZnVuY3Rpb24gV2kodCl7cmV0dXJuISEoJGkodCxcImlucHV0XCIpJiYhW1wiYnV0dG9uXCIsXCJjaGVja2JveFwiLFwic3VibWl0XCIsXCJyZXNldFwiXS5pbmNsdWRlcyh0LnR5cGUpfHwkaSh0LFwic2VsZWN0XCIpfHwkaSh0LFwidGV4dGFyZWFcIil8fFwidHJ1ZVwiPT09dC5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpfXZhciBHaT1cIig0WzAtOV17MTJ9KD86WzAtOV17M30pPyl8KDVbMS01XVswLTldezE0fSl8KDYoPzowMTF8NVswLTldezJ9KVswLTldezEyfSl8KDNbNDddWzAtOV17MTN9KXwoMyg/OjBbMC01XXxbNjhdWzAtOV0pWzAtOV17MTF9KXwoKD86MjEzMXwxODAwfDM1WzAtOV17M30pWzAtOV17MTF9KVwiLFZpPW5ldyBSZWdFeHAoXCJeKD86XCIrR2krXCIpJFwiKSxKaT1uZXcgUmVnRXhwKEdpKSxLaT1cIlxcXFxkezN9LT9cXFxcZHsyfS0/XFxcXGR7NH1cIixZaT1uZXcgUmVnRXhwKFwiXihcIitLaStcIikkXCIpLFhpPW5ldyBSZWdFeHAoXCIoXCIrS2krXCIpXCIpO2Z1bmN0aW9uIFFpKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9ITApLGoodCkpcmV0dXJuITE7aWYoTyh0KSl7aWYodD14KHQpLChpP1ZpOkppKS50ZXN0KCh0fHxcIlwiKS5yZXBsYWNlKC9bLSBdL2csXCJcIikpKXJldHVybiExO2lmKChpP1lpOlhpKS50ZXN0KHQpKXJldHVybiExfXJldHVybiEwfWZ1bmN0aW9uIFppKHQpe3ZhciBpPUNpKHQpO3JldHVybiBRaShpPShpK1wiIFwiK3RlKHQpKS50cmltKCkpP2k6XCJcIn1mdW5jdGlvbiB0ZSh0KXt2YXIgaT1cIlwiO3JldHVybiB0JiZ0LmNoaWxkTm9kZXMmJnQuY2hpbGROb2Rlcy5sZW5ndGgmJk10KHQuY2hpbGROb2RlcywoZnVuY3Rpb24odCl7dmFyIGU7aWYodCYmXCJzcGFuXCI9PT0obnVsbD09KGU9dC50YWdOYW1lKT92b2lkIDA6ZS50b0xvd2VyQ2FzZSgpKSl0cnl7dmFyIHI9Q2kodCk7aT0oaStcIiBcIityKS50cmltKCksdC5jaGlsZE5vZGVzJiZ0LmNoaWxkTm9kZXMubGVuZ3RoJiYoaT0oaStcIiBcIit0ZSh0KSkudHJpbSgpKX1jYXRjaCh0KXtQdC5lcnJvcihcIltBdXRvQ2FwdHVyZV1cIix0KX19KSksaX1mdW5jdGlvbiBpZSh0KXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIGk9dC5tYXAoKHQ9Pnt2YXIgaSxlLHI9XCJcIjtpZih0LnRhZ19uYW1lJiYocis9dC50YWdfbmFtZSksdC5hdHRyX2NsYXNzKWZvcih2YXIgcyBvZih0LmF0dHJfY2xhc3Muc29ydCgpLHQuYXR0cl9jbGFzcykpcis9XCIuXCIrcy5yZXBsYWNlKC9cIi9nLFwiXCIpO3ZhciBuPWcoe30sdC50ZXh0P3t0ZXh0OnQudGV4dH06e30se1wibnRoLWNoaWxkXCI6bnVsbCE9PShpPXQubnRoX2NoaWxkKSYmdm9pZCAwIT09aT9pOjAsXCJudGgtb2YtdHlwZVwiOm51bGwhPT0oZT10Lm50aF9vZl90eXBlKSYmdm9pZCAwIT09ZT9lOjB9LHQuaHJlZj97aHJlZjp0LmhyZWZ9Ont9LHQuYXR0cl9pZD97YXR0cl9pZDp0LmF0dHJfaWR9Ont9LHQuYXR0cmlidXRlcyksbz17fTtyZXR1cm4gRHQobikuc29ydCgoKHQsaSk9Pnt2YXJbZV09dCxbcl09aTtyZXR1cm4gZS5sb2NhbGVDb21wYXJlKHIpfSkpLmZvckVhY2goKHQ9Pnt2YXJbaSxlXT10O3JldHVybiBvW2VlKGkudG9TdHJpbmcoKSldPWVlKGUudG9TdHJpbmcoKSl9KSkscis9XCI6XCIscis9RHQobykubWFwKCh0PT57dmFyW2ksZV09dDtyZXR1cm4gaSsnPVwiJytlKydcIid9KSkuam9pbihcIlwiKX0pKTtyZXR1cm4gaS5qb2luKFwiO1wiKX0oZnVuY3Rpb24odCl7cmV0dXJuIHQubWFwKCh0PT57dmFyIGksZSxyPXt0ZXh0Om51bGw9PShpPXQuJGVsX3RleHQpP3ZvaWQgMDppLnNsaWNlKDAsNDAwKSx0YWdfbmFtZTp0LnRhZ19uYW1lLGhyZWY6bnVsbD09KGU9dC5hdHRyX19ocmVmKT92b2lkIDA6ZS5zbGljZSgwLDIwNDgpLGF0dHJfY2xhc3M6cmUodCksYXR0cl9pZDp0LmF0dHJfX2lkLG50aF9jaGlsZDp0Lm50aF9jaGlsZCxudGhfb2ZfdHlwZTp0Lm50aF9vZl90eXBlLGF0dHJpYnV0ZXM6e319O3JldHVybiBEdCh0KS5maWx0ZXIoKHQ9Pnt2YXJbaV09dDtyZXR1cm4gMD09PWkuaW5kZXhPZihcImF0dHJfX1wiKX0pKS5mb3JFYWNoKCh0PT57dmFyW2ksZV09dDtyZXR1cm4gci5hdHRyaWJ1dGVzW2ldPWV9KSkscn0pKX0odCkpfWZ1bmN0aW9uIGVlKHQpe3JldHVybiB0LnJlcGxhY2UoL1wifFxcXFxcIi9nLCdcXFxcXCInKX1mdW5jdGlvbiByZSh0KXt2YXIgaT10LmF0dHJfX2NsYXNzO3JldHVybiBpP0koaSk/aTpUaShpKTp2b2lkIDB9Y2xhc3Mgc2V7Y29uc3RydWN0b3IodCl7dGhpcy5kaXNhYmxlZD0hMT09PXQ7dmFyIGk9Rih0KT90Ont9O3RoaXMudGhyZXNob2xkUHg9aS50aHJlc2hvbGRfcHh8fDMwLHRoaXMudGltZW91dE1zPWkudGltZW91dF9tc3x8MWUzLHRoaXMuY2xpY2tDb3VudD1pLmNsaWNrX2NvdW50fHwzLHRoaXMuY2xpY2tzPVtdfWlzUmFnZUNsaWNrKHQsaSxlKXtpZih0aGlzLmRpc2FibGVkKXJldHVybiExO3ZhciByPXRoaXMuY2xpY2tzW3RoaXMuY2xpY2tzLmxlbmd0aC0xXTtpZihyJiZNYXRoLmFicyh0LXIueCkrTWF0aC5hYnMoaS1yLnkpPHRoaXMudGhyZXNob2xkUHgmJmUtci50aW1lc3RhbXA8dGhpcy50aW1lb3V0TXMpe2lmKHRoaXMuY2xpY2tzLnB1c2goe3g6dCx5OmksdGltZXN0YW1wOmV9KSx0aGlzLmNsaWNrcy5sZW5ndGg9PT10aGlzLmNsaWNrQ291bnQpcmV0dXJuITB9ZWxzZSB0aGlzLmNsaWNrcz1be3g6dCx5OmksdGltZXN0YW1wOmV9XTtyZXR1cm4hMX19dmFyIG5lPVwiJGNvcHlfYXV0b2NhcHR1cmVcIixvZT1mdW5jdGlvbih0KXtyZXR1cm4gdC5HWmlwSlM9XCJnemlwLWpzXCIsdC5CYXNlNjQ9XCJiYXNlNjRcIix0fSh7fSksYWU9W1wiZmF0YWxcIixcImVycm9yXCIsXCJ3YXJuaW5nXCIsXCJsb2dcIixcImluZm9cIixcImRlYnVnXCJdLGxlPXQ9Pnt2YXIgaT1udWxsPT1vP3ZvaWQgMDpvLmNyZWF0ZUVsZW1lbnQoXCJhXCIpO3JldHVybiBNKGkpP251bGw6KGkuaHJlZj10LGkpfSx1ZT1mdW5jdGlvbih0LGkpe3ZhciBlLHI7dm9pZCAwPT09aSYmKGk9XCImXCIpO3ZhciBzPVtdO3JldHVybiBNdCh0LChmdW5jdGlvbih0LGkpe00odCl8fE0oaSl8fFwidW5kZWZpbmVkXCI9PT1pfHwoZT1lbmNvZGVVUklDb21wb25lbnQoKHQ9PnQgaW5zdGFuY2VvZiBGaWxlKSh0KT90Lm5hbWU6dC50b1N0cmluZygpKSxyPWVuY29kZVVSSUNvbXBvbmVudChpKSxzW3MubGVuZ3RoXT1yK1wiPVwiK2UpfSkpLHMuam9pbihpKX0saGU9ZnVuY3Rpb24odCxpKXtmb3IodmFyIGUscj0oKHQuc3BsaXQoXCIjXCIpWzBdfHxcIlwiKS5zcGxpdCgvXFw/KC4qKS8pWzFdfHxcIlwiKS5yZXBsYWNlKC9eXFw/Ky9nLFwiXCIpLnNwbGl0KFwiJlwiKSxzPTA7czxyLmxlbmd0aDtzKyspe3ZhciBuPXJbc10uc3BsaXQoXCI9XCIpO2lmKG5bMF09PT1pKXtlPW47YnJlYWt9fWlmKCFJKGUpfHxlLmxlbmd0aDwyKXJldHVyblwiXCI7dmFyIG89ZVsxXTt0cnl7bz1kZWNvZGVVUklDb21wb25lbnQobyl9Y2F0Y2godCl7UHQuZXJyb3IoXCJTa2lwcGluZyBkZWNvZGluZyBmb3IgbWFsZm9ybWVkIHF1ZXJ5IHBhcmFtOiBcIitvKX1yZXR1cm4gby5yZXBsYWNlKC9cXCsvZyxcIiBcIil9LGRlPWZ1bmN0aW9uKHQsaSxlKXtpZighdHx8IWl8fCFpLmxlbmd0aClyZXR1cm4gdDtmb3IodmFyIHI9dC5zcGxpdChcIiNcIikscz1yWzBdfHxcIlwiLG49clsxXSxvPXMuc3BsaXQoXCI/XCIpLGE9b1sxXSxsPW9bMF0sdT0oYXx8XCJcIikuc3BsaXQoXCImXCIpLGg9W10sZD0wO2Q8dS5sZW5ndGg7ZCsrKXt2YXIgdj11W2RdLnNwbGl0KFwiPVwiKTtJKHYpJiYoaS5pbmNsdWRlcyh2WzBdKT9oLnB1c2godlswXStcIj1cIitlKTpoLnB1c2godVtkXSkpfXZhciBjPWw7cmV0dXJuIG51bGwhPWEmJihjKz1cIj9cIitoLmpvaW4oXCImXCIpKSxudWxsIT1uJiYoYys9XCIjXCIrbiksY30sdmU9ZnVuY3Rpb24odCxpKXt2YXIgZT10Lm1hdGNoKG5ldyBSZWdFeHAoaStcIj0oW14mXSopXCIpKTtyZXR1cm4gZT9lWzFdOm51bGx9LGNlPVR0KFwiW0F1dG9DYXB0dXJlXVwiKTtmdW5jdGlvbiBmZSh0LGkpe3JldHVybiBpLmxlbmd0aD50P2kuc2xpY2UoMCx0KStcIi4uLlwiOml9ZnVuY3Rpb24gcGUodCl7aWYodC5wcmV2aW91c0VsZW1lbnRTaWJsaW5nKXJldHVybiB0LnByZXZpb3VzRWxlbWVudFNpYmxpbmc7dmFyIGk9dDtkb3tpPWkucHJldmlvdXNTaWJsaW5nfXdoaWxlKGkmJiFFaShpKSk7cmV0dXJuIGl9ZnVuY3Rpb24gZ2UodCxpLGUscil7dmFyIHM9dC50YWdOYW1lLnRvTG93ZXJDYXNlKCksbj17dGFnX25hbWU6c307T2kuaW5kZXhPZihzKT4tMSYmIWUmJihcImFcIj09PXMudG9Mb3dlckNhc2UoKXx8XCJidXR0b25cIj09PXMudG9Mb3dlckNhc2UoKT9uLiRlbF90ZXh0PWZlKDEwMjQsWmkodCkpOm4uJGVsX3RleHQ9ZmUoMTAyNCxDaSh0KSkpO3ZhciBvPVJpKHQpO28ubGVuZ3RoPjAmJihuLmNsYXNzZXM9by5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVyblwiXCIhPT10fSkpKSxNdCh0LmF0dHJpYnV0ZXMsKGZ1bmN0aW9uKGUpe3ZhciBzO2lmKCghV2kodCl8fC0xIT09W1wibmFtZVwiLFwiaWRcIixcImNsYXNzXCIsXCJhcmlhLWxhYmVsXCJdLmluZGV4T2YoZS5uYW1lKSkmJigobnVsbD09cnx8IXIuaW5jbHVkZXMoZS5uYW1lKSkmJiFpJiZRaShlLnZhbHVlKSYmKHM9ZS5uYW1lLCFPKHMpfHxcIl9uZ2NvbnRlbnRcIiE9PXMuc3Vic3RyaW5nKDAsMTApJiZcIl9uZ2hvc3RcIiE9PXMuc3Vic3RyaW5nKDAsNykpKSl7dmFyIG89ZS52YWx1ZTtcImNsYXNzXCI9PT1lLm5hbWUmJihvPVRpKG8pLmpvaW4oXCIgXCIpKSxuW1wiYXR0cl9fXCIrZS5uYW1lXT1mZSgxMDI0LG8pfX0pKTtmb3IodmFyIGE9MSxsPTEsdT10O3U9cGUodSk7KWErKyx1LnRhZ05hbWU9PT10LnRhZ05hbWUmJmwrKztyZXR1cm4gbi5udGhfY2hpbGQ9YSxuLm50aF9vZl90eXBlPWwsbn1mdW5jdGlvbiBfZShpLGUpe2Zvcih2YXIgcixzLHtlOm4sbWFza0FsbEVsZW1lbnRBdHRyaWJ1dGVzOm8sbWFza0FsbFRleHQ6YSxlbGVtZW50QXR0cmlidXRlSWdub3JlTGlzdDpsLGVsZW1lbnRzQ2hhaW5Bc1N0cmluZzp1fT1lLGg9W2ldLGQ9aTtkLnBhcmVudE5vZGUmJiEkaShkLFwiYm9keVwiKTspUGkoZC5wYXJlbnROb2RlKT8oaC5wdXNoKGQucGFyZW50Tm9kZS5ob3N0KSxkPWQucGFyZW50Tm9kZS5ob3N0KTooaC5wdXNoKGQucGFyZW50Tm9kZSksZD1kLnBhcmVudE5vZGUpO3ZhciB2LGM9W10sZj17fSxwPSExLGc9ITE7aWYoTXQoaCwodD0+e3ZhciBpPXFpKHQpO1wiYVwiPT09dC50YWdOYW1lLnRvTG93ZXJDYXNlKCkmJihwPXQuZ2V0QXR0cmlidXRlKFwiaHJlZlwiKSxwPWkmJnAmJlFpKHApJiZwKSx3KFJpKHQpLFwicGgtbm8tY2FwdHVyZVwiKSYmKGc9ITApLGMucHVzaChnZSh0LG8sYSxsKSk7dmFyIGU9ZnVuY3Rpb24odCl7aWYoIXFpKHQpKXJldHVybnt9O3ZhciBpPXt9O3JldHVybiBNdCh0LmF0dHJpYnV0ZXMsKGZ1bmN0aW9uKHQpe2lmKHQubmFtZSYmMD09PXQubmFtZS5pbmRleE9mKFwiZGF0YS1waC1jYXB0dXJlLWF0dHJpYnV0ZVwiKSl7dmFyIGU9dC5uYW1lLnJlcGxhY2UoXCJkYXRhLXBoLWNhcHR1cmUtYXR0cmlidXRlLVwiLFwiXCIpLHI9dC52YWx1ZTtlJiZyJiZRaShyKSYmKGlbZV09cil9fSkpLGl9KHQpO090KGYsZSl9KSksZylyZXR1cm57cHJvcHM6e30sZXhwbGljaXROb0NhcHR1cmU6Z307aWYoYXx8KFwiYVwiPT09aS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiYnV0dG9uXCI9PT1pLnRhZ05hbWUudG9Mb3dlckNhc2UoKT9jWzBdLiRlbF90ZXh0PVppKGkpOmNbMF0uJGVsX3RleHQ9Q2koaSkpLHApe3ZhciBfLG07Y1swXS5hdHRyX19ocmVmPXA7dmFyIHk9bnVsbD09KF89bGUocCkpP3ZvaWQgMDpfLmhvc3QsYj1udWxsPT10fHxudWxsPT0obT10LmxvY2F0aW9uKT92b2lkIDA6bS5ob3N0O3kmJmImJnkhPT1iJiYodj1wKX1yZXR1cm57cHJvcHM6T3QoeyRldmVudF90eXBlOm4udHlwZSwkY2VfdmVyc2lvbjoxfSx1P3t9OnskZWxlbWVudHM6Y30seyRlbGVtZW50c19jaGFpbjppZShjKX0sbnVsbCE9KHI9Y1swXSkmJnIuJGVsX3RleHQ/eyRlbF90ZXh0Om51bGw9PShzPWNbMF0pP3ZvaWQgMDpzLiRlbF90ZXh0fTp7fSx2JiZcImNsaWNrXCI9PT1uLnR5cGU/eyRleHRlcm5hbF9jbGlja191cmw6dn06e30sZil9fWNsYXNzIG1le2NvbnN0cnVjdG9yKHQpe3RoaXMuUD0hMSx0aGlzLlQ9bnVsbCx0aGlzLkk9ITEsdGhpcy5pbnN0YW5jZT10LHRoaXMucmFnZWNsaWNrcz1uZXcgc2UodC5jb25maWcucmFnZWNsaWNrKSx0aGlzLlI9bnVsbH1nZXQgRigpe3ZhciB0LGksZT1GKHRoaXMuaW5zdGFuY2UuY29uZmlnLmF1dG9jYXB0dXJlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5hdXRvY2FwdHVyZTp7fTtyZXR1cm4gZS51cmxfYWxsb3dsaXN0PW51bGw9PSh0PWUudXJsX2FsbG93bGlzdCk/dm9pZCAwOnQubWFwKCh0PT5uZXcgUmVnRXhwKHQpKSksZS51cmxfaWdub3JlbGlzdD1udWxsPT0oaT1lLnVybF9pZ25vcmVsaXN0KT92b2lkIDA6aS5tYXAoKHQ9Pm5ldyBSZWdFeHAodCkpKSxlfUMoKXtpZih0aGlzLmlzQnJvd3NlclN1cHBvcnRlZCgpKXtpZih0JiZvKXt2YXIgaT1pPT57aT1pfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCk7dHJ5e3RoaXMuTShpKX1jYXRjaCh0KXtjZS5lcnJvcihcIkZhaWxlZCB0byBjYXB0dXJlIGV2ZW50XCIsdCl9fTtpZihxdChvLFwic3VibWl0XCIsaSx7Y2FwdHVyZTohMH0pLHF0KG8sXCJjaGFuZ2VcIixpLHtjYXB0dXJlOiEwfSkscXQobyxcImNsaWNrXCIsaSx7Y2FwdHVyZTohMH0pLHRoaXMuRi5jYXB0dXJlX2NvcGllZF90ZXh0KXt2YXIgZT1pPT57aT1pfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCksdGhpcy5NKGksbmUpfTtxdChvLFwiY29weVwiLGUse2NhcHR1cmU6ITB9KSxxdChvLFwiY3V0XCIsZSx7Y2FwdHVyZTohMH0pfX19ZWxzZSBjZS5pbmZvKFwiRGlzYWJsaW5nIEF1dG9tYXRpYyBFdmVudCBDb2xsZWN0aW9uIGJlY2F1c2UgdGhpcyBicm93c2VyIGlzIG5vdCBzdXBwb3J0ZWRcIil9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmIXRoaXMuUCYmKHRoaXMuQygpLHRoaXMuUD0hMCl9b25SZW1vdGVDb25maWcodCl7dC5lbGVtZW50c0NoYWluQXNTdHJpbmcmJih0aGlzLkk9dC5lbGVtZW50c0NoYWluQXNTdHJpbmcpLHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tKdF06ISF0LmF1dG9jYXB0dXJlX29wdF9vdXR9KSx0aGlzLlQ9ISF0LmF1dG9jYXB0dXJlX29wdF9vdXQsdGhpcy5zdGFydElmRW5hYmxlZCgpfXNldEVsZW1lbnRTZWxlY3RvcnModCl7dGhpcy5SPXR9Z2V0RWxlbWVudFNlbGVjdG9ycyh0KXt2YXIgaSxlPVtdO3JldHVybiBudWxsPT0oaT10aGlzLlIpfHxpLmZvckVhY2goKGk9Pnt2YXIgcj1udWxsPT1vP3ZvaWQgMDpvLnF1ZXJ5U2VsZWN0b3JBbGwoaSk7bnVsbD09cnx8ci5mb3JFYWNoKChyPT57dD09PXImJmUucHVzaChpKX0pKX0pKSxlfWdldCBpc0VuYWJsZWQoKXt2YXIgdCxpLGU9bnVsbD09KHQ9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSk/dm9pZCAwOnQucHJvcHNbSnRdLHI9dGhpcy5UO2lmKEQocikmJiFOKGUpJiYhdGhpcy5pbnN0YW5jZS5PKCkpcmV0dXJuITE7dmFyIHM9bnVsbCE9PShpPXRoaXMuVCkmJnZvaWQgMCE9PWk/aTohIWU7cmV0dXJuISF0aGlzLmluc3RhbmNlLmNvbmZpZy5hdXRvY2FwdHVyZSYmIXN9TShpLGUpe2lmKHZvaWQgMD09PWUmJihlPVwiJGF1dG9jYXB0dXJlXCIpLHRoaXMuaXNFbmFibGVkKXt2YXIgcixzPU1pKGkpO2lmKGtpKHMpJiYocz1zLnBhcmVudE5vZGV8fG51bGwpLFwiJGF1dG9jYXB0dXJlXCI9PT1lJiZcImNsaWNrXCI9PT1pLnR5cGUmJmkgaW5zdGFuY2VvZiBNb3VzZUV2ZW50KXRoaXMuaW5zdGFuY2UuY29uZmlnLnJhZ2VjbGljayYmbnVsbCE9KHI9dGhpcy5yYWdlY2xpY2tzKSYmci5pc1JhZ2VDbGljayhpLmNsaWVudFgsaS5jbGllbnRZLGkudGltZVN0YW1wfHwobmV3IERhdGUpLmdldFRpbWUoKSkmJlVpKHMsdGhpcy5pbnN0YW5jZS5jb25maWcucmFnZWNsaWNrKSYmdGhpcy5NKGksXCIkcmFnZWNsaWNrXCIpO3ZhciBuPWU9PT1uZTtpZihzJiZCaShzLGksdGhpcy5GLG4sbj9bXCJjb3B5XCIsXCJjdXRcIl06dm9pZCAwKSl7dmFye3Byb3BzOm8sZXhwbGljaXROb0NhcHR1cmU6YX09X2Uocyx7ZTppLG1hc2tBbGxFbGVtZW50QXR0cmlidXRlczp0aGlzLmluc3RhbmNlLmNvbmZpZy5tYXNrX2FsbF9lbGVtZW50X2F0dHJpYnV0ZXMsbWFza0FsbFRleHQ6dGhpcy5pbnN0YW5jZS5jb25maWcubWFza19hbGxfdGV4dCxlbGVtZW50QXR0cmlidXRlSWdub3JlTGlzdDp0aGlzLkYuZWxlbWVudF9hdHRyaWJ1dGVfaWdub3JlbGlzdCxlbGVtZW50c0NoYWluQXNTdHJpbmc6dGhpcy5JfSk7aWYoYSlyZXR1cm4hMTt2YXIgbD10aGlzLmdldEVsZW1lbnRTZWxlY3RvcnMocyk7aWYobCYmbC5sZW5ndGg+MCYmKG8uJGVsZW1lbnRfc2VsZWN0b3JzPWwpLGU9PT1uZSl7dmFyIHUsaD1GaShudWxsPT10fHxudWxsPT0odT10LmdldFNlbGVjdGlvbigpKT92b2lkIDA6dS50b1N0cmluZygpKSxkPWkudHlwZXx8XCJjbGlwYm9hcmRcIjtpZighaClyZXR1cm4hMTtvLiRzZWxlY3RlZF9jb250ZW50PWgsby4kY29weV90eXBlPWR9cmV0dXJuIHRoaXMuaW5zdGFuY2UuY2FwdHVyZShlLG8pLCEwfX19aXNCcm93c2VyU3VwcG9ydGVkKCl7cmV0dXJuIFIobnVsbD09bz92b2lkIDA6by5xdWVyeVNlbGVjdG9yQWxsKX19TWF0aC50cnVuY3x8KE1hdGgudHJ1bmM9ZnVuY3Rpb24odCl7cmV0dXJuIHQ8MD9NYXRoLmNlaWwodCk6TWF0aC5mbG9vcih0KX0pLE51bWJlci5pc0ludGVnZXJ8fChOdW1iZXIuaXNJbnRlZ2VyPWZ1bmN0aW9uKHQpe3JldHVybiBMKHQpJiZpc0Zpbml0ZSh0KSYmTWF0aC5mbG9vcih0KT09PXR9KTt2YXIgeWU9XCIwMTIzNDU2Nzg5YWJjZGVmXCI7Y2xhc3MgYmV7Y29uc3RydWN0b3IodCl7aWYodGhpcy5ieXRlcz10LDE2IT09dC5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCAxMjgtYml0IGxlbmd0aFwiKX1zdGF0aWMgZnJvbUZpZWxkc1Y3KHQsaSxlLHIpe2lmKCFOdW1iZXIuaXNJbnRlZ2VyKHQpfHwhTnVtYmVyLmlzSW50ZWdlcihpKXx8IU51bWJlci5pc0ludGVnZXIoZSl8fCFOdW1iZXIuaXNJbnRlZ2VyKHIpfHx0PDB8fGk8MHx8ZTwwfHxyPDB8fHQ+MHhmZmZmZmZmZmZmZmZ8fGk+NDA5NXx8ZT4xMDczNzQxODIzfHxyPjQyOTQ5NjcyOTUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJpbnZhbGlkIGZpZWxkIHZhbHVlXCIpO3ZhciBzPW5ldyBVaW50OEFycmF5KDE2KTtyZXR1cm4gc1swXT10L01hdGgucG93KDIsNDApLHNbMV09dC9NYXRoLnBvdygyLDMyKSxzWzJdPXQvTWF0aC5wb3coMiwyNCksc1szXT10L01hdGgucG93KDIsMTYpLHNbNF09dC9NYXRoLnBvdygyLDgpLHNbNV09dCxzWzZdPTExMnxpPj4+OCxzWzddPWksc1s4XT0xMjh8ZT4+PjI0LHNbOV09ZT4+PjE2LHNbMTBdPWU+Pj44LHNbMTFdPWUsc1sxMl09cj4+PjI0LHNbMTNdPXI+Pj4xNixzWzE0XT1yPj4+OCxzWzE1XT1yLG5ldyBiZShzKX10b1N0cmluZygpe2Zvcih2YXIgdD1cIlwiLGk9MDtpPHRoaXMuYnl0ZXMubGVuZ3RoO2krKyl0PXQreWUuY2hhckF0KHRoaXMuYnl0ZXNbaV0+Pj40KSt5ZS5jaGFyQXQoMTUmdGhpcy5ieXRlc1tpXSksMyE9PWkmJjUhPT1pJiY3IT09aSYmOSE9PWl8fCh0Kz1cIi1cIik7aWYoMzYhPT10Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFVVSUR2NyB3YXMgZ2VuZXJhdGVkXCIpO3JldHVybiB0fWNsb25lKCl7cmV0dXJuIG5ldyBiZSh0aGlzLmJ5dGVzLnNsaWNlKDApKX1lcXVhbHModCl7cmV0dXJuIDA9PT10aGlzLmNvbXBhcmVUbyh0KX1jb21wYXJlVG8odCl7Zm9yKHZhciBpPTA7aTwxNjtpKyspe3ZhciBlPXRoaXMuYnl0ZXNbaV0tdC5ieXRlc1tpXTtpZigwIT09ZSlyZXR1cm4gTWF0aC5zaWduKGUpfXJldHVybiAwfX1jbGFzcyB3ZXtjb25zdHJ1Y3Rvcigpe3RoaXMuQT0wLHRoaXMuRD0wLHRoaXMuaj1uZXcgRWV9Z2VuZXJhdGUoKXt2YXIgdD10aGlzLmdlbmVyYXRlT3JBYm9ydCgpO2lmKE0odCkpe3RoaXMuQT0wO3ZhciBpPXRoaXMuZ2VuZXJhdGVPckFib3J0KCk7aWYoTShpKSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZ2VuZXJhdGUgVVVJRCBhZnRlciB0aW1lc3RhbXAgcmVzZXRcIik7cmV0dXJuIGl9cmV0dXJuIHR9Z2VuZXJhdGVPckFib3J0KCl7dmFyIHQ9RGF0ZS5ub3coKTtpZih0PnRoaXMuQSl0aGlzLkE9dCx0aGlzLkwoKTtlbHNle2lmKCEodCsxZTQ+dGhpcy5BKSlyZXR1cm47dGhpcy5EKyssdGhpcy5EPjQzOTgwNDY1MTExMDMmJih0aGlzLkErKyx0aGlzLkwoKSl9cmV0dXJuIGJlLmZyb21GaWVsZHNWNyh0aGlzLkEsTWF0aC50cnVuYyh0aGlzLkQvTWF0aC5wb3coMiwzMCkpLHRoaXMuRCZNYXRoLnBvdygyLDMwKS0xLHRoaXMuai5uZXh0VWludDMyKCkpfUwoKXt0aGlzLkQ9MTAyNCp0aGlzLmoubmV4dFVpbnQzMigpKygxMDIzJnRoaXMuai5uZXh0VWludDMyKCkpfX12YXIgeGUsU2U9dD0+e2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBVVUlEVjdfREVOWV9XRUFLX1JORyYmVVVJRFY3X0RFTllfV0VBS19STkcpdGhyb3cgbmV3IEVycm9yKFwibm8gY3J5cHRvZ3JhcGhpY2FsbHkgc3Ryb25nIFJORyBhdmFpbGFibGVcIik7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspdFtpXT02NTUzNipNYXRoLnRydW5jKDY1NTM2Kk1hdGgucmFuZG9tKCkpK01hdGgudHJ1bmMoNjU1MzYqTWF0aC5yYW5kb20oKSk7cmV0dXJuIHR9O3QmJiFNKHQuY3J5cHRvKSYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmKFNlPXQ9PmNyeXB0by5nZXRSYW5kb21WYWx1ZXModCkpO2NsYXNzIEVle2NvbnN0cnVjdG9yKCl7dGhpcy5OPW5ldyBVaW50MzJBcnJheSg4KSx0aGlzLlU9MS8wfW5leHRVaW50MzIoKXtyZXR1cm4gdGhpcy5VPj10aGlzLk4ubGVuZ3RoJiYoU2UodGhpcy5OKSx0aGlzLlU9MCksdGhpcy5OW3RoaXMuVSsrXX19dmFyICRlPSgpPT5rZSgpLnRvU3RyaW5nKCksa2U9KCk9Pih4ZXx8KHhlPW5ldyB3ZSkpLmdlbmVyYXRlKCksUGU9XCJcIjt2YXIgVGU9L1thLXowLTldW2EtejAtOS1dK1xcLlthLXpdezIsfSQvaTtmdW5jdGlvbiBJZSh0LGkpe2lmKGkpe3ZhciBlPWZ1bmN0aW9uKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9byksUGUpcmV0dXJuIFBlO2lmKCFpKXJldHVyblwiXCI7aWYoW1wibG9jYWxob3N0XCIsXCIxMjcuMC4wLjFcIl0uaW5jbHVkZXModCkpcmV0dXJuXCJcIjtmb3IodmFyIGU9dC5zcGxpdChcIi5cIikscj1NYXRoLm1pbihlLmxlbmd0aCw4KSxzPVwiZG1uX2Noa19cIiskZSgpOyFQZSYmci0tOyl7dmFyIG49ZS5zbGljZShyKS5qb2luKFwiLlwiKSxhPXMrXCI9MTtkb21haW49LlwiK24rXCI7cGF0aD0vXCI7aS5jb29raWU9YStcIjttYXgtYWdlPTNcIixpLmNvb2tpZS5pbmNsdWRlcyhzKSYmKGkuY29va2llPWErXCI7bWF4LWFnZT0wXCIsUGU9bil9cmV0dXJuIFBlfSh0KTtpZighZSl7dmFyIHI9KHQ9Pnt2YXIgaT10Lm1hdGNoKFRlKTtyZXR1cm4gaT9pWzBdOlwiXCJ9KSh0KTtyIT09ZSYmUHQuaW5mbyhcIldhcm5pbmc6IGNvb2tpZSBzdWJkb21haW4gZGlzY292ZXJ5IG1pc21hdGNoXCIscixlKSxlPXJ9cmV0dXJuIGU/XCI7IGRvbWFpbj0uXCIrZTpcIlwifXJldHVyblwiXCJ9dmFyIFJlPXtIOigpPT4hIW8sQjpmdW5jdGlvbih0KXtQdC5lcnJvcihcImNvb2tpZVN0b3JlIGVycm9yOiBcIit0KX0scTpmdW5jdGlvbih0KXtpZihvKXt0cnl7Zm9yKHZhciBpPXQrXCI9XCIsZT1vLmNvb2tpZS5zcGxpdChcIjtcIikuZmlsdGVyKCh0PT50Lmxlbmd0aCkpLHI9MDtyPGUubGVuZ3RoO3IrKyl7Zm9yKHZhciBzPWVbcl07XCIgXCI9PXMuY2hhckF0KDApOylzPXMuc3Vic3RyaW5nKDEscy5sZW5ndGgpO2lmKDA9PT1zLmluZGV4T2YoaSkpcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzLnN1YnN0cmluZyhpLmxlbmd0aCxzLmxlbmd0aCkpfX1jYXRjaCh0KXt9cmV0dXJuIG51bGx9fSxXOmZ1bmN0aW9uKHQpe3ZhciBpO3RyeXtpPUpTT04ucGFyc2UoUmUucSh0KSl8fHt9fWNhdGNoKHQpe31yZXR1cm4gaX0sRzpmdW5jdGlvbih0LGksZSxyLHMpe2lmKG8pdHJ5e3ZhciBuPVwiXCIsYT1cIlwiLGw9SWUoby5sb2NhdGlvbi5ob3N0bmFtZSxyKTtpZihlKXt2YXIgdT1uZXcgRGF0ZTt1LnNldFRpbWUodS5nZXRUaW1lKCkrMjQqZSo2MCo2MCoxZTMpLG49XCI7IGV4cGlyZXM9XCIrdS50b1VUQ1N0cmluZygpfXMmJihhPVwiOyBzZWN1cmVcIik7dmFyIGg9dCtcIj1cIitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoaSkpK24rXCI7IFNhbWVTaXRlPUxheDsgcGF0aD0vXCIrbCthO3JldHVybiBoLmxlbmd0aD4zNjg2LjQmJlB0Lndhcm4oXCJjb29raWVTdG9yZSB3YXJuaW5nOiBsYXJnZSBjb29raWUsIGxlbj1cIitoLmxlbmd0aCksby5jb29raWU9aCxofWNhdGNoKHQpe3JldHVybn19LFY6ZnVuY3Rpb24odCxpKXtpZihudWxsIT1vJiZvLmNvb2tpZSl0cnl7UmUuRyh0LFwiXCIsLTEsaSl9Y2F0Y2godCl7cmV0dXJufX19LEZlPW51bGwsQ2U9e0g6ZnVuY3Rpb24oKXtpZighRChGZSkpcmV0dXJuIEZlO3ZhciBpPSEwO2lmKE0odCkpaT0hMTtlbHNlIHRyeXt2YXIgZT1cIl9fbXBsc3N1cHBvcnRfX1wiO0NlLkcoZSxcInh5elwiKSwnXCJ4eXpcIichPT1DZS5xKGUpJiYoaT0hMSksQ2UuVihlKX1jYXRjaCh0KXtpPSExfXJldHVybiBpfHxQdC5lcnJvcihcImxvY2FsU3RvcmFnZSB1bnN1cHBvcnRlZDsgZmFsbGluZyBiYWNrIHRvIGNvb2tpZSBzdG9yZVwiKSxGZT1pLGl9LEI6ZnVuY3Rpb24odCl7UHQuZXJyb3IoXCJsb2NhbFN0b3JhZ2UgZXJyb3I6IFwiK3QpfSxxOmZ1bmN0aW9uKGkpe3RyeXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShpKX1jYXRjaCh0KXtDZS5CKHQpfXJldHVybiBudWxsfSxXOmZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShDZS5xKHQpKXx8e319Y2F0Y2godCl7fXJldHVybiBudWxsfSxHOmZ1bmN0aW9uKGksZSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnNldEl0ZW0oaSxKU09OLnN0cmluZ2lmeShlKSl9Y2F0Y2godCl7Q2UuQih0KX19LFY6ZnVuY3Rpb24oaSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaSl9Y2F0Y2godCl7Q2UuQih0KX19fSxNZT1bXCJkaXN0aW5jdF9pZFwiLHJpLHNpLHlpLG1pXSxPZT1nKHt9LENlLHtXOmZ1bmN0aW9uKHQpe3RyeXt2YXIgaT17fTt0cnl7aT1SZS5XKHQpfHx7fX1jYXRjaCh0KXt9dmFyIGU9T3QoaSxKU09OLnBhcnNlKENlLnEodCl8fFwie31cIikpO3JldHVybiBDZS5HKHQsZSksZX1jYXRjaCh0KXt9cmV0dXJuIG51bGx9LEc6ZnVuY3Rpb24odCxpLGUscixzLG4pe3RyeXtDZS5HKHQsaSx2b2lkIDAsdm9pZCAwLG4pO3ZhciBvPXt9O01lLmZvckVhY2goKHQ9PntpW3RdJiYob1t0XT1pW3RdKX0pKSxPYmplY3Qua2V5cyhvKS5sZW5ndGgmJlJlLkcodCxvLGUscixzLG4pfWNhdGNoKHQpe0NlLkIodCl9fSxWOmZ1bmN0aW9uKGksZSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaSksUmUuVihpLGUpfWNhdGNoKHQpe0NlLkIodCl9fX0pLEFlPXt9LERlPXtIOmZ1bmN0aW9uKCl7cmV0dXJuITB9LEI6ZnVuY3Rpb24odCl7UHQuZXJyb3IoXCJtZW1vcnlTdG9yYWdlIGVycm9yOiBcIit0KX0scTpmdW5jdGlvbih0KXtyZXR1cm4gQWVbdF18fG51bGx9LFc6ZnVuY3Rpb24odCl7cmV0dXJuIEFlW3RdfHxudWxsfSxHOmZ1bmN0aW9uKHQsaSl7QWVbdF09aX0sVjpmdW5jdGlvbih0KXtkZWxldGUgQWVbdF19fSxqZT1udWxsLExlPXtIOmZ1bmN0aW9uKCl7aWYoIUQoamUpKXJldHVybiBqZTtpZihqZT0hMCxNKHQpKWplPSExO2Vsc2UgdHJ5e3ZhciBpPVwiX19zdXBwb3J0X19cIjtMZS5HKGksXCJ4eXpcIiksJ1wieHl6XCInIT09TGUucShpKSYmKGplPSExKSxMZS5WKGkpfWNhdGNoKHQpe2plPSExfXJldHVybiBqZX0sQjpmdW5jdGlvbih0KXtQdC5lcnJvcihcInNlc3Npb25TdG9yYWdlIGVycm9yOiBcIix0KX0scTpmdW5jdGlvbihpKXt0cnl7cmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQuc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbShpKX1jYXRjaCh0KXtMZS5CKHQpfXJldHVybiBudWxsfSxXOmZ1bmN0aW9uKHQpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShMZS5xKHQpKXx8bnVsbH1jYXRjaCh0KXt9cmV0dXJuIG51bGx9LEc6ZnVuY3Rpb24oaSxlKXt0cnl7bnVsbD09dHx8dC5zZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGksSlNPTi5zdHJpbmdpZnkoZSkpfWNhdGNoKHQpe0xlLkIodCl9fSxWOmZ1bmN0aW9uKGkpe3RyeXtudWxsPT10fHx0LnNlc3Npb25TdG9yYWdlLnJlbW92ZUl0ZW0oaSl9Y2F0Y2godCl7TGUuQih0KX19fSxOZT1mdW5jdGlvbih0KXtyZXR1cm4gdFt0LlBFTkRJTkc9LTFdPVwiUEVORElOR1wiLHRbdC5ERU5JRUQ9MF09XCJERU5JRURcIix0W3QuR1JBTlRFRD0xXT1cIkdSQU5URURcIix0fSh7fSk7Y2xhc3MgVWV7Y29uc3RydWN0b3IodCl7dGhpcy5faW5zdGFuY2U9dH1nZXQgRigpe3JldHVybiB0aGlzLl9pbnN0YW5jZS5jb25maWd9Z2V0IGNvbnNlbnQoKXtyZXR1cm4gdGhpcy5KKCk/TmUuREVOSUVEOnRoaXMuS31pc09wdGVkT3V0KCl7cmV0dXJuXCJhbHdheXNcIj09PXRoaXMuRi5jb29raWVsZXNzX21vZGV8fCh0aGlzLmNvbnNlbnQ9PT1OZS5ERU5JRUR8fHRoaXMuY29uc2VudD09PU5lLlBFTkRJTkcmJih0aGlzLkYub3B0X291dF9jYXB0dXJpbmdfYnlfZGVmYXVsdHx8XCJvbl9yZWplY3RcIj09PXRoaXMuRi5jb29raWVsZXNzX21vZGUpKX1pc09wdGVkSW4oKXtyZXR1cm4hdGhpcy5pc09wdGVkT3V0KCl9aXNFeHBsaWNpdGx5T3B0ZWRPdXQoKXtyZXR1cm4gdGhpcy5jb25zZW50PT09TmUuREVOSUVEfW9wdEluT3V0KHQpe3RoaXMuWS5HKHRoaXMuWCx0PzE6MCx0aGlzLkYuY29va2llX2V4cGlyYXRpb24sdGhpcy5GLmNyb3NzX3N1YmRvbWFpbl9jb29raWUsdGhpcy5GLnNlY3VyZV9jb29raWUpfXJlc2V0KCl7dGhpcy5ZLlYodGhpcy5YLHRoaXMuRi5jcm9zc19zdWJkb21haW5fY29va2llKX1nZXQgWCgpe3Zhcnt0b2tlbjp0LG9wdF9vdXRfY2FwdHVyaW5nX2Nvb2tpZV9wcmVmaXg6aSxjb25zZW50X3BlcnNpc3RlbmNlX25hbWU6ZX09dGhpcy5faW5zdGFuY2UuY29uZmlnO3JldHVybiBlfHwoaT9pK3Q6XCJfX3BoX29wdF9pbl9vdXRfXCIrdCl9Z2V0IEsoKXt2YXIgdD10aGlzLlkucSh0aGlzLlgpO3JldHVybiBHKHQpP05lLkdSQU5URUQ6dyhWLHQpP05lLkRFTklFRDpOZS5QRU5ESU5HfWdldCBZKCl7aWYoIXRoaXMuWil7dmFyIHQ9dGhpcy5GLm9wdF9vdXRfY2FwdHVyaW5nX3BlcnNpc3RlbmNlX3R5cGU7dGhpcy5aPVwibG9jYWxTdG9yYWdlXCI9PT10P0NlOlJlO3ZhciBpPVwibG9jYWxTdG9yYWdlXCI9PT10P1JlOkNlO2kucSh0aGlzLlgpJiYodGhpcy5aLnEodGhpcy5YKXx8dGhpcy5vcHRJbk91dChHKGkucSh0aGlzLlgpKSksaS5WKHRoaXMuWCx0aGlzLkYuY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZSkpfXJldHVybiB0aGlzLlp9Sigpe3JldHVybiEhdGhpcy5GLnJlc3BlY3RfZG50JiYhIUJ0KFtudWxsPT1uP3ZvaWQgMDpuLmRvTm90VHJhY2ssbnVsbD09bj92b2lkIDA6bi5tc0RvTm90VHJhY2ssdi5kb05vdFRyYWNrXSwodD0+Ryh0KSkpfX12YXIgemU9VHQoXCJbRGVhZCBDbGlja3NdXCIpLEhlPSgpPT4hMCxCZT10PT57dmFyIGksZT0hKG51bGw9PShpPXQuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHwhaS5nZXRfcHJvcGVydHkodGkpKSxyPXQuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZGVhZF9jbGlja3M7cmV0dXJuIE4ocik/cjplfTtjbGFzcyBxZXtnZXQgbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZSgpe3JldHVybiB0aGlzLnR0fWNvbnN0cnVjdG9yKHQsaSxlKXt0aGlzLmluc3RhbmNlPXQsdGhpcy5pc0VuYWJsZWQ9aSx0aGlzLm9uQ2FwdHVyZT1lLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1vblJlbW90ZUNvbmZpZyh0KXt0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbdGldOm51bGw9PXQ/dm9pZCAwOnQuY2FwdHVyZURlYWRDbGlja3N9KSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCh0aGlzKSYmdGhpcy5pdCgoKCk9Pnt0aGlzLmV0KCl9KSl9aXQodCl7dmFyIGksZTtudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmkuaW5pdERlYWRDbGlja3NBdXRvY2FwdHVyZSYmdCgpLG51bGw9PShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxlLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5pbnN0YW5jZSxcImRlYWQtY2xpY2tzLWF1dG9jYXB0dXJlXCIsKGk9PntpP3plLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsaSk6dCgpfSkpfWV0KCl7dmFyIHQ7aWYobyl7aWYoIXRoaXMudHQmJm51bGwhPSh0PXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmdC5pbml0RGVhZENsaWNrc0F1dG9jYXB0dXJlKXt2YXIgaT1GKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZGVhZF9jbGlja3MpP3RoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZGVhZF9jbGlja3M6e307aS5fX29uQ2FwdHVyZT10aGlzLm9uQ2FwdHVyZSx0aGlzLnR0PXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmluaXREZWFkQ2xpY2tzQXV0b2NhcHR1cmUodGhpcy5pbnN0YW5jZSxpKSx0aGlzLnR0LnN0YXJ0KG8pLHplLmluZm8oXCJzdGFydGluZy4uLlwiKX19ZWxzZSB6ZS5lcnJvcihcImBkb2N1bWVudGAgbm90IGZvdW5kLiBDYW5ub3Qgc3RhcnQuXCIpfXN0b3AoKXt0aGlzLnR0JiYodGhpcy50dC5zdG9wKCksdGhpcy50dD12b2lkIDAsemUuaW5mbyhcInN0b3BwaW5nLi4uXCIpKX19dmFyIFdlPVR0KFwiW0V4Y2VwdGlvbkF1dG9jYXB0dXJlXVwiKTtjbGFzcyBHZXtjb25zdHJ1Y3RvcihpKXt2YXIgZSxyLHM7dGhpcy5ydD0oKT0+e3ZhciBpO2lmKHQmJnRoaXMuaXNFbmFibGVkJiZudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmkuZXJyb3JXcmFwcGluZ0Z1bmN0aW9ucyl7dmFyIGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18uZXJyb3JXcmFwcGluZ0Z1bmN0aW9ucy53cmFwT25FcnJvcixyPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMud3JhcFVuaGFuZGxlZFJlamVjdGlvbixzPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fLmVycm9yV3JhcHBpbmdGdW5jdGlvbnMud3JhcENvbnNvbGVFcnJvcjt0cnl7IXRoaXMuc3QmJnRoaXMuRi5jYXB0dXJlX3VuaGFuZGxlZF9lcnJvcnMmJih0aGlzLnN0PWUodGhpcy5jYXB0dXJlRXhjZXB0aW9uLmJpbmQodGhpcykpKSwhdGhpcy5udCYmdGhpcy5GLmNhcHR1cmVfdW5oYW5kbGVkX3JlamVjdGlvbnMmJih0aGlzLm50PXIodGhpcy5jYXB0dXJlRXhjZXB0aW9uLmJpbmQodGhpcykpKSwhdGhpcy5vdCYmdGhpcy5GLmNhcHR1cmVfY29uc29sZV9lcnJvcnMmJih0aGlzLm90PXModGhpcy5jYXB0dXJlRXhjZXB0aW9uLmJpbmQodGhpcykpKX1jYXRjaCh0KXtXZS5lcnJvcihcImZhaWxlZCB0byBzdGFydFwiLHQpLHRoaXMubHQoKX19fSx0aGlzLl9pbnN0YW5jZT1pLHRoaXMudXQ9IShudWxsPT0oZT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fCFlLnByb3BzW1l0XSksdGhpcy5GPXRoaXMuaHQoKSx0aGlzLmR0PW5ldyBLKHtyZWZpbGxSYXRlOm51bGwhPT0ocj10aGlzLl9pbnN0YW5jZS5jb25maWcuZXJyb3JfdHJhY2tpbmcuX19leGNlcHRpb25SYXRlTGltaXRlclJlZmlsbFJhdGUpJiZ2b2lkIDAhPT1yP3I6MSxidWNrZXRTaXplOm51bGwhPT0ocz10aGlzLl9pbnN0YW5jZS5jb25maWcuZXJyb3JfdHJhY2tpbmcuX19leGNlcHRpb25SYXRlTGltaXRlckJ1Y2tldFNpemUpJiZ2b2lkIDAhPT1zP3M6MTAscmVmaWxsSW50ZXJ2YWw6MWU0LGg6V2V9KSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9aHQoKXt2YXIgdD10aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9leGNlcHRpb25zLGk9e2NhcHR1cmVfdW5oYW5kbGVkX2Vycm9yczohMSxjYXB0dXJlX3VuaGFuZGxlZF9yZWplY3Rpb25zOiExLGNhcHR1cmVfY29uc29sZV9lcnJvcnM6ITF9O3JldHVybiBGKHQpP2k9Zyh7fSxpLHQpOihNKHQpP3RoaXMudXQ6dCkmJihpPWcoe30saSx7Y2FwdHVyZV91bmhhbmRsZWRfZXJyb3JzOiEwLGNhcHR1cmVfdW5oYW5kbGVkX3JlamVjdGlvbnM6ITB9KSksaX1nZXQgaXNFbmFibGVkKCl7cmV0dXJuIHRoaXMuRi5jYXB0dXJlX2NvbnNvbGVfZXJyb3JzfHx0aGlzLkYuY2FwdHVyZV91bmhhbmRsZWRfZXJyb3JzfHx0aGlzLkYuY2FwdHVyZV91bmhhbmRsZWRfcmVqZWN0aW9uc31zdGFydElmRW5hYmxlZCgpe3RoaXMuaXNFbmFibGVkJiYoV2UuaW5mbyhcImVuYWJsZWRcIiksdGhpcy5pdCh0aGlzLnJ0KSl9aXQodCl7dmFyIGksZTtudWxsIT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmkuZXJyb3JXcmFwcGluZ0Z1bmN0aW9ucyYmdCgpLG51bGw9PShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxlLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5faW5zdGFuY2UsXCJleGNlcHRpb24tYXV0b2NhcHR1cmVcIiwoaT0+e2lmKGkpcmV0dXJuIFdlLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsaSk7dCgpfSkpfWx0KCl7dmFyIHQsaSxlO251bGw9PSh0PXRoaXMuc3QpfHx0LmNhbGwodGhpcyksdGhpcy5zdD12b2lkIDAsbnVsbD09KGk9dGhpcy5udCl8fGkuY2FsbCh0aGlzKSx0aGlzLm50PXZvaWQgMCxudWxsPT0oZT10aGlzLm90KXx8ZS5jYWxsKHRoaXMpLHRoaXMub3Q9dm9pZCAwfW9uUmVtb3RlQ29uZmlnKHQpe3ZhciBpPXQuYXV0b2NhcHR1cmVFeGNlcHRpb25zO3RoaXMudXQ9ISFpfHwhMSx0aGlzLkY9dGhpcy5odCgpLHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W1l0XTp0aGlzLnV0fSksdGhpcy5zdGFydElmRW5hYmxlZCgpfWNhcHR1cmVFeGNlcHRpb24odCl7dmFyIGksZSxyPW51bGwhPT0oaT1udWxsPT10fHxudWxsPT0oZT10LiRleGNlcHRpb25fbGlzdCl8fG51bGw9PShlPWVbMF0pP3ZvaWQgMDplLnR5cGUpJiZ2b2lkIDAhPT1pP2k6XCJFeGNlcHRpb25cIjt0aGlzLmR0LmNvbnN1bWVSYXRlTGltaXQocik/V2UuaW5mbyhcIlNraXBwaW5nIGV4Y2VwdGlvbiBjYXB0dXJlIGJlY2F1c2Ugb2YgY2xpZW50IHJhdGUgbGltaXRpbmcuXCIse2V4Y2VwdGlvbjpyfSk6dGhpcy5faW5zdGFuY2UuZXhjZXB0aW9ucy5zZW5kRXhjZXB0aW9uRXZlbnQodCl9fWZ1bmN0aW9uIFZlKHQsaSxlKXt0cnl7aWYoIShpIGluIHQpKXJldHVybigpPT57fTt2YXIgcj10W2ldLHM9ZShyKTtyZXR1cm4gUihzKSYmKHMucHJvdG90eXBlPXMucHJvdG90eXBlfHx7fSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhzLHtfX3Bvc3Rob2dfd3JhcHBlZF9fOntlbnVtZXJhYmxlOiExLHZhbHVlOiEwfX0pKSx0W2ldPXMsKCk9Pnt0W2ldPXJ9fWNhdGNoKHQpe3JldHVybigpPT57fX19Y2xhc3MgSmV7Y29uc3RydWN0b3IoaSl7dmFyIGU7dGhpcy5faW5zdGFuY2U9aSx0aGlzLnZ0PShudWxsPT10fHxudWxsPT0oZT10LmxvY2F0aW9uKT92b2lkIDA6ZS5wYXRobmFtZSl8fFwiXCJ9Z2V0IGlzRW5hYmxlZCgpe3JldHVyblwiaGlzdG9yeV9jaGFuZ2VcIj09PXRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3fXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQmJihQdC5pbmZvKFwiSGlzdG9yeSBBUEkgbW9uaXRvcmluZyBlbmFibGVkLCBzdGFydGluZy4uLlwiKSx0aGlzLm1vbml0b3JIaXN0b3J5Q2hhbmdlcygpKX1zdG9wKCl7dGhpcy5jdCYmdGhpcy5jdCgpLHRoaXMuY3Q9dm9pZCAwLFB0LmluZm8oXCJIaXN0b3J5IEFQSSBtb25pdG9yaW5nIHN0b3BwZWRcIil9bW9uaXRvckhpc3RvcnlDaGFuZ2VzKCl7dmFyIGksZTtpZih0JiZ0Lmhpc3Rvcnkpe3ZhciByPXRoaXM7bnVsbCE9KGk9dC5oaXN0b3J5LnB1c2hTdGF0ZSkmJmkuX19wb3N0aG9nX3dyYXBwZWRfX3x8VmUodC5oaXN0b3J5LFwicHVzaFN0YXRlXCIsKHQ9PmZ1bmN0aW9uKGksZSxzKXt0LmNhbGwodGhpcyxpLGUscyksci5mdChcInB1c2hTdGF0ZVwiKX0pKSxudWxsIT0oZT10Lmhpc3RvcnkucmVwbGFjZVN0YXRlKSYmZS5fX3Bvc3Rob2dfd3JhcHBlZF9ffHxWZSh0Lmhpc3RvcnksXCJyZXBsYWNlU3RhdGVcIiwodD0+ZnVuY3Rpb24oaSxlLHMpe3QuY2FsbCh0aGlzLGksZSxzKSxyLmZ0KFwicmVwbGFjZVN0YXRlXCIpfSkpLHRoaXMuZ3QoKX19ZnQoaSl7dHJ5e3ZhciBlLHI9bnVsbD09dHx8bnVsbD09KGU9dC5sb2NhdGlvbik/dm9pZCAwOmUucGF0aG5hbWU7aWYoIXIpcmV0dXJuO3IhPT10aGlzLnZ0JiZ0aGlzLmlzRW5hYmxlZCYmdGhpcy5faW5zdGFuY2UuY2FwdHVyZShcIiRwYWdldmlld1wiLHtuYXZpZ2F0aW9uX3R5cGU6aX0pLHRoaXMudnQ9cn1jYXRjaCh0KXtQdC5lcnJvcihcIkVycm9yIGNhcHR1cmluZyBcIitpK1wiIHBhZ2V2aWV3XCIsdCl9fWd0KCl7aWYoIXRoaXMuY3Qpe3ZhciBpPSgpPT57dGhpcy5mdChcInBvcHN0YXRlXCIpfTtxdCh0LFwicG9wc3RhdGVcIixpKSx0aGlzLmN0PSgpPT57dCYmdC5yZW1vdmVFdmVudExpc3RlbmVyKFwicG9wc3RhdGVcIixpKX19fX12YXIgS2U9VHQoXCJbU2VnbWVudEludGVncmF0aW9uXVwiKTtmdW5jdGlvbiBZZSh0LGkpe3ZhciBlPXQuY29uZmlnLnNlZ21lbnQ7aWYoIWUpcmV0dXJuIGkoKTshZnVuY3Rpb24odCxpKXt2YXIgZT10LmNvbmZpZy5zZWdtZW50O2lmKCFlKXJldHVybiBpKCk7dmFyIHI9ZT0+e3ZhciByPSgpPT5lLmFub255bW91c0lkKCl8fCRlKCk7dC5jb25maWcuZ2V0X2RldmljZV9pZD1yLGUuaWQoKSYmKHQucmVnaXN0ZXIoe2Rpc3RpbmN0X2lkOmUuaWQoKSwkZGV2aWNlX2lkOnIoKX0pLHQucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KGNpLFwiaWRlbnRpZmllZFwiKSksaSgpfSxzPWUudXNlcigpO1widGhlblwiaW4gcyYmUihzLnRoZW4pP3MudGhlbigodD0+cih0KSkpOnIocyl9KHQsKCgpPT57ZS5yZWdpc3RlcigodD0+e1Byb21pc2UmJlByb21pc2UucmVzb2x2ZXx8S2Uud2FybihcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBoYXZlIFByb21pc2Ugc3VwcG9ydCwgYW5kIGNhbiBub3QgdXNlIHRoZSBzZWdtZW50IGludGVncmF0aW9uXCIpO3ZhciBpPShpLGUpPT57aWYoIWUpcmV0dXJuIGk7aS5ldmVudC51c2VySWR8fGkuZXZlbnQuYW5vbnltb3VzSWQ9PT10LmdldF9kaXN0aW5jdF9pZCgpfHwoS2UuaW5mbyhcIk5vIHVzZXJJZCBzZXQsIHJlc2V0dGluZyBQb3N0SG9nXCIpLHQucmVzZXQoKSksaS5ldmVudC51c2VySWQmJmkuZXZlbnQudXNlcklkIT09dC5nZXRfZGlzdGluY3RfaWQoKSYmKEtlLmluZm8oXCJVc2VySWQgc2V0LCBpZGVudGlmeWluZyB3aXRoIFBvc3RIb2dcIiksdC5pZGVudGlmeShpLmV2ZW50LnVzZXJJZCkpO3ZhciByPXQuY2FsY3VsYXRlRXZlbnRQcm9wZXJ0aWVzKGUsaS5ldmVudC5wcm9wZXJ0aWVzKTtyZXR1cm4gaS5ldmVudC5wcm9wZXJ0aWVzPU9iamVjdC5hc3NpZ24oe30scixpLmV2ZW50LnByb3BlcnRpZXMpLGl9O3JldHVybntuYW1lOlwiUG9zdEhvZyBKU1wiLHR5cGU6XCJlbnJpY2htZW50XCIsdmVyc2lvbjpcIjEuMC4wXCIsaXNMb2FkZWQ6KCk9PiEwLGxvYWQ6KCk9PlByb21pc2UucmVzb2x2ZSgpLHRyYWNrOnQ9PmkodCx0LmV2ZW50LmV2ZW50KSxwYWdlOnQ9PmkodCxcIiRwYWdldmlld1wiKSxpZGVudGlmeTp0PT5pKHQsXCIkaWRlbnRpZnlcIiksc2NyZWVuOnQ9PmkodCxcIiRzY3JlZW5cIil9fSkodCkpLnRoZW4oKCgpPT57aSgpfSkpfSkpfXZhciBYZT1cInBvc3Rob2ctanNcIjtmdW5jdGlvbiBRZSh0LGkpe3Zhcntvcmdhbml6YXRpb246ZSxwcm9qZWN0SWQ6cixwcmVmaXg6cyxzZXZlcml0eUFsbG93TGlzdDpuPVtcImVycm9yXCJdLHNlbmRFeGNlcHRpb25zVG9Qb3N0SG9nOm89ITB9PXZvaWQgMD09PWk/e306aTtyZXR1cm4gaT0+e3ZhciBhLGwsdSxoLGQ7aWYoIShcIipcIj09PW58fG4uaW5jbHVkZXMoaS5sZXZlbCkpfHwhdC5fX2xvYWRlZClyZXR1cm4gaTtpLnRhZ3N8fChpLnRhZ3M9e30pO3ZhciB2PXQucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIsXCIvcHJvamVjdC9cIit0LmNvbmZpZy50b2tlbitcIi9wZXJzb24vXCIrdC5nZXRfZGlzdGluY3RfaWQoKSk7aS50YWdzW1wiUG9zdEhvZyBQZXJzb24gVVJMXCJdPXYsdC5zZXNzaW9uUmVjb3JkaW5nU3RhcnRlZCgpJiYoaS50YWdzW1wiUG9zdEhvZyBSZWNvcmRpbmcgVVJMXCJdPXQuZ2V0X3Nlc3Npb25fcmVwbGF5X3VybCh7d2l0aFRpbWVzdGFtcDohMH0pKTt2YXIgYz0obnVsbD09KGE9aS5leGNlcHRpb24pP3ZvaWQgMDphLnZhbHVlcyl8fFtdLGY9Yy5tYXAoKHQ9Pmcoe30sdCx7c3RhY2t0cmFjZTp0LnN0YWNrdHJhY2U/Zyh7fSx0LnN0YWNrdHJhY2Use3R5cGU6XCJyYXdcIixmcmFtZXM6KHQuc3RhY2t0cmFjZS5mcmFtZXN8fFtdKS5tYXAoKHQ9Pmcoe30sdCx7cGxhdGZvcm06XCJ3ZWI6amF2YXNjcmlwdFwifSkpKX0pOnZvaWQgMH0pKSkscD17JGV4Y2VwdGlvbl9tZXNzYWdlOihudWxsPT0obD1jWzBdKT92b2lkIDA6bC52YWx1ZSl8fGkubWVzc2FnZSwkZXhjZXB0aW9uX3R5cGU6bnVsbD09KHU9Y1swXSk/dm9pZCAwOnUudHlwZSwkZXhjZXB0aW9uX2xldmVsOmkubGV2ZWwsJGV4Y2VwdGlvbl9saXN0OmYsJHNlbnRyeV9ldmVudF9pZDppLmV2ZW50X2lkLCRzZW50cnlfZXhjZXB0aW9uOmkuZXhjZXB0aW9uLCRzZW50cnlfZXhjZXB0aW9uX21lc3NhZ2U6KG51bGw9PShoPWNbMF0pP3ZvaWQgMDpoLnZhbHVlKXx8aS5tZXNzYWdlLCRzZW50cnlfZXhjZXB0aW9uX3R5cGU6bnVsbD09KGQ9Y1swXSk/dm9pZCAwOmQudHlwZSwkc2VudHJ5X3RhZ3M6aS50YWdzfTtyZXR1cm4gZSYmciYmKHAuJHNlbnRyeV91cmw9KHN8fFwiaHR0cHM6Ly9zZW50cnkuaW8vb3JnYW5pemF0aW9ucy9cIikrZStcIi9pc3N1ZXMvP3Byb2plY3Q9XCIrcitcIiZxdWVyeT1cIitpLmV2ZW50X2lkKSxvJiZ0LmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KHApLGl9fWNsYXNzIFple2NvbnN0cnVjdG9yKHQsaSxlLHIscyxuKXt0aGlzLm5hbWU9WGUsdGhpcy5zZXR1cE9uY2U9ZnVuY3Rpb24obyl7byhRZSh0LHtvcmdhbml6YXRpb246aSxwcm9qZWN0SWQ6ZSxwcmVmaXg6cixzZXZlcml0eUFsbG93TGlzdDpzLHNlbmRFeGNlcHRpb25zVG9Qb3N0SG9nOm51bGw9PW58fG59KSl9fX12YXIgdHI9bnVsbCE9dCYmdC5sb2NhdGlvbj92ZSh0LmxvY2F0aW9uLmhhc2gsXCJfX3Bvc3Rob2dcIil8fHZlKGxvY2F0aW9uLmhhc2gsXCJzdGF0ZVwiKTpudWxsLGlyPVwiX3Bvc3RIb2dUb29sYmFyUGFyYW1zXCIsZXI9VHQoXCJbVG9vbGJhcl1cIikscnI9ZnVuY3Rpb24odCl7cmV0dXJuIHRbdC5VTklOSVRJQUxJWkVEPTBdPVwiVU5JTklUSUFMSVpFRFwiLHRbdC5MT0FESU5HPTFdPVwiTE9BRElOR1wiLHRbdC5MT0FERUQ9Ml09XCJMT0FERURcIix0fShycnx8e30pO2NsYXNzIHNye2NvbnN0cnVjdG9yKHQpe3RoaXMuaW5zdGFuY2U9dH1fdCh0KXt2LnBoX3Rvb2xiYXJfc3RhdGU9dH15dCgpe3ZhciB0O3JldHVybiBudWxsIT09KHQ9di5waF90b29sYmFyX3N0YXRlKSYmdm9pZCAwIT09dD90OnJyLlVOSU5JVElBTElaRUR9bWF5YmVMb2FkVG9vbGJhcihpLGUscil7aWYodm9pZCAwPT09aSYmKGk9dm9pZCAwKSx2b2lkIDA9PT1lJiYoZT12b2lkIDApLHZvaWQgMD09PXImJihyPXZvaWQgMCksIXR8fCFvKXJldHVybiExO2k9bnVsbCE9aT9pOnQubG9jYXRpb24scj1udWxsIT1yP3I6dC5oaXN0b3J5O3RyeXtpZighZSl7dHJ5e3QubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0ZXN0XCIsXCJ0ZXN0XCIpLHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJ0ZXN0XCIpfWNhdGNoKHQpe3JldHVybiExfWU9bnVsbD09dD92b2lkIDA6dC5sb2NhbFN0b3JhZ2V9dmFyIHMsbj10cnx8dmUoaS5oYXNoLFwiX19wb3N0aG9nXCIpfHx2ZShpLmhhc2gsXCJzdGF0ZVwiKSxhPW4/anQoKCgpPT5KU09OLnBhcnNlKGF0b2IoZGVjb2RlVVJJQ29tcG9uZW50KG4pKSkpKXx8anQoKCgpPT5KU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChuKSkpKTpudWxsO3JldHVybiBhJiZcInBoX2F1dGhvcml6ZVwiPT09YS5hY3Rpb24/KChzPWEpLnNvdXJjZT1cInVybFwiLHMmJk9iamVjdC5rZXlzKHMpLmxlbmd0aD4wJiYoYS5kZXNpcmVkSGFzaD9pLmhhc2g9YS5kZXNpcmVkSGFzaDpyP3IucmVwbGFjZVN0YXRlKHIuc3RhdGUsXCJcIixpLnBhdGhuYW1lK2kuc2VhcmNoKTppLmhhc2g9XCJcIikpOigocz1KU09OLnBhcnNlKGUuZ2V0SXRlbShpcil8fFwie31cIikpLnNvdXJjZT1cImxvY2Fsc3RvcmFnZVwiLGRlbGV0ZSBzLnVzZXJJbnRlbnQpLCEoIXMudG9rZW58fHRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VuIT09cy50b2tlbikmJih0aGlzLmxvYWRUb29sYmFyKHMpLCEwKX1jYXRjaCh0KXtyZXR1cm4hMX19YnQodCl7dmFyIGk9di5waF9sb2FkX3Rvb2xiYXJ8fHYucGhfbG9hZF9lZGl0b3I7IWooaSkmJlIoaSk/aSh0LHRoaXMuaW5zdGFuY2UpOmVyLndhcm4oXCJObyB0b29sYmFyIGxvYWQgZnVuY3Rpb24gZm91bmRcIil9bG9hZFRvb2xiYXIoaSl7dmFyIGU9IShudWxsPT1vfHwhby5nZXRFbGVtZW50QnlJZChiaSkpO2lmKCF0fHxlKXJldHVybiExO3ZhciByPVwiY3VzdG9tXCI9PT10aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIucmVnaW9uJiZ0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX3Rvb2xiYXJfbWV0cmljcyxzPWcoe3Rva2VuOnRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VufSxpLHthcGlVUkw6dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwidWlcIil9LHI/e2luc3RydW1lbnQ6ITF9Ont9KTtpZih0LmxvY2FsU3RvcmFnZS5zZXRJdGVtKGlyLEpTT04uc3RyaW5naWZ5KGcoe30scyx7c291cmNlOnZvaWQgMH0pKSksdGhpcy55dCgpPT09cnIuTE9BREVEKXRoaXMuYnQocyk7ZWxzZSBpZih0aGlzLnl0KCk9PT1yci5VTklOSVRJQUxJWkVEKXt2YXIgbjt0aGlzLl90KHJyLkxPQURJTkcpLG51bGw9PShuPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09bi5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxuLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5pbnN0YW5jZSxcInRvb2xiYXJcIiwodD0+e2lmKHQpcmV0dXJuIGVyLmVycm9yKFwiW1Rvb2xiYXJdIEZhaWxlZCB0byBsb2FkXCIsdCksdm9pZCB0aGlzLl90KHJyLlVOSU5JVElBTElaRUQpO3RoaXMuX3QocnIuTE9BREVEKSx0aGlzLmJ0KHMpfSkpLHF0KHQsXCJ0dXJib2xpbmtzOmxvYWRcIiwoKCk9Pnt0aGlzLl90KHJyLlVOSU5JVElBTElaRUQpLHRoaXMubG9hZFRvb2xiYXIocyl9KSl9cmV0dXJuITB9d3QodCl7cmV0dXJuIHRoaXMubG9hZFRvb2xiYXIodCl9bWF5YmVMb2FkRWRpdG9yKHQsaSxlKXtyZXR1cm4gdm9pZCAwPT09dCYmKHQ9dm9pZCAwKSx2b2lkIDA9PT1pJiYoaT12b2lkIDApLHZvaWQgMD09PWUmJihlPXZvaWQgMCksdGhpcy5tYXliZUxvYWRUb29sYmFyKHQsaSxlKX19dmFyIG5yPVR0KFwiW1RyYWNpbmdIZWFkZXJzXVwiKTtjbGFzcyBvcntjb25zdHJ1Y3Rvcih0KXt0aGlzLnh0PXZvaWQgMCx0aGlzLlN0PXZvaWQgMCx0aGlzLnJ0PSgpPT57dmFyIHQsaTtNKHRoaXMueHQpJiYobnVsbD09KHQ9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT0odD10LnRyYWNpbmdIZWFkZXJzUGF0Y2hGbnMpfHx0Ll9wYXRjaFhIUih0aGlzLl9pbnN0YW5jZS5jb25maWcuX19hZGRfdHJhY2luZ19oZWFkZXJzfHxbXSx0aGlzLl9pbnN0YW5jZS5nZXRfZGlzdGluY3RfaWQoKSx0aGlzLl9pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcikpO00odGhpcy5TdCkmJihudWxsPT0oaT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PShpPWkudHJhY2luZ0hlYWRlcnNQYXRjaEZucyl8fGkuX3BhdGNoRmV0Y2godGhpcy5faW5zdGFuY2UuY29uZmlnLl9fYWRkX3RyYWNpbmdfaGVhZGVyc3x8W10sdGhpcy5faW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksdGhpcy5faW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpKX0sdGhpcy5faW5zdGFuY2U9dH1pdCh0KXt2YXIgaSxlO251bGwhPShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmaS50cmFjaW5nSGVhZGVyc1BhdGNoRm5zJiZ0KCksbnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGUubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSxcInRyYWNpbmctaGVhZGVyc1wiLChpPT57aWYoaSlyZXR1cm4gbnIuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIixpKTt0KCl9KSl9c3RhcnRJZkVuYWJsZWRPclN0b3AoKXt2YXIgdCxpO3RoaXMuX2luc3RhbmNlLmNvbmZpZy5fX2FkZF90cmFjaW5nX2hlYWRlcnM/dGhpcy5pdCh0aGlzLnJ0KToobnVsbD09KHQ9dGhpcy54dCl8fHQuY2FsbCh0aGlzKSxudWxsPT0oaT10aGlzLlN0KXx8aS5jYWxsKHRoaXMpLHRoaXMueHQ9dm9pZCAwLHRoaXMuU3Q9dm9pZCAwKX19dmFyIGFyPVwiTW9iaWxlXCIsbHI9XCJpT1NcIix1cj1cIkFuZHJvaWRcIixocj1cIlRhYmxldFwiLGRyPXVyK1wiIFwiK2hyLHZyPVwiaVBhZFwiLGNyPVwiQXBwbGVcIixmcj1jcitcIiBXYXRjaFwiLHByPVwiU2FmYXJpXCIsZ3I9XCJCbGFja0JlcnJ5XCIsX3I9XCJTYW1zdW5nXCIsbXI9X3IrXCJCcm93c2VyXCIseXI9X3IrXCIgSW50ZXJuZXRcIixicj1cIkNocm9tZVwiLHdyPWJyK1wiIE9TXCIseHI9YnIrXCIgXCIrbHIsU3I9XCJJbnRlcm5ldCBFeHBsb3JlclwiLEVyPVNyK1wiIFwiK2FyLCRyPVwiT3BlcmFcIixrcj0kcitcIiBNaW5pXCIsUHI9XCJFZGdlXCIsVHI9XCJNaWNyb3NvZnQgXCIrUHIsSXI9XCJGaXJlZm94XCIsUnI9SXIrXCIgXCIrbHIsRnI9XCJOaW50ZW5kb1wiLENyPVwiUGxheVN0YXRpb25cIixNcj1cIlhib3hcIixPcj11citcIiBcIithcixBcj1hcitcIiBcIitwcixEcj1cIldpbmRvd3NcIixqcj1EcitcIiBQaG9uZVwiLExyPVwiTm9raWFcIixOcj1cIk91eWFcIixVcj1cIkdlbmVyaWNcIix6cj1VcitcIiBcIithci50b0xvd2VyQ2FzZSgpLEhyPVVyK1wiIFwiK2hyLnRvTG93ZXJDYXNlKCksQnI9XCJLb25xdWVyb3JcIixxcj1cIihcXFxcZCsoXFxcXC5cXFxcZCspPylcIixXcj1uZXcgUmVnRXhwKFwiVmVyc2lvbi9cIitxciksR3I9bmV3IFJlZ0V4cChNcixcImlcIiksVnI9bmV3IFJlZ0V4cChDcitcIiBcXFxcdytcIixcImlcIiksSnI9bmV3IFJlZ0V4cChGcitcIiBcXFxcdytcIixcImlcIiksS3I9bmV3IFJlZ0V4cChncitcInxQbGF5Qm9va3xCQjEwXCIsXCJpXCIpLFlyPXtcIk5UMy41MVwiOlwiTlQgMy4xMVwiLFwiTlQ0LjBcIjpcIk5UIDQuMFwiLFwiNS4wXCI6XCIyMDAwXCIsNS4xOlwiWFBcIiw1LjI6XCJYUFwiLFwiNi4wXCI6XCJWaXN0YVwiLDYuMTpcIjdcIiw2LjI6XCI4XCIsNi4zOlwiOC4xXCIsNi40OlwiMTBcIixcIjEwLjBcIjpcIjEwXCJ9O3ZhciBYcj0odCxpKT0+aSYmdyhpLGNyKXx8ZnVuY3Rpb24odCl7cmV0dXJuIHcodCxwcikmJiF3KHQsYnIpJiYhdyh0LHVyKX0odCksUXI9ZnVuY3Rpb24odCxpKXtyZXR1cm4gaT1pfHxcIlwiLHcodCxcIiBPUFIvXCIpJiZ3KHQsXCJNaW5pXCIpP2tyOncodCxcIiBPUFIvXCIpPyRyOktyLnRlc3QodCk/Z3I6dyh0LFwiSUVcIithcil8fHcodCxcIldQRGVza3RvcFwiKT9Fcjp3KHQsbXIpP3lyOncodCxQcil8fHcodCxcIkVkZy9cIik/VHI6dyh0LFwiRkJJT1NcIik/XCJGYWNlYm9vayBcIithcjp3KHQsXCJVQ1dFQlwiKXx8dyh0LFwiVUNCcm93c2VyXCIpP1wiVUMgQnJvd3NlclwiOncodCxcIkNyaU9TXCIpP3hyOncodCxcIkNyTW9cIil8fHcodCxicik/YnI6dyh0LHVyKSYmdyh0LHByKT9Pcjp3KHQsXCJGeGlPU1wiKT9Scjp3KHQudG9Mb3dlckNhc2UoKSxCci50b0xvd2VyQ2FzZSgpKT9CcjpYcih0LGkpP3codCxhcik/QXI6cHI6dyh0LElyKT9Jcjp3KHQsXCJNU0lFXCIpfHx3KHQsXCJUcmlkZW50L1wiKT9Tcjp3KHQsXCJHZWNrb1wiKT9JcjpcIlwifSxacj17W0VyXTpbbmV3IFJlZ0V4cChcInJ2OlwiK3FyKV0sW1RyXTpbbmV3IFJlZ0V4cChQcitcIj9cXFxcL1wiK3FyKV0sW2JyXTpbbmV3IFJlZ0V4cChcIihcIiticitcInxDck1vKVxcXFwvXCIrcXIpXSxbeHJdOltuZXcgUmVnRXhwKFwiQ3JpT1NcXFxcL1wiK3FyKV0sXCJVQyBCcm93c2VyXCI6W25ldyBSZWdFeHAoXCIoVUNCcm93c2VyfFVDV0VCKVxcXFwvXCIrcXIpXSxbcHJdOltXcl0sW0FyXTpbV3JdLFskcl06W25ldyBSZWdFeHAoXCIoT3BlcmF8T1BSKVxcXFwvXCIrcXIpXSxbSXJdOltuZXcgUmVnRXhwKElyK1wiXFxcXC9cIitxcildLFtScl06W25ldyBSZWdFeHAoXCJGeGlPU1xcXFwvXCIrcXIpXSxbQnJdOltuZXcgUmVnRXhwKFwiS29ucXVlcm9yWzovXT9cIitxcixcImlcIildLFtncl06W25ldyBSZWdFeHAoZ3IrXCIgXCIrcXIpLFdyXSxbT3JdOltuZXcgUmVnRXhwKFwiYW5kcm9pZFxcXFxzXCIrcXIsXCJpXCIpXSxbeXJdOltuZXcgUmVnRXhwKG1yK1wiXFxcXC9cIitxcildLFtTcl06W25ldyBSZWdFeHAoXCIocnY6fE1TSUUgKVwiK3FyKV0sTW96aWxsYTpbbmV3IFJlZ0V4cChcInJ2OlwiK3FyKV19LHRzPWZ1bmN0aW9uKHQsaSl7dmFyIGU9UXIodCxpKSxyPVpyW2VdO2lmKE0ocikpcmV0dXJuIG51bGw7Zm9yKHZhciBzPTA7czxyLmxlbmd0aDtzKyspe3ZhciBuPXJbc10sbz10Lm1hdGNoKG4pO2lmKG8pcmV0dXJuIHBhcnNlRmxvYXQob1tvLmxlbmd0aC0yXSl9cmV0dXJuIG51bGx9LGlzPVtbbmV3IFJlZ0V4cChNcitcIjsgXCIrTXIrXCIgKC4qPylbKTtdXCIsXCJpXCIpLHQ9PltNcix0JiZ0WzFdfHxcIlwiXV0sW25ldyBSZWdFeHAoRnIsXCJpXCIpLFtGcixcIlwiXV0sW25ldyBSZWdFeHAoQ3IsXCJpXCIpLFtDcixcIlwiXV0sW0tyLFtncixcIlwiXV0sW25ldyBSZWdFeHAoRHIsXCJpXCIpLCh0LGkpPT57aWYoL1Bob25lLy50ZXN0KGkpfHwvV1BEZXNrdG9wLy50ZXN0KGkpKXJldHVybltqcixcIlwiXTtpZihuZXcgUmVnRXhwKGFyKS50ZXN0KGkpJiYhL0lFTW9iaWxlXFxiLy50ZXN0KGkpKXJldHVybltEcitcIiBcIithcixcIlwiXTt2YXIgZT0vV2luZG93cyBOVCAoWzAtOS5dKykvaS5leGVjKGkpO2lmKGUmJmVbMV0pe3ZhciByPWVbMV0scz1ZcltyXXx8XCJcIjtyZXR1cm4vYXJtL2kudGVzdChpKSYmKHM9XCJSVFwiKSxbRHIsc119cmV0dXJuW0RyLFwiXCJdfV0sWy8oKGlQaG9uZXxpUGFkfGlQb2QpLio/T1MgKFxcZCspXyhcXGQrKV8/KFxcZCspP3xpUGhvbmUpLyx0PT57aWYodCYmdFszXSl7dmFyIGk9W3RbM10sdFs0XSx0WzVdfHxcIjBcIl07cmV0dXJuW2xyLGkuam9pbihcIi5cIildfXJldHVybltscixcIlwiXX1dLFsvKHdhdGNoLipcXC8oXFxkK1xcLlxcZCtcXC5cXGQrKXx3YXRjaCBvcywoXFxkK1xcLlxcZCspLCkvaSx0PT57dmFyIGk9XCJcIjtyZXR1cm4gdCYmdC5sZW5ndGg+PTMmJihpPU0odFsyXSk/dFszXTp0WzJdKSxbXCJ3YXRjaE9TXCIsaV19XSxbbmV3IFJlZ0V4cChcIihcIit1citcIiAoXFxcXGQrKVxcXFwuKFxcXFxkKylcXFxcLj8oXFxcXGQrKT98XCIrdXIrXCIpXCIsXCJpXCIpLHQ9PntpZih0JiZ0WzJdKXt2YXIgaT1bdFsyXSx0WzNdLHRbNF18fFwiMFwiXTtyZXR1cm5bdXIsaS5qb2luKFwiLlwiKV19cmV0dXJuW3VyLFwiXCJdfV0sWy9NYWMgT1MgWCAoXFxkKylbXy5dKFxcZCspW18uXT8oXFxkKyk/L2ksdD0+e3ZhciBpPVtcIk1hYyBPUyBYXCIsXCJcIl07aWYodCYmdFsxXSl7dmFyIGU9W3RbMV0sdFsyXSx0WzNdfHxcIjBcIl07aVsxXT1lLmpvaW4oXCIuXCIpfXJldHVybiBpfV0sWy9NYWMvaSxbXCJNYWMgT1MgWFwiLFwiXCJdXSxbL0NyT1MvLFt3cixcIlwiXV0sWy9MaW51eHxkZWJpYW4vaSxbXCJMaW51eFwiLFwiXCJdXV0sZXM9ZnVuY3Rpb24odCl7cmV0dXJuIEpyLnRlc3QodCk/RnI6VnIudGVzdCh0KT9DcjpHci50ZXN0KHQpP01yOm5ldyBSZWdFeHAoTnIsXCJpXCIpLnRlc3QodCk/TnI6bmV3IFJlZ0V4cChcIihcIitqcitcInxXUERlc2t0b3ApXCIsXCJpXCIpLnRlc3QodCk/anI6L2lQYWQvLnRlc3QodCk/dnI6L2lQb2QvLnRlc3QodCk/XCJpUG9kIFRvdWNoXCI6L2lQaG9uZS8udGVzdCh0KT9cImlQaG9uZVwiOi8od2F0Y2gpKD86ID9vc1ssL118XFxkLFxcZFxcLylbXFxkLl0rL2kudGVzdCh0KT9mcjpLci50ZXN0KHQpP2dyOi8oa29ibylcXHMoZXJlYWRlcnx0b3VjaCkvaS50ZXN0KHQpP1wiS29ib1wiOm5ldyBSZWdFeHAoTHIsXCJpXCIpLnRlc3QodCk/THI6LyhrZlthLXpdezJ9d2l8YWVvW2Mtcl17Mn0pKCBidWl8XFwpKS9pLnRlc3QodCl8fC8oa2ZbYS16XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pLnRlc3QodCk/XCJLaW5kbGUgRmlyZVwiOi8oQW5kcm9pZHxaVEUpL2kudGVzdCh0KT8hbmV3IFJlZ0V4cChhcikudGVzdCh0KXx8Lyg5MTM4QnxUQjc4MkJ8TmV4dXMgWzk3XXxwaXhlbCBjfEhVQVdFSVNIVHxCVFZ8bm9ibGUgbm9va3xzbWFydCB1bHRyYSA2KS9pLnRlc3QodCk/L3BpeGVsW1xcZGF4bCBdezEsNn0vaS50ZXN0KHQpJiYhL3BpeGVsIGMvaS50ZXN0KHQpfHwvKGh1YXdlaW1lZC1hbDAwfHRhaC18QVBBfFNNLUc5MnxpOTgwfHp0ZXxVMzA0QUEpL2kudGVzdCh0KXx8L2xteTQ3di9pLnRlc3QodCkmJiEvUVRBUVozL2kudGVzdCh0KT91cjpkcjp1cjpuZXcgUmVnRXhwKFwiKHBkYXxcIithcitcIilcIixcImlcIikudGVzdCh0KT96cjpuZXcgUmVnRXhwKGhyLFwiaVwiKS50ZXN0KHQpJiYhbmV3IFJlZ0V4cChocitcIiBwY1wiLFwiaVwiKS50ZXN0KHQpP0hyOlwiXCJ9LHJzPVwiaHR0cHM/Oi8vKC4qKVwiLHNzPVtcImdjbGlkXCIsXCJnY2xzcmNcIixcImRjbGlkXCIsXCJnYnJhaWRcIixcIndicmFpZFwiLFwiZmJjbGlkXCIsXCJtc2Nsa2lkXCIsXCJ0d2NsaWRcIixcImxpX2ZhdF9pZFwiLFwiaWdzaGlkXCIsXCJ0dGNsaWRcIixcInJkdF9jaWRcIixcImVwaWtcIixcInFjbGlkXCIsXCJzY2NpZFwiLFwiaXJjbGlkXCIsXCJfa3hcIl0sbnM9QXQoW1widXRtX3NvdXJjZVwiLFwidXRtX21lZGl1bVwiLFwidXRtX2NhbXBhaWduXCIsXCJ1dG1fY29udGVudFwiLFwidXRtX3Rlcm1cIixcImdhZF9zb3VyY2VcIixcIm1jX2NpZFwiXSxzcyksb3M9XCI8bWFza2VkPlwiLGFzPVtcImxpX2ZhdF9pZFwiXTtmdW5jdGlvbiBscyh0LGksZSl7aWYoIW8pcmV0dXJue307dmFyIHIscz1pP0F0KFtdLHNzLGV8fFtdKTpbXSxuPXVzKGRlKG8uVVJMLHMsb3MpLHQpLGE9KHI9e30sTXQoYXMsKGZ1bmN0aW9uKHQpe3ZhciBpPVJlLnEodCk7clt0XT1pfHxudWxsfSkpLHIpO3JldHVybiBPdChhLG4pfWZ1bmN0aW9uIHVzKHQsaSl7dmFyIGU9bnMuY29uY2F0KGl8fFtdKSxyPXt9O3JldHVybiBNdChlLChmdW5jdGlvbihpKXt2YXIgZT1oZSh0LGkpO3JbaV09ZXx8bnVsbH0pKSxyfWZ1bmN0aW9uIGhzKHQpe3ZhciBpPWZ1bmN0aW9uKHQpe3JldHVybiB0PzA9PT10LnNlYXJjaChycytcImdvb2dsZS4oW14vP10qKVwiKT9cImdvb2dsZVwiOjA9PT10LnNlYXJjaChycytcImJpbmcuY29tXCIpP1wiYmluZ1wiOjA9PT10LnNlYXJjaChycytcInlhaG9vLmNvbVwiKT9cInlhaG9vXCI6MD09PXQuc2VhcmNoKHJzK1wiZHVja2R1Y2tnby5jb21cIik/XCJkdWNrZHVja2dvXCI6bnVsbDpudWxsfSh0KSxlPVwieWFob29cIiE9aT9cInFcIjpcInBcIixyPXt9O2lmKCFEKGkpKXtyLiRzZWFyY2hfZW5naW5lPWk7dmFyIHM9bz9oZShvLnJlZmVycmVyLGUpOlwiXCI7cy5sZW5ndGgmJihyLnBoX2tleXdvcmQ9cyl9cmV0dXJuIHJ9ZnVuY3Rpb24gZHMoKXtyZXR1cm4gbmF2aWdhdG9yLmxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfWZ1bmN0aW9uIHZzKCl7cmV0dXJuKG51bGw9PW8/dm9pZCAwOm8ucmVmZXJyZXIpfHxcIiRkaXJlY3RcIn1mdW5jdGlvbiBjcyh0LGkpe3ZhciBlPXQ/QXQoW10sc3MsaXx8W10pOltdLHI9bnVsbD09YT92b2lkIDA6YS5ocmVmLnN1YnN0cmluZygwLDFlMyk7cmV0dXJue3I6dnMoKS5zdWJzdHJpbmcoMCwxZTMpLHU6cj9kZShyLGUsb3MpOnZvaWQgMH19ZnVuY3Rpb24gZnModCl7dmFyIGkse3I6ZSx1OnJ9PXQscz17JHJlZmVycmVyOmUsJHJlZmVycmluZ19kb21haW46bnVsbD09ZT92b2lkIDA6XCIkZGlyZWN0XCI9PWU/XCIkZGlyZWN0XCI6bnVsbD09KGk9bGUoZSkpP3ZvaWQgMDppLmhvc3R9O2lmKHIpe3MuJGN1cnJlbnRfdXJsPXI7dmFyIG49bGUocik7cy4kaG9zdD1udWxsPT1uP3ZvaWQgMDpuLmhvc3Qscy4kcGF0aG5hbWU9bnVsbD09bj92b2lkIDA6bi5wYXRobmFtZTt2YXIgbz11cyhyKTtPdChzLG8pfWlmKGUpe3ZhciBhPWhzKGUpO090KHMsYSl9cmV0dXJuIHN9ZnVuY3Rpb24gcHMoKXt0cnl7cmV0dXJuIEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZX1jYXRjaCh0KXtyZXR1cm59fWZ1bmN0aW9uIGdzKCl7dHJ5e3JldHVybihuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKX1jYXRjaCh0KXtyZXR1cm59fWZ1bmN0aW9uIF9zKGksZSl7aWYoIWQpcmV0dXJue307dmFyIHIscyxuLG89aT9BdChbXSxzcyxlfHxbXSk6W10sW2wsdV09ZnVuY3Rpb24odCl7Zm9yKHZhciBpPTA7aTxpcy5sZW5ndGg7aSsrKXt2YXJbZSxyXT1pc1tpXSxzPWUuZXhlYyh0KSxuPXMmJihSKHIpP3Iocyx0KTpyKTtpZihuKXJldHVybiBufXJldHVybltcIlwiLFwiXCJdfShkKTtyZXR1cm4gT3QoTnQoeyRvczpsLCRvc192ZXJzaW9uOnUsJGJyb3dzZXI6UXIoZCxuYXZpZ2F0b3IudmVuZG9yKSwkZGV2aWNlOmVzKGQpLCRkZXZpY2VfdHlwZToocz1kLG49ZXMocyksbj09PXZyfHxuPT09ZHJ8fFwiS29ib1wiPT09bnx8XCJLaW5kbGUgRmlyZVwiPT09bnx8bj09PUhyP2hyOm49PT1Gcnx8bj09PU1yfHxuPT09Q3J8fG49PT1Ocj9cIkNvbnNvbGVcIjpuPT09ZnI/XCJXZWFyYWJsZVwiOm4/YXI6XCJEZXNrdG9wXCIpLCR0aW1lem9uZTpwcygpLCR0aW1lem9uZV9vZmZzZXQ6Z3MoKX0pLHskY3VycmVudF91cmw6ZGUobnVsbD09YT92b2lkIDA6YS5ocmVmLG8sb3MpLCRob3N0Om51bGw9PWE/dm9pZCAwOmEuaG9zdCwkcGF0aG5hbWU6bnVsbD09YT92b2lkIDA6YS5wYXRobmFtZSwkcmF3X3VzZXJfYWdlbnQ6ZC5sZW5ndGg+MWUzP2Quc3Vic3RyaW5nKDAsOTk3KStcIi4uLlwiOmQsJGJyb3dzZXJfdmVyc2lvbjp0cyhkLG5hdmlnYXRvci52ZW5kb3IpLCRicm93c2VyX2xhbmd1YWdlOmRzKCksJGJyb3dzZXJfbGFuZ3VhZ2VfcHJlZml4OihyPWRzKCksXCJzdHJpbmdcIj09dHlwZW9mIHI/ci5zcGxpdChcIi1cIilbMF06dm9pZCAwKSwkc2NyZWVuX2hlaWdodDpudWxsPT10P3ZvaWQgMDp0LnNjcmVlbi5oZWlnaHQsJHNjcmVlbl93aWR0aDpudWxsPT10P3ZvaWQgMDp0LnNjcmVlbi53aWR0aCwkdmlld3BvcnRfaGVpZ2h0Om51bGw9PXQ/dm9pZCAwOnQuaW5uZXJIZWlnaHQsJHZpZXdwb3J0X3dpZHRoOm51bGw9PXQ/dm9pZCAwOnQuaW5uZXJXaWR0aCwkbGliOlwid2ViXCIsJGxpYl92ZXJzaW9uOmMuTElCX1ZFUlNJT04sJGluc2VydF9pZDpNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwxMCkrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTApLCR0aW1lOkRhdGUubm93KCkvMWUzfSl9dmFyIG1zPVR0KFwiW1dlYiBWaXRhbHNdXCIpLHlzPTllNTtjbGFzcyBic3tjb25zdHJ1Y3Rvcih0KXt2YXIgaTt0aGlzLkV0PSExLHRoaXMuUD0hMSx0aGlzLk49e3VybDp2b2lkIDAsbWV0cmljczpbXSxmaXJzdE1ldHJpY1RpbWVzdGFtcDp2b2lkIDB9LHRoaXMuJHQ9KCk9PntjbGVhclRpbWVvdXQodGhpcy5rdCksMCE9PXRoaXMuTi5tZXRyaWNzLmxlbmd0aCYmKHRoaXMuX2luc3RhbmNlLmNhcHR1cmUoXCIkd2ViX3ZpdGFsc1wiLHRoaXMuTi5tZXRyaWNzLnJlZHVjZSgoKHQsaSk9Pmcoe30sdCx7W1wiJHdlYl92aXRhbHNfXCIraS5uYW1lK1wiX2V2ZW50XCJdOmcoe30saSksW1wiJHdlYl92aXRhbHNfXCIraS5uYW1lK1wiX3ZhbHVlXCJdOmkudmFsdWV9KSkse30pKSx0aGlzLk49e3VybDp2b2lkIDAsbWV0cmljczpbXSxmaXJzdE1ldHJpY1RpbWVzdGFtcDp2b2lkIDB9KX0sdGhpcy5QdD10PT57dmFyIGksZT1udWxsPT0oaT10aGlzLl9pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcik/dm9pZCAwOmkuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoITApO2lmKE0oZSkpbXMuZXJyb3IoXCJDb3VsZCBub3QgcmVhZCBzZXNzaW9uIElELiBEcm9wcGluZyBtZXRyaWNzIVwiKTtlbHNle3RoaXMuTj10aGlzLk58fHt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfTt2YXIgcj10aGlzLlR0KCk7aWYoIU0ocikpaWYoaihudWxsPT10P3ZvaWQgMDp0Lm5hbWUpfHxqKG51bGw9PXQ/dm9pZCAwOnQudmFsdWUpKW1zLmVycm9yKFwiSW52YWxpZCBtZXRyaWMgcmVjZWl2ZWRcIix0KTtlbHNlIGlmKHRoaXMuSXQmJnQudmFsdWU+PXRoaXMuSXQpbXMuZXJyb3IoXCJJZ25vcmluZyBtZXRyaWMgd2l0aCB2YWx1ZSA+PSBcIit0aGlzLkl0LHQpO2Vsc2UgdGhpcy5OLnVybCE9PXImJih0aGlzLiR0KCksdGhpcy5rdD1zZXRUaW1lb3V0KHRoaXMuJHQsdGhpcy5mbHVzaFRvQ2FwdHVyZVRpbWVvdXRNcykpLE0odGhpcy5OLnVybCkmJih0aGlzLk4udXJsPXIpLHRoaXMuTi5maXJzdE1ldHJpY1RpbWVzdGFtcD1NKHRoaXMuTi5maXJzdE1ldHJpY1RpbWVzdGFtcCk/RGF0ZS5ub3coKTp0aGlzLk4uZmlyc3RNZXRyaWNUaW1lc3RhbXAsdC5hdHRyaWJ1dGlvbiYmdC5hdHRyaWJ1dGlvbi5pbnRlcmFjdGlvblRhcmdldEVsZW1lbnQmJih0LmF0dHJpYnV0aW9uLmludGVyYWN0aW9uVGFyZ2V0RWxlbWVudD12b2lkIDApLHRoaXMuTi5tZXRyaWNzLnB1c2goZyh7fSx0LHskY3VycmVudF91cmw6ciwkc2Vzc2lvbl9pZDplLnNlc3Npb25JZCwkd2luZG93X2lkOmUud2luZG93SWQsdGltZXN0YW1wOkRhdGUubm93KCl9KSksdGhpcy5OLm1ldHJpY3MubGVuZ3RoPT09dGhpcy5hbGxvd2VkTWV0cmljcy5sZW5ndGgmJnRoaXMuJHQoKX19LHRoaXMucnQ9KCk9Pnt2YXIgdCxpLGUscixzPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fO00ocyl8fE0ocy5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzKXx8KHtvbkxDUDp0LG9uQ0xTOmksb25GQ1A6ZSxvbklOUDpyfT1zLnBvc3RIb2dXZWJWaXRhbHNDYWxsYmFja3MpLHQmJmkmJmUmJnI/KHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkxDUFwiKT4tMSYmdCh0aGlzLlB0LmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkNMU1wiKT4tMSYmaSh0aGlzLlB0LmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkZDUFwiKT4tMSYmZSh0aGlzLlB0LmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIklOUFwiKT4tMSYmcih0aGlzLlB0LmJpbmQodGhpcykpLHRoaXMuUD0hMCk6bXMuZXJyb3IoXCJ3ZWIgdml0YWxzIGNhbGxiYWNrcyBub3QgbG9hZGVkIC0gbm90IHN0YXJ0aW5nXCIpfSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuRXQ9IShudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fCFpLnByb3BzW1p0XSksdGhpcy5zdGFydElmRW5hYmxlZCgpfWdldCBhbGxvd2VkTWV0cmljcygpe3ZhciB0LGksZT1GKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT9udWxsPT0odD10aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSk/dm9pZCAwOnQud2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3M6dm9pZCAwO3JldHVybiBNKGUpPyhudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSk/dm9pZCAwOmkucHJvcHNbaWldKXx8W1wiQ0xTXCIsXCJGQ1BcIixcIklOUFwiLFwiTENQXCJdOmV9Z2V0IGZsdXNoVG9DYXB0dXJlVGltZW91dE1zKCl7cmV0dXJuKEYodGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3RoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLndlYl92aXRhbHNfZGVsYXllZF9mbHVzaF9tczp2b2lkIDApfHw1ZTN9Z2V0IEl0KCl7dmFyIHQ9Rih0aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSkmJkwodGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UuX193ZWJfdml0YWxzX21heF92YWx1ZSk/dGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UuX193ZWJfdml0YWxzX21heF92YWx1ZTp5cztyZXR1cm4gMDx0JiZ0PD02ZTQ/eXM6dH1nZXQgaXNFbmFibGVkKCl7dmFyIHQ9bnVsbD09YT92b2lkIDA6YS5wcm90b2NvbDtpZihcImh0dHA6XCIhPT10JiZcImh0dHBzOlwiIT09dClyZXR1cm4gbXMuaW5mbyhcIldlYiBWaXRhbHMgYXJlIGRpc2FibGVkIG9uIG5vbi1odHRwL2h0dHBzIHByb3RvY29sc1wiKSwhMTt2YXIgaT1GKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLl9pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS53ZWJfdml0YWxzOk4odGhpcy5faW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3RoaXMuX2luc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlOnZvaWQgMDtyZXR1cm4gTihpKT9pOnRoaXMuRXR9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCYmIXRoaXMuUCYmKG1zLmluZm8oXCJlbmFibGVkLCBzdGFydGluZy4uLlwiKSx0aGlzLml0KHRoaXMucnQpKX1vblJlbW90ZUNvbmZpZyh0KXt2YXIgaT1GKHQuY2FwdHVyZVBlcmZvcm1hbmNlKSYmISF0LmNhcHR1cmVQZXJmb3JtYW5jZS53ZWJfdml0YWxzLGU9Rih0LmNhcHR1cmVQZXJmb3JtYW5jZSk/dC5jYXB0dXJlUGVyZm9ybWFuY2Uud2ViX3ZpdGFsc19hbGxvd2VkX21ldHJpY3M6dm9pZCAwO3RoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlJiYodGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tadF06aX0pLHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbaWldOmV9KSksdGhpcy5FdD1pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1pdCh0KXt2YXIgaSxlO251bGwhPShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmaS5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzJiZ0KCksbnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1lLmxvYWRFeHRlcm5hbERlcGVuZGVuY3l8fGUubG9hZEV4dGVybmFsRGVwZW5kZW5jeSh0aGlzLl9pbnN0YW5jZSxcIndlYi12aXRhbHNcIiwoaT0+e2k/bXMuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIixpKTp0KCl9KSl9VHQoKXt2YXIgaT10P3QubG9jYXRpb24uaHJlZjp2b2lkIDA7aWYoaSl7dmFyIGU9dGhpcy5faW5zdGFuY2UuY29uZmlnLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLHI9dGhpcy5faW5zdGFuY2UuY29uZmlnLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMscz1lP0F0KFtdLHNzLHJ8fFtdKTpbXTtyZXR1cm4gZGUoaSxzLG9zKX1tcy5lcnJvcihcIkNvdWxkIG5vdCBkZXRlcm1pbmUgY3VycmVudCBVUkxcIil9fXZhciB3cz1UdChcIltIZWF0bWFwc11cIik7ZnVuY3Rpb24geHModCl7cmV0dXJuIEYodCkmJlwiY2xpZW50WFwiaW4gdCYmXCJjbGllbnRZXCJpbiB0JiZMKHQuY2xpZW50WCkmJkwodC5jbGllbnRZKX1jbGFzcyBTc3tjb25zdHJ1Y3Rvcih0KXt2YXIgaTt0aGlzLkV0PSExLHRoaXMuUD0hMSx0aGlzLlJ0PW51bGwsdGhpcy5pbnN0YW5jZT10LHRoaXMuRXQ9IShudWxsPT0oaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8IWkucHJvcHNbS3RdKSx0aGlzLnJhZ2VjbGlja3M9bmV3IHNlKHQuY29uZmlnLnJhZ2VjbGljayl9Z2V0IGZsdXNoSW50ZXJ2YWxNaWxsaXNlY29uZHMoKXt2YXIgdD01ZTM7cmV0dXJuIEYodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcykmJnRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHMuZmx1c2hfaW50ZXJ2YWxfbWlsbGlzZWNvbmRzJiYodD10aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzLmZsdXNoX2ludGVydmFsX21pbGxpc2Vjb25kcyksdH1nZXQgaXNFbmFibGVkKCl7cmV0dXJuIE0odGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcyk/TSh0aGlzLmluc3RhbmNlLmNvbmZpZy5lbmFibGVfaGVhdG1hcHMpP3RoaXMuRXQ6dGhpcy5pbnN0YW5jZS5jb25maWcuZW5hYmxlX2hlYXRtYXBzOiExIT09dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwc31zdGFydElmRW5hYmxlZCgpe2lmKHRoaXMuaXNFbmFibGVkKXtpZih0aGlzLlApcmV0dXJuO3dzLmluZm8oXCJzdGFydGluZy4uLlwiKSx0aGlzLkZ0KCksdGhpcy5DdCgpfWVsc2V7dmFyIHQ7Y2xlYXJJbnRlcnZhbChudWxsIT09KHQ9dGhpcy5SdCkmJnZvaWQgMCE9PXQ/dDp2b2lkIDApLHRoaXMuTXQoKSx0aGlzLmdldEFuZENsZWFyQnVmZmVyKCl9fW9uUmVtb3RlQ29uZmlnKHQpe3ZhciBpPSEhdC5oZWF0bWFwczt0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbS3RdOml9KSx0aGlzLkV0PWksdGhpcy5zdGFydElmRW5hYmxlZCgpfWdldEFuZENsZWFyQnVmZmVyKCl7dmFyIHQ9dGhpcy5OO3JldHVybiB0aGlzLk49dm9pZCAwLHR9T3QodCl7dGhpcy5BdCh0Lm9yaWdpbmFsRXZlbnQsXCJkZWFkY2xpY2tcIil9Q3QoKXt0aGlzLlJ0JiZjbGVhckludGVydmFsKHRoaXMuUnQpLHRoaXMuUnQ9ZnVuY3Rpb24odCl7cmV0dXJuXCJ2aXNpYmxlXCI9PT0obnVsbD09dD92b2lkIDA6dC52aXNpYmlsaXR5U3RhdGUpfShvKT9zZXRJbnRlcnZhbCh0aGlzLkR0LmJpbmQodGhpcyksdGhpcy5mbHVzaEludGVydmFsTWlsbGlzZWNvbmRzKTpudWxsfUZ0KCl7dCYmbyYmKHRoaXMuanQ9dGhpcy5EdC5iaW5kKHRoaXMpLHF0KHQsXCJiZWZvcmV1bmxvYWRcIix0aGlzLmp0KSx0aGlzLkx0PWk9PnRoaXMuQXQoaXx8KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKSxxdChvLFwiY2xpY2tcIix0aGlzLkx0LHtjYXB0dXJlOiEwfSksdGhpcy5OdD1pPT50aGlzLlV0KGl8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KSkscXQobyxcIm1vdXNlbW92ZVwiLHRoaXMuTnQse2NhcHR1cmU6ITB9KSx0aGlzLnp0PW5ldyBxZSh0aGlzLmluc3RhbmNlLEhlLHRoaXMuT3QuYmluZCh0aGlzKSksdGhpcy56dC5zdGFydElmRW5hYmxlZCgpLHRoaXMuSHQ9dGhpcy5DdC5iaW5kKHRoaXMpLHF0KG8sXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy5IdCksdGhpcy5QPSEwKX1NdCgpe3ZhciBpO3QmJm8mJih0aGlzLmp0JiZ0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJiZWZvcmV1bmxvYWRcIix0aGlzLmp0KSx0aGlzLkx0JiZvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuTHQse2NhcHR1cmU6ITB9KSx0aGlzLk50JiZvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIix0aGlzLk50LHtjYXB0dXJlOiEwfSksdGhpcy5IdCYmby5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuSHQpLGNsZWFyVGltZW91dCh0aGlzLkJ0KSxudWxsPT0oaT10aGlzLnp0KXx8aS5zdG9wKCksdGhpcy5QPSExKX1xdChpLGUpe3ZhciByPXRoaXMuaW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5zY3JvbGxZKCkscz10aGlzLmluc3RhbmNlLnNjcm9sbE1hbmFnZXIuc2Nyb2xsWCgpLG49dGhpcy5pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLnNjcm9sbEVsZW1lbnQoKSxvPWZ1bmN0aW9uKGksZSxyKXtmb3IodmFyIHM9aTtzJiZFaShzKSYmISRpKHMsXCJib2R5XCIpOyl7aWYocz09PXIpcmV0dXJuITE7aWYodyhlLG51bGw9PXQ/dm9pZCAwOnQuZ2V0Q29tcHV0ZWRTdHlsZShzKS5wb3NpdGlvbikpcmV0dXJuITA7cz1EaShzKX1yZXR1cm4hMX0oTWkoaSksW1wiZml4ZWRcIixcInN0aWNreVwiXSxuKTtyZXR1cm57eDppLmNsaWVudFgrKG8/MDpzKSx5OmkuY2xpZW50WSsobz8wOnIpLHRhcmdldF9maXhlZDpvLHR5cGU6ZX19QXQodCxpKXt2YXIgZTtpZih2b2lkIDA9PT1pJiYoaT1cImNsaWNrXCIpLCFTaSh0LnRhcmdldCkmJnhzKHQpKXt2YXIgcj10aGlzLnF0KHQsaSk7bnVsbCE9KGU9dGhpcy5yYWdlY2xpY2tzKSYmZS5pc1JhZ2VDbGljayh0LmNsaWVudFgsdC5jbGllbnRZLChuZXcgRGF0ZSkuZ2V0VGltZSgpKSYmdGhpcy5XdChnKHt9LHIse3R5cGU6XCJyYWdlY2xpY2tcIn0pKSx0aGlzLld0KHIpfX1VdCh0KXshU2kodC50YXJnZXQpJiZ4cyh0KSYmKGNsZWFyVGltZW91dCh0aGlzLkJ0KSx0aGlzLkJ0PXNldFRpbWVvdXQoKCgpPT57dGhpcy5XdCh0aGlzLnF0KHQsXCJtb3VzZW1vdmVcIikpfSksNTAwKSl9V3QoaSl7aWYodCl7dmFyIGU9dC5sb2NhdGlvbi5ocmVmLHI9dGhpcy5pbnN0YW5jZS5jb25maWcubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMscz10aGlzLmluc3RhbmNlLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLG49cj9BdChbXSxzcyxzfHxbXSk6W10sbz1kZShlLG4sb3MpO3RoaXMuTj10aGlzLk58fHt9LHRoaXMuTltvXXx8KHRoaXMuTltvXT1bXSksdGhpcy5OW29dLnB1c2goaSl9fUR0KCl7dGhpcy5OJiYhQyh0aGlzLk4pJiZ0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkJGhlYXRtYXBcIix7JGhlYXRtYXBfZGF0YTp0aGlzLmdldEFuZENsZWFyQnVmZmVyKCl9KX19Y2xhc3MgRXN7Y29uc3RydWN0b3IodCl7dGhpcy5faW5zdGFuY2U9dH1kb1BhZ2VWaWV3KGksZSl7dmFyIHIscz10aGlzLkd0KGksZSk7cmV0dXJuIHRoaXMuVnQ9e3BhdGhuYW1lOm51bGwhPT0ocj1udWxsPT10P3ZvaWQgMDp0LmxvY2F0aW9uLnBhdGhuYW1lKSYmdm9pZCAwIT09cj9yOlwiXCIscGFnZVZpZXdJZDplLHRpbWVzdGFtcDppfSx0aGlzLl9pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLnJlc2V0Q29udGV4dCgpLHN9ZG9QYWdlTGVhdmUodCl7dmFyIGk7cmV0dXJuIHRoaXMuR3QodCxudWxsPT0oaT10aGlzLlZ0KT92b2lkIDA6aS5wYWdlVmlld0lkKX1kb0V2ZW50KCl7dmFyIHQ7cmV0dXJueyRwYWdldmlld19pZDpudWxsPT0odD10aGlzLlZ0KT92b2lkIDA6dC5wYWdlVmlld0lkfX1HdCh0LGkpe3ZhciBlPXRoaXMuVnQ7aWYoIWUpcmV0dXJueyRwYWdldmlld19pZDppfTt2YXIgcj17JHBhZ2V2aWV3X2lkOmksJHByZXZfcGFnZXZpZXdfaWQ6ZS5wYWdlVmlld0lkfSxzPXRoaXMuX2luc3RhbmNlLnNjcm9sbE1hbmFnZXIuZ2V0Q29udGV4dCgpO2lmKHMmJiF0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zY3JvbGxfcHJvcGVydGllcyl7dmFye21heFNjcm9sbEhlaWdodDpuLGxhc3RTY3JvbGxZOm8sbWF4U2Nyb2xsWTphLG1heENvbnRlbnRIZWlnaHQ6bCxsYXN0Q29udGVudFk6dSxtYXhDb250ZW50WTpofT1zO2lmKCEoTShuKXx8TShvKXx8TShhKXx8TShsKXx8TSh1KXx8TShoKSkpe249TWF0aC5jZWlsKG4pLG89TWF0aC5jZWlsKG8pLGE9TWF0aC5jZWlsKGEpLGw9TWF0aC5jZWlsKGwpLHU9TWF0aC5jZWlsKHUpLGg9TWF0aC5jZWlsKGgpO3ZhciBkPW48PTE/MTpKKG8vbiwwLDEsUHQpLHY9bjw9MT8xOkooYS9uLDAsMSxQdCksYz1sPD0xPzE6Sih1L2wsMCwxLFB0KSxmPWw8PTE/MTpKKGgvbCwwLDEsUHQpO3I9T3Qocix7JHByZXZfcGFnZXZpZXdfbGFzdF9zY3JvbGw6bywkcHJldl9wYWdldmlld19sYXN0X3Njcm9sbF9wZXJjZW50YWdlOmQsJHByZXZfcGFnZXZpZXdfbWF4X3Njcm9sbDphLCRwcmV2X3BhZ2V2aWV3X21heF9zY3JvbGxfcGVyY2VudGFnZTp2LCRwcmV2X3BhZ2V2aWV3X2xhc3RfY29udGVudDp1LCRwcmV2X3BhZ2V2aWV3X2xhc3RfY29udGVudF9wZXJjZW50YWdlOmMsJHByZXZfcGFnZXZpZXdfbWF4X2NvbnRlbnQ6aCwkcHJldl9wYWdldmlld19tYXhfY29udGVudF9wZXJjZW50YWdlOmZ9KX19cmV0dXJuIGUucGF0aG5hbWUmJihyLiRwcmV2X3BhZ2V2aWV3X3BhdGhuYW1lPWUucGF0aG5hbWUpLGUudGltZXN0YW1wJiYoci4kcHJldl9wYWdldmlld19kdXJhdGlvbj0odC5nZXRUaW1lKCktZS50aW1lc3RhbXAuZ2V0VGltZSgpKS8xZTMpLHJ9fXZhciAkcz1VaW50OEFycmF5LGtzPVVpbnQxNkFycmF5LFBzPVVpbnQzMkFycmF5LFRzPW5ldyAkcyhbMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwLDAsMCwwXSksSXM9bmV3ICRzKFswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzLDAsMF0pLFJzPW5ldyAkcyhbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pLEZzPWZ1bmN0aW9uKHQsaSl7Zm9yKHZhciBlPW5ldyBrcygzMSkscj0wO3I8MzE7KytyKWVbcl09aSs9MTw8dFtyLTFdO3ZhciBzPW5ldyBQcyhlWzMwXSk7Zm9yKHI9MTtyPDMwOysrcilmb3IodmFyIG49ZVtyXTtuPGVbcisxXTsrK24pc1tuXT1uLWVbcl08PDV8cjtyZXR1cm5bZSxzXX0sQ3M9RnMoVHMsMiksTXM9Q3NbMF0sT3M9Q3NbMV07TXNbMjhdPTI1OCxPc1syNThdPTI4O2Zvcih2YXIgQXM9RnMoSXMsMClbMV0sRHM9bmV3IGtzKDMyNzY4KSxqcz0wO2pzPDMyNzY4OysranMpe3ZhciBMcz0oNDM2OTAmanMpPj4+MXwoMjE4NDUmanMpPDwxO0xzPSg2MTY4MCYoTHM9KDUyNDI4JkxzKT4+PjJ8KDEzMTA3JkxzKTw8MikpPj4+NHwoMzg1NSZMcyk8PDQsRHNbanNdPSgoNjUyODAmTHMpPj4+OHwoMjU1JkxzKTw8OCk+Pj4xfXZhciBOcz1mdW5jdGlvbih0LGksZSl7Zm9yKHZhciByPXQubGVuZ3RoLHM9MCxuPW5ldyBrcyhpKTtzPHI7KytzKSsrblt0W3NdLTFdO3ZhciBvLGE9bmV3IGtzKGkpO2ZvcihzPTA7czxpOysrcylhW3NdPWFbcy0xXStuW3MtMV08PDE7aWYoZSl7bz1uZXcga3MoMTw8aSk7dmFyIGw9MTUtaTtmb3Iocz0wO3M8cjsrK3MpaWYodFtzXSlmb3IodmFyIHU9czw8NHx0W3NdLGg9aS10W3NdLGQ9YVt0W3NdLTFdKys8PGgsdj1kfCgxPDxoKS0xO2Q8PXY7KytkKW9bRHNbZF0+Pj5sXT11fWVsc2UgZm9yKG89bmV3IGtzKHIpLHM9MDtzPHI7KytzKW9bc109RHNbYVt0W3NdLTFdKytdPj4+MTUtdFtzXTtyZXR1cm4gb30sVXM9bmV3ICRzKDI4OCk7Zm9yKGpzPTA7anM8MTQ0OysranMpVXNbanNdPTg7Zm9yKGpzPTE0NDtqczwyNTY7KytqcylVc1tqc109OTtmb3IoanM9MjU2O2pzPDI4MDsrK2pzKVVzW2pzXT03O2Zvcihqcz0yODA7anM8Mjg4OysranMpVXNbanNdPTg7dmFyIHpzPW5ldyAkcygzMik7Zm9yKGpzPTA7anM8MzI7Kytqcyl6c1tqc109NTt2YXIgSHM9TnMoVXMsOSwwKSxCcz1Ocyh6cyw1LDApLHFzPWZ1bmN0aW9uKHQpe3JldHVybih0Lzg+PjApKyg3JnQmJjEpfSxXcz1mdW5jdGlvbih0LGksZSl7KG51bGw9PWV8fGU+dC5sZW5ndGgpJiYoZT10Lmxlbmd0aCk7dmFyIHI9bmV3KHQgaW5zdGFuY2VvZiBrcz9rczp0IGluc3RhbmNlb2YgUHM/UHM6JHMpKGUtaSk7cmV0dXJuIHIuc2V0KHQuc3ViYXJyYXkoaSxlKSkscn0sR3M9ZnVuY3Rpb24odCxpLGUpe2U8PD03Jmk7dmFyIHI9aS84Pj4wO3Rbcl18PWUsdFtyKzFdfD1lPj4+OH0sVnM9ZnVuY3Rpb24odCxpLGUpe2U8PD03Jmk7dmFyIHI9aS84Pj4wO3Rbcl18PWUsdFtyKzFdfD1lPj4+OCx0W3IrMl18PWU+Pj4xNn0sSnM9ZnVuY3Rpb24odCxpKXtmb3IodmFyIGU9W10scj0wO3I8dC5sZW5ndGg7KytyKXRbcl0mJmUucHVzaCh7czpyLGY6dFtyXX0pO3ZhciBzPWUubGVuZ3RoLG49ZS5zbGljZSgpO2lmKCFzKXJldHVybltuZXcgJHMoMCksMF07aWYoMT09cyl7dmFyIG89bmV3ICRzKGVbMF0ucysxKTtyZXR1cm4gb1tlWzBdLnNdPTEsW28sMV19ZS5zb3J0KChmdW5jdGlvbih0LGkpe3JldHVybiB0LmYtaS5mfSkpLGUucHVzaCh7czotMSxmOjI1MDAxfSk7dmFyIGE9ZVswXSxsPWVbMV0sdT0wLGg9MSxkPTI7Zm9yKGVbMF09e3M6LTEsZjphLmYrbC5mLGw6YSxyOmx9O2ghPXMtMTspYT1lW2VbdV0uZjxlW2RdLmY/dSsrOmQrK10sbD1lW3UhPWgmJmVbdV0uZjxlW2RdLmY/dSsrOmQrK10sZVtoKytdPXtzOi0xLGY6YS5mK2wuZixsOmEscjpsfTt2YXIgdj1uWzBdLnM7Zm9yKHI9MTtyPHM7KytyKW5bcl0ucz52JiYodj1uW3JdLnMpO3ZhciBjPW5ldyBrcyh2KzEpLGY9S3MoZVtoLTFdLGMsMCk7aWYoZj5pKXtyPTA7dmFyIHA9MCxnPWYtaSxfPTE8PGc7Zm9yKG4uc29ydCgoZnVuY3Rpb24odCxpKXtyZXR1cm4gY1tpLnNdLWNbdC5zXXx8dC5mLWkuZn0pKTtyPHM7KytyKXt2YXIgbT1uW3JdLnM7aWYoIShjW21dPmkpKWJyZWFrO3ArPV8tKDE8PGYtY1ttXSksY1ttXT1pfWZvcihwPj4+PWc7cD4wOyl7dmFyIHk9bltyXS5zO2NbeV08aT9wLT0xPDxpLWNbeV0rKy0xOisrcn1mb3IoO3I+PTAmJnA7LS1yKXt2YXIgYj1uW3JdLnM7Y1tiXT09aSYmKC0tY1tiXSwrK3ApfWY9aX1yZXR1cm5bbmV3ICRzKGMpLGZdfSxLcz1mdW5jdGlvbih0LGksZSl7cmV0dXJuLTE9PXQucz9NYXRoLm1heChLcyh0LmwsaSxlKzEpLEtzKHQucixpLGUrMSkpOmlbdC5zXT1lfSxZcz1mdW5jdGlvbih0KXtmb3IodmFyIGk9dC5sZW5ndGg7aSYmIXRbLS1pXTspO2Zvcih2YXIgZT1uZXcga3MoKytpKSxyPTAscz10WzBdLG49MSxvPWZ1bmN0aW9uKHQpe2VbcisrXT10fSxhPTE7YTw9aTsrK2EpaWYodFthXT09cyYmYSE9aSkrK247ZWxzZXtpZighcyYmbj4yKXtmb3IoO24+MTM4O24tPTEzOClvKDMyNzU0KTtuPjImJihvKG4+MTA/bi0xMTw8NXwyODY5MDpuLTM8PDV8MTIzMDUpLG49MCl9ZWxzZSBpZihuPjMpe2ZvcihvKHMpLC0tbjtuPjY7bi09NilvKDgzMDQpO24+MiYmKG8obi0zPDw1fDgyMDgpLG49MCl9Zm9yKDtuLS07KW8ocyk7bj0xLHM9dFthXX1yZXR1cm5bZS5zdWJhcnJheSgwLHIpLGldfSxYcz1mdW5jdGlvbih0LGkpe2Zvcih2YXIgZT0wLHI9MDtyPGkubGVuZ3RoOysrcillKz10W3JdKmlbcl07cmV0dXJuIGV9LFFzPWZ1bmN0aW9uKHQsaSxlKXt2YXIgcj1lLmxlbmd0aCxzPXFzKGkrMik7dFtzXT0yNTUmcix0W3MrMV09cj4+PjgsdFtzKzJdPTI1NV50W3NdLHRbcyszXT0yNTVedFtzKzFdO2Zvcih2YXIgbj0wO248cjsrK24pdFtzK24rNF09ZVtuXTtyZXR1cm4gOCoocys0K3IpfSxacz1mdW5jdGlvbih0LGksZSxyLHMsbixvLGEsbCx1LGgpe0dzKGksaCsrLGUpLCsrc1syNTZdO2Zvcih2YXIgZD1KcyhzLDE1KSx2PWRbMF0sYz1kWzFdLGY9SnMobiwxNSkscD1mWzBdLGc9ZlsxXSxfPVlzKHYpLG09X1swXSx5PV9bMV0sYj1ZcyhwKSx3PWJbMF0seD1iWzFdLFM9bmV3IGtzKDE5KSxFPTA7RTxtLmxlbmd0aDsrK0UpU1szMSZtW0VdXSsrO2ZvcihFPTA7RTx3Lmxlbmd0aDsrK0UpU1szMSZ3W0VdXSsrO2Zvcih2YXIgaz1KcyhTLDcpLFA9a1swXSxUPWtbMV0sST0xOTtJPjQmJiFQW1JzW0ktMV1dOy0tSSk7dmFyIFIsRixDLE0sTz11KzU8PDMsQT1YcyhzLFVzKStYcyhuLHpzKStvLEQ9WHMocyx2KStYcyhuLHApK28rMTQrMypJK1hzKFMsUCkrKDIqU1sxNl0rMypTWzE3XSs3KlNbMThdKTtpZihPPD1BJiZPPD1EKXJldHVybiBRcyhpLGgsdC5zdWJhcnJheShsLGwrdSkpO2lmKEdzKGksaCwxKyhEPEEpKSxoKz0yLEQ8QSl7Uj1Ocyh2LGMsMCksRj12LEM9TnMocCxnLDApLE09cDt2YXIgaj1OcyhQLFQsMCk7R3MoaSxoLHktMjU3KSxHcyhpLGgrNSx4LTEpLEdzKGksaCsxMCxJLTQpLGgrPTE0O2ZvcihFPTA7RTxJOysrRSlHcyhpLGgrMypFLFBbUnNbRV1dKTtoKz0zKkk7Zm9yKHZhciBMPVttLHddLE49MDtOPDI7KytOKXt2YXIgVT1MW05dO2ZvcihFPTA7RTxVLmxlbmd0aDsrK0Upe3ZhciB6PTMxJlVbRV07R3MoaSxoLGpbel0pLGgrPVBbel0sej4xNSYmKEdzKGksaCxVW0VdPj4+NSYxMjcpLGgrPVVbRV0+Pj4xMil9fX1lbHNlIFI9SHMsRj1VcyxDPUJzLE09enM7Zm9yKEU9MDtFPGE7KytFKWlmKHJbRV0+MjU1KXt6PXJbRV0+Pj4xOCYzMTtWcyhpLGgsUlt6KzI1N10pLGgrPUZbeisyNTddLHo+NyYmKEdzKGksaCxyW0VdPj4+MjMmMzEpLGgrPVRzW3pdKTt2YXIgSD0zMSZyW0VdO1ZzKGksaCxDW0hdKSxoKz1NW0hdLEg+MyYmKFZzKGksaCxyW0VdPj4+NSY4MTkxKSxoKz1Jc1tIXSl9ZWxzZSBWcyhpLGgsUltyW0VdXSksaCs9RltyW0VdXTtyZXR1cm4gVnMoaSxoLFJbMjU2XSksaCtGWzI1Nl19LHRuPW5ldyBQcyhbNjU1NDAsMTMxMDgwLDEzMTA4OCwxMzExMDQsMjYyMTc2LDEwNDg3MDQsMTA0ODgzMiwyMTE0NTYwLDIxMTc2MzJdKSxlbj1mdW5jdGlvbigpe2Zvcih2YXIgdD1uZXcgUHMoMjU2KSxpPTA7aTwyNTY7KytpKXtmb3IodmFyIGU9aSxyPTk7LS1yOyllPSgxJmUmJjM5ODgyOTIzODQpXmU+Pj4xO3RbaV09ZX1yZXR1cm4gdH0oKSxybj1mdW5jdGlvbih0LGksZSxyLHMpe3JldHVybiBmdW5jdGlvbih0LGksZSxyLHMsbil7dmFyIG89dC5sZW5ndGgsYT1uZXcgJHMocitvKzUqKDErTWF0aC5mbG9vcihvLzdlMykpK3MpLGw9YS5zdWJhcnJheShyLGEubGVuZ3RoLXMpLHU9MDtpZighaXx8bzw4KWZvcih2YXIgaD0wO2g8PW87aCs9NjU1MzUpe3ZhciBkPWgrNjU1MzU7ZDxvP3U9UXMobCx1LHQuc3ViYXJyYXkoaCxkKSk6KGxbaF09bix1PVFzKGwsdSx0LnN1YmFycmF5KGgsbykpKX1lbHNle2Zvcih2YXIgdj10bltpLTFdLGM9dj4+PjEzLGY9ODE5MSZ2LHA9KDE8PGUpLTEsZz1uZXcga3MoMzI3NjgpLF89bmV3IGtzKHArMSksbT1NYXRoLmNlaWwoZS8zKSx5PTIqbSxiPWZ1bmN0aW9uKGkpe3JldHVybih0W2ldXnRbaSsxXTw8bV50W2krMl08PHkpJnB9LHc9bmV3IFBzKDI1ZTMpLHg9bmV3IGtzKDI4OCksUz1uZXcga3MoMzIpLEU9MCxrPTAsUD0oaD0wLDApLFQ9MCxJPTA7aDxvOysraCl7dmFyIFI9YihoKSxGPTMyNzY3JmgsQz1fW1JdO2lmKGdbRl09QyxfW1JdPUYsVDw9aCl7dmFyIE09by1oO2lmKChFPjdlM3x8UD4yNDU3NikmJk0+NDIzKXt1PVpzKHQsbCwwLHcseCxTLGssUCxJLGgtSSx1KSxQPUU9az0wLEk9aDtmb3IodmFyIE89MDtPPDI4NjsrK08peFtPXT0wO2ZvcihPPTA7TzwzMDsrK08pU1tPXT0wfXZhciBBPTIsRD0wLGo9ZixMPUYtQyYzMjc2NztpZihNPjImJlI9PWIoaC1MKSlmb3IodmFyIE49TWF0aC5taW4oYyxNKS0xLFU9TWF0aC5taW4oMzI3NjcsaCksej1NYXRoLm1pbigyNTgsTSk7TDw9VSYmLS1qJiZGIT1DOyl7aWYodFtoK0FdPT10W2grQS1MXSl7Zm9yKHZhciBIPTA7SDx6JiZ0W2grSF09PXRbaCtILUxdOysrSCk7aWYoSD5BKXtpZihBPUgsRD1MLEg+TilicmVhazt2YXIgQj1NYXRoLm1pbihMLEgtMikscT0wO2ZvcihPPTA7TzxCOysrTyl7dmFyIFc9aC1MK08rMzI3NjgmMzI3NjcsRz1XLWdbV10rMzI3NjgmMzI3Njc7Rz5xJiYocT1HLEM9Vyl9fX1MKz0oRj1DKS0oQz1nW0ZdKSszMjc2OCYzMjc2N31pZihEKXt3W1ArK109MjY4NDM1NDU2fE9zW0FdPDwxOHxBc1tEXTt2YXIgVj0zMSZPc1tBXSxKPTMxJkFzW0RdO2srPVRzW1ZdK0lzW0pdLCsreFsyNTcrVl0sKytTW0pdLFQ9aCtBLCsrRX1lbHNlIHdbUCsrXT10W2hdLCsreFt0W2hdXX19dT1acyh0LGwsbix3LHgsUyxrLFAsSSxoLUksdSl9cmV0dXJuIFdzKGEsMCxyK3FzKHUpK3MpfSh0LG51bGw9PWkubGV2ZWw/NjppLmxldmVsLG51bGw9PWkubWVtP01hdGguY2VpbCgxLjUqTWF0aC5tYXgoOCxNYXRoLm1pbigxMyxNYXRoLmxvZyh0Lmxlbmd0aCkpKSk6MTIraS5tZW0sZSxyLCEwKX0sc249ZnVuY3Rpb24odCxpLGUpe2Zvcig7ZTsrK2kpdFtpXT1lLGU+Pj49OH07ZnVuY3Rpb24gbm4odCxpKXt2b2lkIDA9PT1pJiYoaT17fSk7dmFyIGU9ZnVuY3Rpb24oKXt2YXIgdD00Mjk0OTY3Mjk1O3JldHVybntwOmZ1bmN0aW9uKGkpe2Zvcih2YXIgZT10LHI9MDtyPGkubGVuZ3RoOysrcillPWVuWzI1NSZlXmlbcl1dXmU+Pj44O3Q9ZX0sZDpmdW5jdGlvbigpe3JldHVybiA0Mjk0OTY3Mjk1XnR9fX0oKSxyPXQubGVuZ3RoO2UucCh0KTt2YXIgcyxuPXJuKHQsaSwxMCsoKHM9aSkuZmlsZW5hbWUmJnMuZmlsZW5hbWUubGVuZ3RoKzF8fDApLDgpLG89bi5sZW5ndGg7cmV0dXJuIGZ1bmN0aW9uKHQsaSl7dmFyIGU9aS5maWxlbmFtZTtpZih0WzBdPTMxLHRbMV09MTM5LHRbMl09OCx0WzhdPWkubGV2ZWw8Mj80Ojk9PWkubGV2ZWw/MjowLHRbOV09MywwIT1pLm10aW1lJiZzbih0LDQsTWF0aC5mbG9vcihuZXcgRGF0ZShpLm10aW1lfHxEYXRlLm5vdygpKS8xZTMpKSxlKXt0WzNdPTg7Zm9yKHZhciByPTA7cjw9ZS5sZW5ndGg7KytyKXRbcisxMF09ZS5jaGFyQ29kZUF0KHIpfX0obixpKSxzbihuLG8tOCxlLmQoKSksc24obixvLTQsciksbn12YXIgb249ZnVuY3Rpb24odCl7dmFyIGksZSxyLHMsbj1cIlwiO2ZvcihpPWU9MCxyPSh0PSh0K1wiXCIpLnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpLnJlcGxhY2UoL1xcci9nLFwiXFxuXCIpKS5sZW5ndGgscz0wO3M8cjtzKyspe3ZhciBvPXQuY2hhckNvZGVBdChzKSxhPW51bGw7bzwxMjg/ZSsrOmE9bz4xMjcmJm88MjA0OD9TdHJpbmcuZnJvbUNoYXJDb2RlKG8+PjZ8MTkyLDYzJm98MTI4KTpTdHJpbmcuZnJvbUNoYXJDb2RlKG8+PjEyfDIyNCxvPj42JjYzfDEyOCw2MyZvfDEyOCksRChhKXx8KGU+aSYmKG4rPXQuc3Vic3RyaW5nKGksZSkpLG4rPWEsaT1lPXMrMSl9cmV0dXJuIGU+aSYmKG4rPXQuc3Vic3RyaW5nKGksdC5sZW5ndGgpKSxufSxhbj0hIXV8fCEhbCxsbj1cInRleHQvcGxhaW5cIix1bj1mdW5jdGlvbih0LGksZSl7dmFyIHI7dm9pZCAwPT09ZSYmKGU9ITApO3ZhcltzLG5dPXQuc3BsaXQoXCI/XCIpLG89Zyh7fSxpKSxhPW51bGwhPT0ocj1udWxsPT1uP3ZvaWQgMDpuLnNwbGl0KFwiJlwiKS5tYXAoKHQ9Pnt2YXIgaSxbcixzXT10LnNwbGl0KFwiPVwiKSxuPWUmJm51bGwhPT0oaT1vW3JdKSYmdm9pZCAwIT09aT9pOnM7cmV0dXJuIGRlbGV0ZSBvW3JdLHIrXCI9XCIrbn0pKSkmJnZvaWQgMCE9PXI/cjpbXSxsPXVlKG8pO3JldHVybiBsJiZhLnB1c2gobCkscytcIj9cIithLmpvaW4oXCImXCIpfSxobj0odCxpKT0+SlNPTi5zdHJpbmdpZnkodCwoKHQsaSk9PlwiYmlnaW50XCI9PXR5cGVvZiBpP2kudG9TdHJpbmcoKTppKSxpKSxkbj10PT57dmFye2RhdGE6aSxjb21wcmVzc2lvbjplfT10O2lmKGkpe2lmKGU9PT1vZS5HWmlwSlMpe3ZhciByPW5uKGZ1bmN0aW9uKHQsaSl7dmFyIGU9dC5sZW5ndGg7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFRleHRFbmNvZGVyKXJldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZSh0KTtmb3IodmFyIHI9bmV3ICRzKHQubGVuZ3RoKyh0Lmxlbmd0aD4+PjEpKSxzPTAsbj1mdW5jdGlvbih0KXtyW3MrK109dH0sbz0wO288ZTsrK28pe2lmKHMrNT5yLmxlbmd0aCl7dmFyIGE9bmV3ICRzKHMrOCsoZS1vPDwxKSk7YS5zZXQocikscj1hfXZhciBsPXQuY2hhckNvZGVBdChvKTtsPDEyOHx8aT9uKGwpOmw8MjA0OD8obigxOTJ8bD4+PjYpLG4oMTI4fDYzJmwpKTpsPjU1Mjk1JiZsPDU3MzQ0PyhuKDI0MHwobD02NTUzNisoMTA0NzU1MiZsKXwxMDIzJnQuY2hhckNvZGVBdCgrK28pKT4+PjE4KSxuKDEyOHxsPj4+MTImNjMpLG4oMTI4fGw+Pj42JjYzKSxuKDEyOHw2MyZsKSk6KG4oMjI0fGw+Pj4xMiksbigxMjh8bD4+PjYmNjMpLG4oMTI4fDYzJmwpKX1yZXR1cm4gV3MociwwLHMpfShobihpKSkse210aW1lOjB9KSxzPW5ldyBCbG9iKFtyXSx7dHlwZTpsbn0pO3JldHVybntjb250ZW50VHlwZTpsbixib2R5OnMsZXN0aW1hdGVkU2l6ZTpzLnNpemV9fWlmKGU9PT1vZS5CYXNlNjQpe3ZhciBuPWZ1bmN0aW9uKHQpe3ZhciBpLGUscixzLG4sbz1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIsYT0wLGw9MCx1PVwiXCIsaD1bXTtpZighdClyZXR1cm4gdDt0PW9uKHQpO2Rve2k9KG49dC5jaGFyQ29kZUF0KGErKyk8PDE2fHQuY2hhckNvZGVBdChhKyspPDw4fHQuY2hhckNvZGVBdChhKyspKT4+MTgmNjMsZT1uPj4xMiY2MyxyPW4+PjYmNjMscz02MyZuLGhbbCsrXT1vLmNoYXJBdChpKStvLmNoYXJBdChlKStvLmNoYXJBdChyKStvLmNoYXJBdChzKX13aGlsZShhPHQubGVuZ3RoKTtzd2l0Y2godT1oLmpvaW4oXCJcIiksdC5sZW5ndGglMyl7Y2FzZSAxOnU9dS5zbGljZSgwLC0yKStcIj09XCI7YnJlYWs7Y2FzZSAyOnU9dS5zbGljZSgwLC0xKStcIj1cIn1yZXR1cm4gdX0oaG4oaSkpLG89KHQ9PlwiZGF0YT1cIitlbmNvZGVVUklDb21wb25lbnQoXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDpobih0KSkpKG4pO3JldHVybntjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLGJvZHk6byxlc3RpbWF0ZWRTaXplOm5ldyBCbG9iKFtvXSkuc2l6ZX19dmFyIGE9aG4oaSk7cmV0dXJue2NvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24vanNvblwiLGJvZHk6YSxlc3RpbWF0ZWRTaXplOm5ldyBCbG9iKFthXSkuc2l6ZX19fSx2bj1bXTtsJiZ2bi5wdXNoKHt0cmFuc3BvcnQ6XCJmZXRjaFwiLG1ldGhvZDp0PT57dmFyIGksZSx7Y29udGVudFR5cGU6cixib2R5OnMsZXN0aW1hdGVkU2l6ZTpufT1udWxsIT09KGk9ZG4odCkpJiZ2b2lkIDAhPT1pP2k6e30sbz1uZXcgSGVhZGVycztNdCh0LmhlYWRlcnMsKGZ1bmN0aW9uKHQsaSl7by5hcHBlbmQoaSx0KX0pKSxyJiZvLmFwcGVuZChcIkNvbnRlbnQtVHlwZVwiLHIpO3ZhciBhPXQudXJsLHU9bnVsbDtpZihoKXt2YXIgZD1uZXcgaDt1PXtzaWduYWw6ZC5zaWduYWwsdGltZW91dDpzZXRUaW1lb3V0KCgoKT0+ZC5hYm9ydCgpKSx0LnRpbWVvdXQpfX1sKGEsZyh7bWV0aG9kOihudWxsPT10P3ZvaWQgMDp0Lm1ldGhvZCl8fFwiR0VUXCIsaGVhZGVyczpvLGtlZXBhbGl2ZTpcIlBPU1RcIj09PXQubWV0aG9kJiYobnx8MCk8NTI0MjguOCxib2R5OnMsc2lnbmFsOm51bGw9PShlPXUpP3ZvaWQgMDplLnNpZ25hbH0sdC5mZXRjaE9wdGlvbnMpKS50aGVuKChpPT5pLnRleHQoKS50aGVuKChlPT57dmFyIHI9e3N0YXR1c0NvZGU6aS5zdGF0dXMsdGV4dDplfTtpZigyMDA9PT1pLnN0YXR1cyl0cnl7ci5qc29uPUpTT04ucGFyc2UoZSl9Y2F0Y2godCl7UHQuZXJyb3IodCl9bnVsbD09dC5jYWxsYmFja3x8dC5jYWxsYmFjayhyKX0pKSkpLmNhdGNoKChpPT57UHQuZXJyb3IoaSksbnVsbD09dC5jYWxsYmFja3x8dC5jYWxsYmFjayh7c3RhdHVzQ29kZTowLHRleHQ6aX0pfSkpLmZpbmFsbHkoKCgpPT51P2NsZWFyVGltZW91dCh1LnRpbWVvdXQpOm51bGwpKX19KSx1JiZ2bi5wdXNoKHt0cmFuc3BvcnQ6XCJYSFJcIixtZXRob2Q6dD0+e3ZhciBpLGU9bmV3IHU7ZS5vcGVuKHQubWV0aG9kfHxcIkdFVFwiLHQudXJsLCEwKTt2YXJ7Y29udGVudFR5cGU6cixib2R5OnN9PW51bGwhPT0oaT1kbih0KSkmJnZvaWQgMCE9PWk/aTp7fTtNdCh0LmhlYWRlcnMsKGZ1bmN0aW9uKHQsaSl7ZS5zZXRSZXF1ZXN0SGVhZGVyKGksdCl9KSksciYmZS5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsciksdC50aW1lb3V0JiYoZS50aW1lb3V0PXQudGltZW91dCksdC5kaXNhYmxlWEhSQ3JlZGVudGlhbHN8fChlLndpdGhDcmVkZW50aWFscz0hMCksZS5vbnJlYWR5c3RhdGVjaGFuZ2U9KCk9PntpZig0PT09ZS5yZWFkeVN0YXRlKXt2YXIgaT17c3RhdHVzQ29kZTplLnN0YXR1cyx0ZXh0OmUucmVzcG9uc2VUZXh0fTtpZigyMDA9PT1lLnN0YXR1cyl0cnl7aS5qc29uPUpTT04ucGFyc2UoZS5yZXNwb25zZVRleHQpfWNhdGNoKHQpe31udWxsPT10LmNhbGxiYWNrfHx0LmNhbGxiYWNrKGkpfX0sZS5zZW5kKHMpfX0pLG51bGwhPW4mJm4uc2VuZEJlYWNvbiYmdm4ucHVzaCh7dHJhbnNwb3J0Olwic2VuZEJlYWNvblwiLG1ldGhvZDp0PT57dmFyIGk9dW4odC51cmwse2JlYWNvbjpcIjFcIn0pO3RyeXt2YXIgZSx7Y29udGVudFR5cGU6cixib2R5OnN9PW51bGwhPT0oZT1kbih0KSkmJnZvaWQgMCE9PWU/ZTp7fSxvPVwic3RyaW5nXCI9PXR5cGVvZiBzP25ldyBCbG9iKFtzXSx7dHlwZTpyfSk6cztuLnNlbmRCZWFjb24oaSxvKX1jYXRjaCh0KXt9fX0pO3ZhciBjbj1mdW5jdGlvbih0LGkpe2lmKCFmdW5jdGlvbih0KXt0cnl7bmV3IFJlZ0V4cCh0KX1jYXRjaCh0KXtyZXR1cm4hMX1yZXR1cm4hMH0oaSkpcmV0dXJuITE7dHJ5e3JldHVybiBuZXcgUmVnRXhwKGkpLnRlc3QodCl9Y2F0Y2godCl7cmV0dXJuITF9fTtmdW5jdGlvbiBmbih0LGksZSl7cmV0dXJuIGhuKHtkaXN0aW5jdF9pZDp0LHVzZXJQcm9wZXJ0aWVzVG9TZXQ6aSx1c2VyUHJvcGVydGllc1RvU2V0T25jZTplfSl9dmFyIHBuPXtleGFjdDoodCxpKT0+aS5zb21lKChpPT50LnNvbWUoKHQ9Pmk9PT10KSkpKSxpc19ub3Q6KHQsaSk9PmkuZXZlcnkoKGk9PnQuZXZlcnkoKHQ9PmkhPT10KSkpKSxyZWdleDoodCxpKT0+aS5zb21lKChpPT50LnNvbWUoKHQ9PmNuKGksdCkpKSkpLG5vdF9yZWdleDoodCxpKT0+aS5ldmVyeSgoaT0+dC5ldmVyeSgodD0+IWNuKGksdCkpKSkpLGljb250YWluczoodCxpKT0+aS5tYXAoZ24pLnNvbWUoKGk9PnQubWFwKGduKS5zb21lKCh0PT5pLmluY2x1ZGVzKHQpKSkpKSxub3RfaWNvbnRhaW5zOih0LGkpPT5pLm1hcChnbikuZXZlcnkoKGk9PnQubWFwKGduKS5ldmVyeSgodD0+IWkuaW5jbHVkZXModCkpKSkpfSxnbj10PT50LnRvTG93ZXJDYXNlKCk7ZnVuY3Rpb24gX24odCxpKXtyZXR1cm4hdHx8T2JqZWN0LmVudHJpZXModCkuZXZlcnkoKHQ9Pnt2YXJbZSxyXT10LHM9bnVsbD09aT92b2lkIDA6aVtlXTtpZihNKHMpfHxEKHMpKXJldHVybiExO3ZhciBuPVtTdHJpbmcocyldLG89cG5bci5vcGVyYXRvcl07cmV0dXJuISFvJiZvKHIudmFsdWVzLG4pfSkpfXZhciBtbj1UdChcIltFcnJvciB0cmFja2luZ11cIik7Y2xhc3MgeW57Y29uc3RydWN0b3IodCl7dmFyIGksZTt0aGlzLkp0PVtdLHRoaXMuS3Q9bmV3IGl0KFtuZXcgcHQsbmV3ICR0LG5ldyBfdCxuZXcgZ3QsbmV3IFN0LG5ldyB4dCxuZXcgeXQsbmV3IEV0XSxmdChcIndlYjpqYXZhc2NyaXB0XCIsbHQsZHQpKSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuSnQ9bnVsbCE9PShpPW51bGw9PShlPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKT92b2lkIDA6ZS5nZXRfcHJvcGVydHkoWHQpKSYmdm9pZCAwIT09aT9pOltdfW9uUmVtb3RlQ29uZmlnKHQpe3ZhciBpLGUscixzPW51bGwhPT0oaT1udWxsPT0oZT10LmVycm9yVHJhY2tpbmcpP3ZvaWQgMDplLnN1cHByZXNzaW9uUnVsZXMpJiZ2b2lkIDAhPT1pP2k6W10sbj1udWxsPT0ocj10LmVycm9yVHJhY2tpbmcpP3ZvaWQgMDpyLmNhcHR1cmVFeHRlbnNpb25FeGNlcHRpb25zO3RoaXMuSnQ9cyx0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tYdF06dGhpcy5KdCxbUXRdOm59KX1nZXQgWXQoKXt2YXIgdCxpPSEhdGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFF0KSxlPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5lcnJvcl90cmFja2luZy5jYXB0dXJlRXh0ZW5zaW9uRXhjZXB0aW9ucztyZXR1cm4gbnVsbCE9PSh0PW51bGwhPWU/ZTppKSYmdm9pZCAwIT09dCYmdH1idWlsZFByb3BlcnRpZXModCxpKXtyZXR1cm4gdGhpcy5LdC5idWlsZEZyb21Vbmtub3duKHQse3N5bnRoZXRpY0V4Y2VwdGlvbjpudWxsPT1pP3ZvaWQgMDppLnN5bnRoZXRpY0V4Y2VwdGlvbixtZWNoYW5pc206e2hhbmRsZWQ6bnVsbD09aT92b2lkIDA6aS5oYW5kbGVkfX0pfXNlbmRFeGNlcHRpb25FdmVudCh0KXt2YXIgaT10LiRleGNlcHRpb25fbGlzdDtpZih0aGlzLlh0KGkpKXtpZih0aGlzLlF0KGkpKXJldHVybiB2b2lkIG1uLmluZm8oXCJTa2lwcGluZyBleGNlcHRpb24gY2FwdHVyZSBiZWNhdXNlIGEgc3VwcHJlc3Npb24gcnVsZSBtYXRjaGVkXCIpO2lmKCF0aGlzLll0JiZ0aGlzLlp0KGkpKXJldHVybiB2b2lkIG1uLmluZm8oXCJTa2lwcGluZyBleGNlcHRpb24gY2FwdHVyZSBiZWNhdXNlIGl0IHdhcyB0aHJvd24gYnkgYW4gZXh0ZW5zaW9uXCIpO2lmKCF0aGlzLl9pbnN0YW5jZS5jb25maWcuZXJyb3JfdHJhY2tpbmcuX19jYXB0dXJlUG9zdEhvZ0V4Y2VwdGlvbnMmJnRoaXMudGkoaSkpcmV0dXJuIHZvaWQgbW4uaW5mbyhcIlNraXBwaW5nIGV4Y2VwdGlvbiBjYXB0dXJlIGJlY2F1c2UgaXQgd2FzIHRocm93biBieSB0aGUgUG9zdEhvZyBTREtcIil9cmV0dXJuIHRoaXMuX2luc3RhbmNlLmNhcHR1cmUoXCIkZXhjZXB0aW9uXCIsdCx7X25vVHJ1bmNhdGU6ITAsX2JhdGNoS2V5OlwiZXhjZXB0aW9uRXZlbnRcIn0pfVF0KHQpe2lmKDA9PT10Lmxlbmd0aClyZXR1cm4hMTt2YXIgaT10LnJlZHVjZSgoKHQsaSk9Pnt2YXJ7dHlwZTplLHZhbHVlOnJ9PWk7cmV0dXJuIE8oZSkmJmUubGVuZ3RoPjAmJnQuJGV4Y2VwdGlvbl90eXBlcy5wdXNoKGUpLE8ocikmJnIubGVuZ3RoPjAmJnQuJGV4Y2VwdGlvbl92YWx1ZXMucHVzaChyKSx0fSkseyRleGNlcHRpb25fdHlwZXM6W10sJGV4Y2VwdGlvbl92YWx1ZXM6W119KTtyZXR1cm4gdGhpcy5KdC5zb21lKCh0PT57dmFyIGU9dC52YWx1ZXMubWFwKCh0PT57dmFyIGUscj1wblt0Lm9wZXJhdG9yXSxzPUkodC52YWx1ZSk/dC52YWx1ZTpbdC52YWx1ZV0sbj1udWxsIT09KGU9aVt0LmtleV0pJiZ2b2lkIDAhPT1lP2U6W107cmV0dXJuIHMubGVuZ3RoPjAmJnIocyxuKX0pKTtyZXR1cm5cIk9SXCI9PT10LnR5cGU/ZS5zb21lKEJvb2xlYW4pOmUuZXZlcnkoQm9vbGVhbil9KSl9WnQodCl7cmV0dXJuIHQuZmxhdE1hcCgodD0+e3ZhciBpLGU7cmV0dXJuIG51bGwhPT0oaT1udWxsPT0oZT10LnN0YWNrdHJhY2UpP3ZvaWQgMDplLmZyYW1lcykmJnZvaWQgMCE9PWk/aTpbXX0pKS5zb21lKCh0PT50LmZpbGVuYW1lJiZ0LmZpbGVuYW1lLnN0YXJ0c1dpdGgoXCJjaHJvbWUtZXh0ZW5zaW9uOi8vXCIpKSl9dGkodCl7aWYodC5sZW5ndGg+MCl7dmFyIGksZSxyLHMsbj1udWxsIT09KGk9bnVsbD09KGU9dFswXS5zdGFja3RyYWNlKT92b2lkIDA6ZS5mcmFtZXMpJiZ2b2lkIDAhPT1pP2k6W10sbz1uW24ubGVuZ3RoLTFdO3JldHVybiBudWxsIT09KHI9bnVsbD09b3x8bnVsbD09KHM9by5maWxlbmFtZSk/dm9pZCAwOnMuaW5jbHVkZXMoXCJwb3N0aG9nLmNvbS9zdGF0aWNcIikpJiZ2b2lkIDAhPT1yJiZyfXJldHVybiExfVh0KHQpe3JldHVybiFqKHQpJiZJKHQpfX12YXIgYm49VHQoXCJbRmVhdHVyZUZsYWdzXVwiKSx3bj1UdChcIltGZWF0dXJlRmxhZ3NdXCIse2RlYnVnRW5hYmxlZDohMH0pLHhuPVwiJGFjdGl2ZV9mZWF0dXJlX2ZsYWdzXCIsU249XCIkb3ZlcnJpZGVfZmVhdHVyZV9mbGFnc1wiLEVuPVwiJGZlYXR1cmVfZmxhZ19wYXlsb2Fkc1wiLCRuPVwiJG92ZXJyaWRlX2ZlYXR1cmVfZmxhZ19wYXlsb2Fkc1wiLGtuPVwiJGZlYXR1cmVfZmxhZ19yZXF1ZXN0X2lkXCIsUG49dD0+e3ZhciBpPXt9O2Zvcih2YXJbZSxyXW9mIER0KHR8fHt9KSlyJiYoaVtlXT1yKTtyZXR1cm4gaX0sVG49dD0+e3ZhciBpPXQuZmxhZ3M7cmV0dXJuIGk/KHQuZmVhdHVyZUZsYWdzPU9iamVjdC5mcm9tRW50cmllcyhPYmplY3Qua2V5cyhpKS5tYXAoKHQ9Pnt2YXIgZTtyZXR1cm5bdCxudWxsIT09KGU9aVt0XS52YXJpYW50KSYmdm9pZCAwIT09ZT9lOmlbdF0uZW5hYmxlZF19KSkpLHQuZmVhdHVyZUZsYWdQYXlsb2Fkcz1PYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmtleXMoaSkuZmlsdGVyKCh0PT5pW3RdLmVuYWJsZWQpKS5maWx0ZXIoKHQ9Pnt2YXIgZTtyZXR1cm4gbnVsbD09KGU9aVt0XS5tZXRhZGF0YSk/dm9pZCAwOmUucGF5bG9hZH0pKS5tYXAoKHQ9Pnt2YXIgZTtyZXR1cm5bdCxudWxsPT0oZT1pW3RdLm1ldGFkYXRhKT92b2lkIDA6ZS5wYXlsb2FkXX0pKSkpOmJuLndhcm4oXCJVc2luZyBhbiBvbGRlciB2ZXJzaW9uIG9mIHRoZSBmZWF0dXJlIGZsYWdzIGVuZHBvaW50LiBQbGVhc2UgdXBncmFkZSB5b3VyIFBvc3RIb2cgc2VydmVyIHRvIHRoZSBsYXRlc3QgdmVyc2lvblwiKSx0fSxJbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5GZWF0dXJlRmxhZ3M9XCJmZWF0dXJlX2ZsYWdzXCIsdC5SZWNvcmRpbmdzPVwicmVjb3JkaW5nc1wiLHR9KHt9KTtjbGFzcyBSbntjb25zdHJ1Y3Rvcih0KXt0aGlzLmlpPSExLHRoaXMuZWk9ITEsdGhpcy5yaT0hMSx0aGlzLnNpPSExLHRoaXMubmk9ITEsdGhpcy5vaT0hMSx0aGlzLmFpPSExLHRoaXMuX2luc3RhbmNlPXQsdGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnM9W119bGkoKXt2YXIgdD10aGlzLl9pbnN0YW5jZS5jb25maWcuZXZhbHVhdGlvbl9lbnZpcm9ubWVudHM7cmV0dXJuIG51bGwhPXQmJnQubGVuZ3RoP3QuZmlsdGVyKCh0PT57dmFyIGk9dCYmXCJzdHJpbmdcIj09dHlwZW9mIHQmJnQudHJpbSgpLmxlbmd0aD4wO3JldHVybiBpfHxibi5lcnJvcihcIkludmFsaWQgZXZhbHVhdGlvbiBlbnZpcm9ubWVudCBmb3VuZDpcIix0LFwiRXhwZWN0ZWQgbm9uLWVtcHR5IHN0cmluZ1wiKSxpfSkpOltdfXVpKCl7cmV0dXJuIHRoaXMubGkoKS5sZW5ndGg+MH1mbGFncygpe2lmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5fX3ByZXZpZXdfcmVtb3RlX2NvbmZpZyl0aGlzLm9pPSEwO2Vsc2V7dmFyIHQ9IXRoaXMuaGkmJih0aGlzLl9pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzfHx0aGlzLl9pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzX29uX2ZpcnN0X2xvYWQpO3RoaXMuZGkoe2Rpc2FibGVGbGFnczp0fSl9fWdldCBoYXNMb2FkZWRGbGFncygpe3JldHVybiB0aGlzLmVpfWdldEZsYWdzKCl7cmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCkpfWdldEZsYWdzV2l0aERldGFpbHMoKXt2YXIgdD10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoYWkpLGk9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFNuKSxlPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eSgkbik7aWYoIWUmJiFpKXJldHVybiB0fHx7fTt2YXIgcj1PdCh7fSx0fHx7fSkscz1bLi4ubmV3IFNldChbLi4uT2JqZWN0LmtleXMoZXx8e30pLC4uLk9iamVjdC5rZXlzKGl8fHt9KV0pXTtmb3IodmFyIG4gb2Ygcyl7dmFyIG8sYSxsPXJbbl0sdT1udWxsPT1pP3ZvaWQgMDppW25dLGg9TSh1KT9udWxsIT09KG89bnVsbD09bD92b2lkIDA6bC5lbmFibGVkKSYmdm9pZCAwIT09byYmbzohIXUsZD1NKHUpP2wudmFyaWFudDpcInN0cmluZ1wiPT10eXBlb2YgdT91OnZvaWQgMCx2PW51bGw9PWU/dm9pZCAwOmVbbl0sYz1nKHt9LGwse2VuYWJsZWQ6aCx2YXJpYW50Omg/bnVsbCE9ZD9kOm51bGw9PWw/dm9pZCAwOmwudmFyaWFudDp2b2lkIDB9KTtpZihoIT09KG51bGw9PWw/dm9pZCAwOmwuZW5hYmxlZCkmJihjLm9yaWdpbmFsX2VuYWJsZWQ9bnVsbD09bD92b2lkIDA6bC5lbmFibGVkKSxkIT09KG51bGw9PWw/dm9pZCAwOmwudmFyaWFudCkmJihjLm9yaWdpbmFsX3ZhcmlhbnQ9bnVsbD09bD92b2lkIDA6bC52YXJpYW50KSx2KWMubWV0YWRhdGE9Zyh7fSxudWxsPT1sP3ZvaWQgMDpsLm1ldGFkYXRhLHtwYXlsb2FkOnYsb3JpZ2luYWxfcGF5bG9hZDpudWxsPT1sfHxudWxsPT0oYT1sLm1ldGFkYXRhKT92b2lkIDA6YS5wYXlsb2FkfSk7cltuXT1jfXJldHVybiB0aGlzLmlpfHwoYm4ud2FybihcIiBPdmVycmlkaW5nIGZlYXR1cmUgZmxhZyBkZXRhaWxzIVwiLHtmbGFnRGV0YWlsczp0LG92ZXJyaWRkZW5QYXlsb2FkczplLGZpbmFsRGV0YWlsczpyfSksdGhpcy5paT0hMCkscn1nZXRGbGFnVmFyaWFudHMoKXt2YXIgdD10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkobmkpLGk9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFNuKTtpZighaSlyZXR1cm4gdHx8e307Zm9yKHZhciBlPU90KHt9LHQpLHI9T2JqZWN0LmtleXMoaSkscz0wO3M8ci5sZW5ndGg7cysrKWVbcltzXV09aVtyW3NdXTtyZXR1cm4gdGhpcy5paXx8KGJuLndhcm4oXCIgT3ZlcnJpZGluZyBmZWF0dXJlIGZsYWdzIVwiLHtlbmFibGVkRmxhZ3M6dCxvdmVycmlkZGVuRmxhZ3M6aSxmaW5hbEZsYWdzOmV9KSx0aGlzLmlpPSEwKSxlfWdldEZsYWdQYXlsb2Fkcygpe3ZhciB0PXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShFbiksaT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoJG4pO2lmKCFpKXJldHVybiB0fHx7fTtmb3IodmFyIGU9T3Qoe30sdHx8e30pLHI9T2JqZWN0LmtleXMoaSkscz0wO3M8ci5sZW5ndGg7cysrKWVbcltzXV09aVtyW3NdXTtyZXR1cm4gdGhpcy5paXx8KGJuLndhcm4oXCIgT3ZlcnJpZGluZyBmZWF0dXJlIGZsYWcgcGF5bG9hZHMhXCIse2ZsYWdQYXlsb2Fkczp0LG92ZXJyaWRkZW5QYXlsb2FkczppLGZpbmFsUGF5bG9hZHM6ZX0pLHRoaXMuaWk9ITApLGV9cmVsb2FkRmVhdHVyZUZsYWdzKCl7dGhpcy5zaXx8dGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnc3x8dGhpcy5oaXx8KHRoaXMuaGk9c2V0VGltZW91dCgoKCk9Pnt0aGlzLmRpKCl9KSw1KSl9dmkoKXtjbGVhclRpbWVvdXQodGhpcy5oaSksdGhpcy5oaT12b2lkIDB9ZW5zdXJlRmxhZ3NMb2FkZWQoKXt0aGlzLmVpfHx0aGlzLnJpfHx0aGlzLmhpfHx0aGlzLnJlbG9hZEZlYXR1cmVGbGFncygpfXNldEFub255bW91c0Rpc3RpbmN0SWQodCl7dGhpcy4kYW5vbl9kaXN0aW5jdF9pZD10fXNldFJlbG9hZGluZ1BhdXNlZCh0KXt0aGlzLnNpPXR9ZGkodCl7dmFyIGk7aWYodGhpcy52aSgpLCF0aGlzLl9pbnN0YW5jZS5PKCkpaWYodGhpcy5yaSl0aGlzLm5pPSEwO2Vsc2V7dmFyIGU9e3Rva2VuOnRoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbixkaXN0aW5jdF9pZDp0aGlzLl9pbnN0YW5jZS5nZXRfZGlzdGluY3RfaWQoKSxncm91cHM6dGhpcy5faW5zdGFuY2UuZ2V0R3JvdXBzKCksJGFub25fZGlzdGluY3RfaWQ6dGhpcy4kYW5vbl9kaXN0aW5jdF9pZCxwZXJzb25fcHJvcGVydGllczpnKHt9LChudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSk/dm9pZCAwOmkuZ2V0X2luaXRpYWxfcHJvcHMoKSl8fHt9LHRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShsaSl8fHt9KSxncm91cF9wcm9wZXJ0aWVzOnRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eSh1aSl9OyhudWxsIT10JiZ0LmRpc2FibGVGbGFnc3x8dGhpcy5faW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFncykmJihlLmRpc2FibGVfZmxhZ3M9ITApLHRoaXMudWkoKSYmKGUuZXZhbHVhdGlvbl9lbnZpcm9ubWVudHM9dGhpcy5saSgpKTt2YXIgcj10aGlzLl9pbnN0YW5jZS5jb25maWcuX19wcmV2aWV3X3JlbW90ZV9jb25maWcscz1yP1wiL2ZsYWdzLz92PTJcIjpcIi9mbGFncy8/dj0yJmNvbmZpZz10cnVlXCIsbj10aGlzLl9pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfb25seV9ldmFsdWF0ZV9zdXJ2ZXlfZmVhdHVyZV9mbGFncz9cIiZvbmx5X2V2YWx1YXRlX3N1cnZleV9mZWF0dXJlX2ZsYWdzPXRydWVcIjpcIlwiLG89dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImZsYWdzXCIscytuKTtyJiYoZS50aW1lem9uZT1wcygpKSx0aGlzLnJpPSEwLHRoaXMuX2luc3RhbmNlLmNpKHttZXRob2Q6XCJQT1NUXCIsdXJsOm8sZGF0YTplLGNvbXByZXNzaW9uOnRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX2NvbXByZXNzaW9uP3ZvaWQgMDpvZS5CYXNlNjQsdGltZW91dDp0aGlzLl9pbnN0YW5jZS5jb25maWcuZmVhdHVyZV9mbGFnX3JlcXVlc3RfdGltZW91dF9tcyxjYWxsYmFjazp0PT57dmFyIGkscixzPSEwOygyMDA9PT10LnN0YXR1c0NvZGUmJih0aGlzLm5pfHwodGhpcy4kYW5vbl9kaXN0aW5jdF9pZD12b2lkIDApLHM9ITEpLHRoaXMucmk9ITEsdGhpcy5vaSl8fCh0aGlzLm9pPSEwLHRoaXMuX2luc3RhbmNlLmZpKG51bGwhPT0ocj10Lmpzb24pJiZ2b2lkIDAhPT1yP3I6e30pKTtpZighZS5kaXNhYmxlX2ZsYWdzfHx0aGlzLm5pKWlmKHRoaXMuYWk9IXMsdC5qc29uJiZudWxsIT0oaT10Lmpzb24ucXVvdGFMaW1pdGVkKSYmaS5pbmNsdWRlcyhJbi5GZWF0dXJlRmxhZ3MpKWJuLndhcm4oXCJZb3UgaGF2ZSBoaXQgeW91ciBmZWF0dXJlIGZsYWdzIHF1b3RhIGxpbWl0LCBhbmQgd2lsbCBub3QgYmUgYWJsZSB0byBsb2FkIGZlYXR1cmUgZmxhZ3MgdW50aWwgdGhlIHF1b3RhIGlzIHJlc2V0LiAgUGxlYXNlIHZpc2l0IGh0dHBzOi8vcG9zdGhvZy5jb20vZG9jcy9iaWxsaW5nL2xpbWl0cy1hbGVydHMgdG8gbGVhcm4gbW9yZS5cIik7ZWxzZXt2YXIgbjtpZighZS5kaXNhYmxlX2ZsYWdzKXRoaXMucmVjZWl2ZWRGZWF0dXJlRmxhZ3MobnVsbCE9PShuPXQuanNvbikmJnZvaWQgMCE9PW4/bjp7fSxzKTt0aGlzLm5pJiYodGhpcy5uaT0hMSx0aGlzLmRpKCkpfX19KX19Z2V0RmVhdHVyZUZsYWcodCxpKXtpZih2b2lkIDA9PT1pJiYoaT17fSksdGhpcy5laXx8dGhpcy5nZXRGbGFncygpJiZ0aGlzLmdldEZsYWdzKCkubGVuZ3RoPjApe3ZhciBlPXRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKClbdF0scj1cIlwiK2Uscz10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoa24pfHx2b2lkIDAsbj10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkodmkpfHx7fTtpZigoaS5zZW5kX2V2ZW50fHwhKFwic2VuZF9ldmVudFwiaW4gaSkpJiYoISh0IGluIG4pfHwhblt0XS5pbmNsdWRlcyhyKSkpe3ZhciBvLGEsbCx1LGgsZCx2LGMsZjtJKG5bdF0pP25bdF0ucHVzaChyKTpuW3RdPVtyXSxudWxsPT0obz10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fG8ucmVnaXN0ZXIoe1t2aV06bn0pO3ZhciBwPXRoaXMuZ2V0RmVhdHVyZUZsYWdEZXRhaWxzKHQpLGc9eyRmZWF0dXJlX2ZsYWc6dCwkZmVhdHVyZV9mbGFnX3Jlc3BvbnNlOmUsJGZlYXR1cmVfZmxhZ19wYXlsb2FkOnRoaXMuZ2V0RmVhdHVyZUZsYWdQYXlsb2FkKHQpfHxudWxsLCRmZWF0dXJlX2ZsYWdfcmVxdWVzdF9pZDpzLCRmZWF0dXJlX2ZsYWdfYm9vdHN0cmFwcGVkX3Jlc3BvbnNlOihudWxsPT0oYT10aGlzLl9pbnN0YW5jZS5jb25maWcuYm9vdHN0cmFwKXx8bnVsbD09KGE9YS5mZWF0dXJlRmxhZ3MpP3ZvaWQgMDphW3RdKXx8bnVsbCwkZmVhdHVyZV9mbGFnX2Jvb3RzdHJhcHBlZF9wYXlsb2FkOihudWxsPT0obD10aGlzLl9pbnN0YW5jZS5jb25maWcuYm9vdHN0cmFwKXx8bnVsbD09KGw9bC5mZWF0dXJlRmxhZ1BheWxvYWRzKT92b2lkIDA6bFt0XSl8fG51bGwsJHVzZWRfYm9vdHN0cmFwX3ZhbHVlOiF0aGlzLmFpfTtNKG51bGw9PXB8fG51bGw9PSh1PXAubWV0YWRhdGEpP3ZvaWQgMDp1LnZlcnNpb24pfHwoZy4kZmVhdHVyZV9mbGFnX3ZlcnNpb249cC5tZXRhZGF0YS52ZXJzaW9uKTt2YXIgXyxtPW51bGwhPT0oaD1udWxsPT1wfHxudWxsPT0oZD1wLnJlYXNvbik/dm9pZCAwOmQuZGVzY3JpcHRpb24pJiZ2b2lkIDAhPT1oP2g6bnVsbD09cHx8bnVsbD09KHY9cC5yZWFzb24pP3ZvaWQgMDp2LmNvZGU7aWYobSYmKGcuJGZlYXR1cmVfZmxhZ19yZWFzb249bSksbnVsbCE9cCYmbnVsbCE9KGM9cC5tZXRhZGF0YSkmJmMuaWQmJihnLiRmZWF0dXJlX2ZsYWdfaWQ9cC5tZXRhZGF0YS5pZCksTShudWxsPT1wP3ZvaWQgMDpwLm9yaWdpbmFsX3ZhcmlhbnQpJiZNKG51bGw9PXA/dm9pZCAwOnAub3JpZ2luYWxfZW5hYmxlZCl8fChnLiRmZWF0dXJlX2ZsYWdfb3JpZ2luYWxfcmVzcG9uc2U9TShwLm9yaWdpbmFsX3ZhcmlhbnQpP3Aub3JpZ2luYWxfZW5hYmxlZDpwLm9yaWdpbmFsX3ZhcmlhbnQpLG51bGwhPXAmJm51bGwhPShmPXAubWV0YWRhdGEpJiZmLm9yaWdpbmFsX3BheWxvYWQpZy4kZmVhdHVyZV9mbGFnX29yaWdpbmFsX3BheWxvYWQ9bnVsbD09cHx8bnVsbD09KF89cC5tZXRhZGF0YSk/dm9pZCAwOl8ub3JpZ2luYWxfcGF5bG9hZDt0aGlzLl9pbnN0YW5jZS5jYXB0dXJlKFwiJGZlYXR1cmVfZmxhZ19jYWxsZWRcIixnKX1yZXR1cm4gZX1ibi53YXJuKCdnZXRGZWF0dXJlRmxhZyBmb3Iga2V5IFwiJyt0K1wiXFxcIiBmYWlsZWQuIEZlYXR1cmUgZmxhZ3MgZGlkbid0IGxvYWQgaW4gdGltZS5cIil9Z2V0RmVhdHVyZUZsYWdEZXRhaWxzKHQpe3JldHVybiB0aGlzLmdldEZsYWdzV2l0aERldGFpbHMoKVt0XX1nZXRGZWF0dXJlRmxhZ1BheWxvYWQodCl7cmV0dXJuIHRoaXMuZ2V0RmxhZ1BheWxvYWRzKClbdF19Z2V0UmVtb3RlQ29uZmlnUGF5bG9hZCh0LGkpe3ZhciBlPXRoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbixyPXtkaXN0aW5jdF9pZDp0aGlzLl9pbnN0YW5jZS5nZXRfZGlzdGluY3RfaWQoKSx0b2tlbjplfTt0aGlzLnVpKCkmJihyLmV2YWx1YXRpb25fZW52aXJvbm1lbnRzPXRoaXMubGkoKSksdGhpcy5faW5zdGFuY2UuY2koe21ldGhvZDpcIlBPU1RcIix1cmw6dGhpcy5faW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImZsYWdzXCIsXCIvZmxhZ3MvP3Y9MiZjb25maWc9dHJ1ZVwiKSxkYXRhOnIsY29tcHJlc3Npb246dGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfY29tcHJlc3Npb24/dm9pZCAwOm9lLkJhc2U2NCx0aW1lb3V0OnRoaXMuX2luc3RhbmNlLmNvbmZpZy5mZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zLGNhbGxiYWNrOmU9Pnt2YXIgcixzPW51bGw9PShyPWUuanNvbik/dm9pZCAwOnIuZmVhdHVyZUZsYWdQYXlsb2FkcztpKChudWxsPT1zP3ZvaWQgMDpzW3RdKXx8dm9pZCAwKX19KX1pc0ZlYXR1cmVFbmFibGVkKHQsaSl7aWYodm9pZCAwPT09aSYmKGk9e30pLHRoaXMuZWl8fHRoaXMuZ2V0RmxhZ3MoKSYmdGhpcy5nZXRGbGFncygpLmxlbmd0aD4wKXt2YXIgZT10aGlzLmdldEZlYXR1cmVGbGFnKHQsaSk7cmV0dXJuIE0oZSk/dm9pZCAwOiEhZX1ibi53YXJuKCdpc0ZlYXR1cmVFbmFibGVkIGZvciBrZXkgXCInK3QrXCJcXFwiIGZhaWxlZC4gRmVhdHVyZSBmbGFncyBkaWRuJ3QgbG9hZCBpbiB0aW1lLlwiKX1hZGRGZWF0dXJlRmxhZ3NIYW5kbGVyKHQpe3RoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzLnB1c2godCl9cmVtb3ZlRmVhdHVyZUZsYWdzSGFuZGxlcih0KXt0aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycz10aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycy5maWx0ZXIoKGk9PmkhPT10KSl9cmVjZWl2ZWRGZWF0dXJlRmxhZ3ModCxpKXtpZih0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl7dGhpcy5laT0hMDt2YXIgZT10aGlzLmdldEZsYWdWYXJpYW50cygpLHI9dGhpcy5nZXRGbGFnUGF5bG9hZHMoKSxzPXRoaXMuZ2V0RmxhZ3NXaXRoRGV0YWlscygpOyFmdW5jdGlvbih0LGksZSxyLHMpe3ZvaWQgMD09PWUmJihlPXt9KSx2b2lkIDA9PT1yJiYocj17fSksdm9pZCAwPT09cyYmKHM9e30pO3ZhciBuPVRuKHQpLG89bi5mbGFncyxhPW4uZmVhdHVyZUZsYWdzLGw9bi5mZWF0dXJlRmxhZ1BheWxvYWRzO2lmKGEpe3ZhciB1PXQucmVxdWVzdElkO2lmKEkoYSkpe2JuLndhcm4oXCJ2MSBvZiB0aGUgZmVhdHVyZSBmbGFncyBlbmRwb2ludCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIHRoZSBsYXRlc3QgdmVyc2lvbi5cIik7dmFyIGg9e307aWYoYSlmb3IodmFyIGQ9MDtkPGEubGVuZ3RoO2QrKyloW2FbZF1dPSEwO2kmJmkucmVnaXN0ZXIoe1t4bl06YSxbbmldOmh9KX1lbHNle3ZhciB2PWEsYz1sLGY9bzt0LmVycm9yc1doaWxlQ29tcHV0aW5nRmxhZ3MmJih2PWcoe30sZSx2KSxjPWcoe30scixjKSxmPWcoe30scyxmKSksaSYmaS5yZWdpc3RlcihnKHtbeG5dOk9iamVjdC5rZXlzKFBuKHYpKSxbbmldOnZ8fHt9LFtFbl06Y3x8e30sW2FpXTpmfHx7fX0sdT97W2tuXTp1fTp7fSkpfX19KHQsdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UsZSxyLHMpLHRoaXMucGkoaSl9fW92ZXJyaWRlKHQsaSl7dm9pZCAwPT09aSYmKGk9ITEpLGJuLndhcm4oXCJvdmVycmlkZSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG92ZXJyaWRlRmVhdHVyZUZsYWdzIGluc3RlYWQuXCIpLHRoaXMub3ZlcnJpZGVGZWF0dXJlRmxhZ3Moe2ZsYWdzOnQsc3VwcHJlc3NXYXJuaW5nOml9KX1vdmVycmlkZUZlYXR1cmVGbGFncyh0KXtpZighdGhpcy5faW5zdGFuY2UuX19sb2FkZWR8fCF0aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSlyZXR1cm4gYm4udW5pbml0aWFsaXplZFdhcm5pbmcoXCJwb3N0aG9nLmZlYXR1cmVGbGFncy5vdmVycmlkZUZlYXR1cmVGbGFnc1wiKTtpZighMT09PXQpcmV0dXJuIHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIoU24pLHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIoJG4pLHRoaXMucGkoKSx3bi5pbmZvKFwiQWxsIG92ZXJyaWRlcyBjbGVhcmVkXCIpO2lmKHQmJlwib2JqZWN0XCI9PXR5cGVvZiB0JiYoXCJmbGFnc1wiaW4gdHx8XCJwYXlsb2Fkc1wiaW4gdCkpe3ZhciBpLGU9dDtpZih0aGlzLmlpPUJvb2xlYW4obnVsbCE9PShpPWUuc3VwcHJlc3NXYXJuaW5nKSYmdm9pZCAwIT09aSYmaSksXCJmbGFnc1wiaW4gZSlpZighMT09PWUuZmxhZ3MpdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UudW5yZWdpc3RlcihTbiksd24uaW5mbyhcIkZsYWcgb3ZlcnJpZGVzIGNsZWFyZWRcIik7ZWxzZSBpZihlLmZsYWdzKXtpZihJKGUuZmxhZ3MpKXtmb3IodmFyIHI9e30scz0wO3M8ZS5mbGFncy5sZW5ndGg7cysrKXJbZS5mbGFnc1tzXV09ITA7dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tTbl06cn0pfWVsc2UgdGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tTbl06ZS5mbGFnc30pO3duLmluZm8oXCJGbGFnIG92ZXJyaWRlcyBzZXRcIix7ZmxhZ3M6ZS5mbGFnc30pfXJldHVyblwicGF5bG9hZHNcImluIGUmJighMT09PWUucGF5bG9hZHM/KHRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIoJG4pLHduLmluZm8oXCJQYXlsb2FkIG92ZXJyaWRlcyBjbGVhcmVkXCIpKTplLnBheWxvYWRzJiYodGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1skbl06ZS5wYXlsb2Fkc30pLHduLmluZm8oXCJQYXlsb2FkIG92ZXJyaWRlcyBzZXRcIix7cGF5bG9hZHM6ZS5wYXlsb2Fkc30pKSksdm9pZCB0aGlzLnBpKCl9dGhpcy5waSgpfW9uRmVhdHVyZUZsYWdzKHQpe2lmKHRoaXMuYWRkRmVhdHVyZUZsYWdzSGFuZGxlcih0KSx0aGlzLmVpKXt2YXJ7ZmxhZ3M6aSxmbGFnVmFyaWFudHM6ZX09dGhpcy5naSgpO3QoaSxlKX1yZXR1cm4oKT0+dGhpcy5yZW1vdmVGZWF0dXJlRmxhZ3NIYW5kbGVyKHQpfXVwZGF0ZUVhcmx5QWNjZXNzRmVhdHVyZUVucm9sbG1lbnQodCxpLGUpe3ZhciByLHM9KHRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShvaSl8fFtdKS5maW5kKChpPT5pLmZsYWdLZXk9PT10KSksbj17W1wiJGZlYXR1cmVfZW5yb2xsbWVudC9cIit0XTppfSxvPXskZmVhdHVyZV9mbGFnOnQsJGZlYXR1cmVfZW5yb2xsbWVudDppLCRzZXQ6bn07cyYmKG8uJGVhcmx5X2FjY2Vzc19mZWF0dXJlX25hbWU9cy5uYW1lKSxlJiYoby4kZmVhdHVyZV9lbnJvbGxtZW50X3N0YWdlPWUpLHRoaXMuX2luc3RhbmNlLmNhcHR1cmUoXCIkZmVhdHVyZV9lbnJvbGxtZW50X3VwZGF0ZVwiLG8pLHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKG4sITEpO3ZhciBhPWcoe30sdGhpcy5nZXRGbGFnVmFyaWFudHMoKSx7W3RdOml9KTtudWxsPT0ocj10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHIucmVnaXN0ZXIoe1t4bl06T2JqZWN0LmtleXMoUG4oYSkpLFtuaV06YX0pLHRoaXMucGkoKX1nZXRFYXJseUFjY2Vzc0ZlYXR1cmVzKHQsaSxlKXt2b2lkIDA9PT1pJiYoaT0hMSk7dmFyIHI9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KG9pKSxzPWU/XCImXCIrZS5tYXAoKHQ9Plwic3RhZ2U9XCIrdCkpLmpvaW4oXCImXCIpOlwiXCI7aWYociYmIWkpcmV0dXJuIHQocik7dGhpcy5faW5zdGFuY2UuY2koe3VybDp0aGlzLl9pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsXCIvYXBpL2Vhcmx5X2FjY2Vzc19mZWF0dXJlcy8/dG9rZW49XCIrdGhpcy5faW5zdGFuY2UuY29uZmlnLnRva2VuK3MpLG1ldGhvZDpcIkdFVFwiLGNhbGxiYWNrOmk9Pnt2YXIgZSxyO2lmKGkuanNvbil7dmFyIHM9aS5qc29uLmVhcmx5QWNjZXNzRmVhdHVyZXM7cmV0dXJuIG51bGw9PShlPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXx8ZS51bnJlZ2lzdGVyKG9pKSxudWxsPT0ocj10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHIucmVnaXN0ZXIoe1tvaV06c30pLHQocyl9fX0pfWdpKCl7dmFyIHQ9dGhpcy5nZXRGbGFncygpLGk9dGhpcy5nZXRGbGFnVmFyaWFudHMoKTtyZXR1cm57ZmxhZ3M6dC5maWx0ZXIoKHQ9PmlbdF0pKSxmbGFnVmFyaWFudHM6T2JqZWN0LmtleXMoaSkuZmlsdGVyKCh0PT5pW3RdKSkucmVkdWNlKCgodCxlKT0+KHRbZV09aVtlXSx0KSkse30pfX1waSh0KXt2YXJ7ZmxhZ3M6aSxmbGFnVmFyaWFudHM6ZX09dGhpcy5naSgpO3RoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzLmZvckVhY2goKHI9PnIoaSxlLHtlcnJvcnNMb2FkaW5nOnR9KSkpfXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyh0LGkpe3ZvaWQgMD09PWkmJihpPSEwKTt2YXIgZT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkobGkpfHx7fTt0aGlzLl9pbnN0YW5jZS5yZWdpc3Rlcih7W2xpXTpnKHt9LGUsdCl9KSxpJiZ0aGlzLl9pbnN0YW5jZS5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1yZXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncygpe3RoaXMuX2luc3RhbmNlLnVucmVnaXN0ZXIobGkpfXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKHQsaSl7dm9pZCAwPT09aSYmKGk9ITApO3ZhciBlPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eSh1aSl8fHt9OzAhPT1PYmplY3Qua2V5cyhlKS5sZW5ndGgmJk9iamVjdC5rZXlzKGUpLmZvckVhY2goKGk9PntlW2ldPWcoe30sZVtpXSx0W2ldKSxkZWxldGUgdFtpXX0pKSx0aGlzLl9pbnN0YW5jZS5yZWdpc3Rlcih7W3VpXTpnKHt9LGUsdCl9KSxpJiZ0aGlzLl9pbnN0YW5jZS5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKHQpe2lmKHQpe3ZhciBpPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eSh1aSl8fHt9O3RoaXMuX2luc3RhbmNlLnJlZ2lzdGVyKHtbdWldOmcoe30saSx7W3RdOnt9fSl9KX1lbHNlIHRoaXMuX2luc3RhbmNlLnVucmVnaXN0ZXIodWkpfXJlc2V0KCl7dGhpcy5laT0hMSx0aGlzLnJpPSExLHRoaXMuc2k9ITEsdGhpcy5uaT0hMSx0aGlzLm9pPSExLHRoaXMuYWk9ITEsdGhpcy4kYW5vbl9kaXN0aW5jdF9pZD12b2lkIDAsdGhpcy52aSgpLHRoaXMuaWk9ITF9fXZhciBGbj1bXCJjb29raWVcIixcImxvY2Fsc3RvcmFnZVwiLFwibG9jYWxzdG9yYWdlK2Nvb2tpZVwiLFwic2Vzc2lvbnN0b3JhZ2VcIixcIm1lbW9yeVwiXTtjbGFzcyBDbntjb25zdHJ1Y3Rvcih0LGkpe3RoaXMuRj10LHRoaXMucHJvcHM9e30sdGhpcy5taT0hMSx0aGlzLnlpPSh0PT57dmFyIGk9XCJcIjtyZXR1cm4gdC50b2tlbiYmKGk9dC50b2tlbi5yZXBsYWNlKC9cXCsvZyxcIlBMXCIpLnJlcGxhY2UoL1xcLy9nLFwiU0xcIikucmVwbGFjZSgvPS9nLFwiRVFcIikpLHQucGVyc2lzdGVuY2VfbmFtZT9cInBoX1wiK3QucGVyc2lzdGVuY2VfbmFtZTpcInBoX1wiK2krXCJfcG9zdGhvZ1wifSkodCksdGhpcy5ZPXRoaXMuYmkodCksdGhpcy5sb2FkKCksdC5kZWJ1ZyYmUHQuaW5mbyhcIlBlcnNpc3RlbmNlIGxvYWRlZFwiLHQucGVyc2lzdGVuY2UsZyh7fSx0aGlzLnByb3BzKSksdGhpcy51cGRhdGVfY29uZmlnKHQsdCxpKSx0aGlzLnNhdmUoKX1pc0Rpc2FibGVkKCl7cmV0dXJuISF0aGlzLndpfWJpKHQpey0xPT09Rm4uaW5kZXhPZih0LnBlcnNpc3RlbmNlLnRvTG93ZXJDYXNlKCkpJiYoUHQuY3JpdGljYWwoXCJVbmtub3duIHBlcnNpc3RlbmNlIHR5cGUgXCIrdC5wZXJzaXN0ZW5jZStcIjsgZmFsbGluZyBiYWNrIHRvIGxvY2FsU3RvcmFnZStjb29raWVcIiksdC5wZXJzaXN0ZW5jZT1cImxvY2FsU3RvcmFnZStjb29raWVcIik7dmFyIGk9dC5wZXJzaXN0ZW5jZS50b0xvd2VyQ2FzZSgpO3JldHVyblwibG9jYWxzdG9yYWdlXCI9PT1pJiZDZS5IKCk/Q2U6XCJsb2NhbHN0b3JhZ2UrY29va2llXCI9PT1pJiZPZS5IKCk/T2U6XCJzZXNzaW9uc3RvcmFnZVwiPT09aSYmTGUuSCgpP0xlOlwibWVtb3J5XCI9PT1pP0RlOlwiY29va2llXCI9PT1pP1JlOk9lLkgoKT9PZTpSZX1wcm9wZXJ0aWVzKCl7dmFyIHQ9e307cmV0dXJuIE10KHRoaXMucHJvcHMsKGZ1bmN0aW9uKGksZSl7aWYoZT09PW5pJiZGKGkpKWZvcih2YXIgcj1PYmplY3Qua2V5cyhpKSxuPTA7bjxyLmxlbmd0aDtuKyspdFtcIiRmZWF0dXJlL1wiK3Jbbl1dPWlbcltuXV07ZWxzZSBhPWUsbD0hMSwoRChvPXhpKT9sOnMmJm8uaW5kZXhPZj09PXM/LTEhPW8uaW5kZXhPZihhKTooTXQobywoZnVuY3Rpb24odCl7aWYobHx8KGw9dD09PWEpKXJldHVybiBGdH0pKSxsKSl8fCh0W2VdPWkpO3ZhciBvLGEsbH0pKSx0fWxvYWQoKXtpZighdGhpcy53aSl7dmFyIHQ9dGhpcy5ZLlcodGhpcy55aSk7dCYmKHRoaXMucHJvcHM9T3Qoe30sdCkpfX1zYXZlKCl7dGhpcy53aXx8dGhpcy5ZLkcodGhpcy55aSx0aGlzLnByb3BzLHRoaXMueGksdGhpcy5TaSx0aGlzLkVpLHRoaXMuRi5kZWJ1Zyl9cmVtb3ZlKCl7dGhpcy5ZLlYodGhpcy55aSwhMSksdGhpcy5ZLlYodGhpcy55aSwhMCl9Y2xlYXIoKXt0aGlzLnJlbW92ZSgpLHRoaXMucHJvcHM9e319cmVnaXN0ZXJfb25jZSh0LGksZSl7aWYoRih0KSl7TShpKSYmKGk9XCJOb25lXCIpLHRoaXMueGk9TShlKT90aGlzLiRpOmU7dmFyIHI9ITE7aWYoTXQodCwoKHQsZSk9Pnt0aGlzLnByb3BzLmhhc093blByb3BlcnR5KGUpJiZ0aGlzLnByb3BzW2VdIT09aXx8KHRoaXMucHJvcHNbZV09dCxyPSEwKX0pKSxyKXJldHVybiB0aGlzLnNhdmUoKSwhMH1yZXR1cm4hMX1yZWdpc3Rlcih0LGkpe2lmKEYodCkpe3RoaXMueGk9TShpKT90aGlzLiRpOmk7dmFyIGU9ITE7aWYoTXQodCwoKGkscik9Pnt0Lmhhc093blByb3BlcnR5KHIpJiZ0aGlzLnByb3BzW3JdIT09aSYmKHRoaXMucHJvcHNbcl09aSxlPSEwKX0pKSxlKXJldHVybiB0aGlzLnNhdmUoKSwhMH1yZXR1cm4hMX11bnJlZ2lzdGVyKHQpe3QgaW4gdGhpcy5wcm9wcyYmKGRlbGV0ZSB0aGlzLnByb3BzW3RdLHRoaXMuc2F2ZSgpKX11cGRhdGVfY2FtcGFpZ25fcGFyYW1zKCl7aWYoIXRoaXMubWkpe3ZhciB0PWxzKHRoaXMuRi5jdXN0b21fY2FtcGFpZ25fcGFyYW1zLHRoaXMuRi5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyx0aGlzLkYuY3VzdG9tX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyk7QyhOdCh0KSl8fHRoaXMucmVnaXN0ZXIodCksdGhpcy5taT0hMH19dXBkYXRlX3NlYXJjaF9rZXl3b3JkKCl7dmFyIHQ7dGhpcy5yZWdpc3RlcigodD1udWxsPT1vP3ZvaWQgMDpvLnJlZmVycmVyKT9ocyh0KTp7fSl9dXBkYXRlX3JlZmVycmVyX2luZm8oKXt2YXIgdDt0aGlzLnJlZ2lzdGVyX29uY2UoeyRyZWZlcnJlcjp2cygpLCRyZWZlcnJpbmdfZG9tYWluOm51bGwhPW8mJm8ucmVmZXJyZXImJihudWxsPT0odD1sZShvLnJlZmVycmVyKSk/dm9pZCAwOnQuaG9zdCl8fFwiJGRpcmVjdFwifSx2b2lkIDApfXNldF9pbml0aWFsX3BlcnNvbl9pbmZvKCl7dGhpcy5wcm9wc1tnaV18fHRoaXMucHJvcHNbX2ldfHx0aGlzLnJlZ2lzdGVyX29uY2Uoe1ttaV06Y3ModGhpcy5GLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLHRoaXMuRi5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzKX0sdm9pZCAwKX1nZXRfaW5pdGlhbF9wcm9wcygpe3ZhciB0PXt9O010KFtfaSxnaV0sKGk9Pnt2YXIgZT10aGlzLnByb3BzW2ldO2UmJk10KGUsKGZ1bmN0aW9uKGksZSl7dFtcIiRpbml0aWFsX1wiK1MoZSldPWl9KSl9KSk7dmFyIGksZSxyPXRoaXMucHJvcHNbbWldO2lmKHIpe3ZhciBzPShpPWZzKHIpLGU9e30sTXQoaSwoZnVuY3Rpb24odCxpKXtlW1wiJGluaXRpYWxfXCIrUyhpKV09dH0pKSxlKTtPdCh0LHMpfXJldHVybiB0fXNhZmVfbWVyZ2UodCl7cmV0dXJuIE10KHRoaXMucHJvcHMsKGZ1bmN0aW9uKGksZSl7ZSBpbiB0fHwodFtlXT1pKX0pKSx0fXVwZGF0ZV9jb25maWcodCxpLGUpe2lmKHRoaXMuJGk9dGhpcy54aT10LmNvb2tpZV9leHBpcmF0aW9uLHRoaXMuc2V0X2Rpc2FibGVkKHQuZGlzYWJsZV9wZXJzaXN0ZW5jZXx8ISFlKSx0aGlzLnNldF9jcm9zc19zdWJkb21haW4odC5jcm9zc19zdWJkb21haW5fY29va2llKSx0aGlzLnNldF9zZWN1cmUodC5zZWN1cmVfY29va2llKSx0LnBlcnNpc3RlbmNlIT09aS5wZXJzaXN0ZW5jZSl7dmFyIHI9dGhpcy5iaSh0KSxzPXRoaXMucHJvcHM7dGhpcy5jbGVhcigpLHRoaXMuWT1yLHRoaXMucHJvcHM9cyx0aGlzLnNhdmUoKX19c2V0X2Rpc2FibGVkKHQpe3RoaXMud2k9dCx0aGlzLndpP3RoaXMucmVtb3ZlKCk6dGhpcy5zYXZlKCl9c2V0X2Nyb3NzX3N1YmRvbWFpbih0KXt0IT09dGhpcy5TaSYmKHRoaXMuU2k9dCx0aGlzLnJlbW92ZSgpLHRoaXMuc2F2ZSgpKX1zZXRfc2VjdXJlKHQpe3QhPT10aGlzLkVpJiYodGhpcy5FaT10LHRoaXMucmVtb3ZlKCksdGhpcy5zYXZlKCkpfXNldF9ldmVudF90aW1lcih0LGkpe3ZhciBlPXRoaXMucHJvcHNbVnRdfHx7fTtlW3RdPWksdGhpcy5wcm9wc1tWdF09ZSx0aGlzLnNhdmUoKX1yZW1vdmVfZXZlbnRfdGltZXIodCl7dmFyIGk9KHRoaXMucHJvcHNbVnRdfHx7fSlbdF07cmV0dXJuIE0oaSl8fChkZWxldGUgdGhpcy5wcm9wc1tWdF1bdF0sdGhpcy5zYXZlKCkpLGl9Z2V0X3Byb3BlcnR5KHQpe3JldHVybiB0aGlzLnByb3BzW3RdfXNldF9wcm9wZXJ0eSh0LGkpe3RoaXMucHJvcHNbdF09aSx0aGlzLnNhdmUoKX19dmFyIE1uPWZ1bmN0aW9uKHQpe3JldHVybiB0LkFjdGl2YXRpb249XCJldmVudHNcIix0LkNhbmNlbGxhdGlvbj1cImNhbmNlbEV2ZW50c1wiLHR9KHt9KSxPbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5CdXR0b249XCJidXR0b25cIix0LlRhYj1cInRhYlwiLHQuU2VsZWN0b3I9XCJzZWxlY3RvclwiLHR9KHt9KSxBbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5Ub3BMZWZ0PVwidG9wX2xlZnRcIix0LlRvcFJpZ2h0PVwidG9wX3JpZ2h0XCIsdC5Ub3BDZW50ZXI9XCJ0b3BfY2VudGVyXCIsdC5NaWRkbGVMZWZ0PVwibWlkZGxlX2xlZnRcIix0Lk1pZGRsZVJpZ2h0PVwibWlkZGxlX3JpZ2h0XCIsdC5NaWRkbGVDZW50ZXI9XCJtaWRkbGVfY2VudGVyXCIsdC5MZWZ0PVwibGVmdFwiLHQuQ2VudGVyPVwiY2VudGVyXCIsdC5SaWdodD1cInJpZ2h0XCIsdC5OZXh0VG9UcmlnZ2VyPVwibmV4dF90b190cmlnZ2VyXCIsdH0oe30pLERuPWZ1bmN0aW9uKHQpe3JldHVybiB0LlRvcD1cInRvcFwiLHQuTGVmdD1cImxlZnRcIix0LlJpZ2h0PVwicmlnaHRcIix0LkJvdHRvbT1cImJvdHRvbVwiLHR9KHt9KSxqbj1mdW5jdGlvbih0KXtyZXR1cm4gdC5Qb3BvdmVyPVwicG9wb3ZlclwiLHQuQVBJPVwiYXBpXCIsdC5XaWRnZXQ9XCJ3aWRnZXRcIix0LkV4dGVybmFsU3VydmV5PVwiZXh0ZXJuYWxfc3VydmV5XCIsdH0oe30pLExuPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk9wZW49XCJvcGVuXCIsdC5NdWx0aXBsZUNob2ljZT1cIm11bHRpcGxlX2Nob2ljZVwiLHQuU2luZ2xlQ2hvaWNlPVwic2luZ2xlX2Nob2ljZVwiLHQuUmF0aW5nPVwicmF0aW5nXCIsdC5MaW5rPVwibGlua1wiLHR9KHt9KSxObj1mdW5jdGlvbih0KXtyZXR1cm4gdC5OZXh0UXVlc3Rpb249XCJuZXh0X3F1ZXN0aW9uXCIsdC5FbmQ9XCJlbmRcIix0LlJlc3BvbnNlQmFzZWQ9XCJyZXNwb25zZV9iYXNlZFwiLHQuU3BlY2lmaWNRdWVzdGlvbj1cInNwZWNpZmljX3F1ZXN0aW9uXCIsdH0oe30pLFVuPWZ1bmN0aW9uKHQpe3JldHVybiB0Lk9uY2U9XCJvbmNlXCIsdC5SZWN1cnJpbmc9XCJyZWN1cnJpbmdcIix0LkFsd2F5cz1cImFsd2F5c1wiLHR9KHt9KSx6bj1mdW5jdGlvbih0KXtyZXR1cm4gdC5TSE9XTj1cInN1cnZleSBzaG93blwiLHQuRElTTUlTU0VEPVwic3VydmV5IGRpc21pc3NlZFwiLHQuU0VOVD1cInN1cnZleSBzZW50XCIsdH0oe30pLEhuPWZ1bmN0aW9uKHQpe3JldHVybiB0LlNVUlZFWV9JRD1cIiRzdXJ2ZXlfaWRcIix0LlNVUlZFWV9OQU1FPVwiJHN1cnZleV9uYW1lXCIsdC5TVVJWRVlfUkVTUE9OU0U9XCIkc3VydmV5X3Jlc3BvbnNlXCIsdC5TVVJWRVlfSVRFUkFUSU9OPVwiJHN1cnZleV9pdGVyYXRpb25cIix0LlNVUlZFWV9JVEVSQVRJT05fU1RBUlRfREFURT1cIiRzdXJ2ZXlfaXRlcmF0aW9uX3N0YXJ0X2RhdGVcIix0LlNVUlZFWV9QQVJUSUFMTFlfQ09NUExFVEVEPVwiJHN1cnZleV9wYXJ0aWFsbHlfY29tcGxldGVkXCIsdC5TVVJWRVlfU1VCTUlTU0lPTl9JRD1cIiRzdXJ2ZXlfc3VibWlzc2lvbl9pZFwiLHQuU1VSVkVZX1FVRVNUSU9OUz1cIiRzdXJ2ZXlfcXVlc3Rpb25zXCIsdC5TVVJWRVlfQ09NUExFVEVEPVwiJHN1cnZleV9jb21wbGV0ZWRcIix0fSh7fSksQm49ZnVuY3Rpb24odCl7cmV0dXJuIHQuUG9wb3Zlcj1cInBvcG92ZXJcIix0LklubGluZT1cImlubGluZVwiLHR9KHt9KTtjbGFzcyBxbntjb25zdHJ1Y3Rvcigpe3RoaXMua2k9e30sdGhpcy5raT17fX1vbih0LGkpe3JldHVybiB0aGlzLmtpW3RdfHwodGhpcy5raVt0XT1bXSksdGhpcy5raVt0XS5wdXNoKGkpLCgpPT57dGhpcy5raVt0XT10aGlzLmtpW3RdLmZpbHRlcigodD0+dCE9PWkpKX19ZW1pdCh0LGkpe2Zvcih2YXIgZSBvZiB0aGlzLmtpW3RdfHxbXSllKGkpO2Zvcih2YXIgciBvZiB0aGlzLmtpW1wiKlwiXXx8W10pcih0LGkpfX1jbGFzcyBXbntjb25zdHJ1Y3Rvcih0KXt0aGlzLlBpPW5ldyBxbix0aGlzLlRpPSh0LGkpPT50aGlzLklpKHQsaSkmJnRoaXMuUmkodCxpKSYmdGhpcy5GaSh0LGkpJiZ0aGlzLkNpKHQsaSksdGhpcy5JaT0odCxpKT0+bnVsbD09aXx8IWkuZXZlbnR8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KT09PShudWxsPT1pP3ZvaWQgMDppLmV2ZW50KSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuTWk9bmV3IFNldCx0aGlzLk9pPW5ldyBTZXR9aW5pdCgpe3ZhciB0O2lmKCFNKG51bGw9PSh0PXRoaXMuX2luc3RhbmNlKT92b2lkIDA6dC5BaSkpe3ZhciBpO251bGw9PShpPXRoaXMuX2luc3RhbmNlKXx8aS5BaSgoKHQsaSk9Pnt0aGlzLm9uKHQsaSl9KSl9fXJlZ2lzdGVyKHQpe3ZhciBpLGU7aWYoIU0obnVsbD09KGk9dGhpcy5faW5zdGFuY2UpP3ZvaWQgMDppLkFpKSYmKHQuZm9yRWFjaCgodD0+e3ZhciBpLGU7bnVsbD09KGk9dGhpcy5PaSl8fGkuYWRkKHQpLG51bGw9PShlPXQuc3RlcHMpfHxlLmZvckVhY2goKHQ9Pnt2YXIgaTtudWxsPT0oaT10aGlzLk1pKXx8aS5hZGQoKG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpfHxcIlwiKX0pKX0pKSxudWxsIT0oZT10aGlzLl9pbnN0YW5jZSkmJmUuYXV0b2NhcHR1cmUpKXt2YXIgcixzPW5ldyBTZXQ7dC5mb3JFYWNoKCh0PT57dmFyIGk7bnVsbD09KGk9dC5zdGVwcyl8fGkuZm9yRWFjaCgodD0+e251bGwhPXQmJnQuc2VsZWN0b3ImJnMuYWRkKG51bGw9PXQ/dm9pZCAwOnQuc2VsZWN0b3IpfSkpfSkpLG51bGw9PShyPXRoaXMuX2luc3RhbmNlKXx8ci5hdXRvY2FwdHVyZS5zZXRFbGVtZW50U2VsZWN0b3JzKHMpfX1vbih0LGkpe3ZhciBlO251bGwhPWkmJjAhPXQubGVuZ3RoJiYodGhpcy5NaS5oYXModCl8fHRoaXMuTWkuaGFzKG51bGw9PWk/dm9pZCAwOmkuZXZlbnQpKSYmdGhpcy5PaSYmKG51bGw9PShlPXRoaXMuT2kpP3ZvaWQgMDplLnNpemUpPjAmJnRoaXMuT2kuZm9yRWFjaCgodD0+e3RoaXMuRGkoaSx0KSYmdGhpcy5QaS5lbWl0KFwiYWN0aW9uQ2FwdHVyZWRcIix0Lm5hbWUpfSkpfWppKHQpe3RoaXMub25BY3Rpb24oXCJhY3Rpb25DYXB0dXJlZFwiLChpPT50KGkpKSl9RGkodCxpKXtpZihudWxsPT0obnVsbD09aT92b2lkIDA6aS5zdGVwcykpcmV0dXJuITE7Zm9yKHZhciBlIG9mIGkuc3RlcHMpaWYodGhpcy5UaSh0LGUpKXJldHVybiEwO3JldHVybiExfW9uQWN0aW9uKHQsaSl7cmV0dXJuIHRoaXMuUGkub24odCxpKX1SaSh0LGkpe2lmKG51bGwhPWkmJmkudXJsKXt2YXIgZSxyPW51bGw9PXR8fG51bGw9PShlPXQucHJvcGVydGllcyk/dm9pZCAwOmUuJGN1cnJlbnRfdXJsO2lmKCFyfHxcInN0cmluZ1wiIT10eXBlb2YgcilyZXR1cm4hMTtpZighV24uTGkocixudWxsPT1pP3ZvaWQgMDppLnVybCwobnVsbD09aT92b2lkIDA6aS51cmxfbWF0Y2hpbmcpfHxcImNvbnRhaW5zXCIpKXJldHVybiExfXJldHVybiEwfXN0YXRpYyBMaShpLGUscil7c3dpdGNoKHIpe2Nhc2VcInJlZ2V4XCI6cmV0dXJuISF0JiZjbihpLGUpO2Nhc2VcImV4YWN0XCI6cmV0dXJuIGU9PT1pO2Nhc2VcImNvbnRhaW5zXCI6dmFyIHM9V24uTmkoZSkucmVwbGFjZSgvXy9nLFwiLlwiKS5yZXBsYWNlKC8lL2csXCIuKlwiKTtyZXR1cm4gY24oaSxzKTtkZWZhdWx0OnJldHVybiExfX1zdGF0aWMgTmkodCl7cmV0dXJuIHQucmVwbGFjZSgvW3xcXFxce30oKVtcXF1eJCsqPy5dL2csXCJcXFxcJCZcIikucmVwbGFjZSgvLS9nLFwiXFxcXHgyZFwiKX1GaSh0LGkpe2lmKChudWxsIT1pJiZpLmhyZWZ8fG51bGwhPWkmJmkudGFnX25hbWV8fG51bGwhPWkmJmkudGV4dCkmJiF0aGlzLlVpKHQpLnNvbWUoKHQ9PiEobnVsbCE9aSYmaS5ocmVmJiYhV24uTGkodC5ocmVmfHxcIlwiLG51bGw9PWk/dm9pZCAwOmkuaHJlZiwobnVsbD09aT92b2lkIDA6aS5ocmVmX21hdGNoaW5nKXx8XCJleGFjdFwiKSkmJigobnVsbD09aXx8IWkudGFnX25hbWV8fHQudGFnX25hbWU9PT0obnVsbD09aT92b2lkIDA6aS50YWdfbmFtZSkpJiYhKG51bGwhPWkmJmkudGV4dCYmIVduLkxpKHQudGV4dHx8XCJcIixudWxsPT1pP3ZvaWQgMDppLnRleHQsKG51bGw9PWk/dm9pZCAwOmkudGV4dF9tYXRjaGluZyl8fFwiZXhhY3RcIikmJiFXbi5MaSh0LiRlbF90ZXh0fHxcIlwiLG51bGw9PWk/dm9pZCAwOmkudGV4dCwobnVsbD09aT92b2lkIDA6aS50ZXh0X21hdGNoaW5nKXx8XCJleGFjdFwiKSkpKSkpcmV0dXJuITE7aWYobnVsbCE9aSYmaS5zZWxlY3Rvcil7dmFyIGUscj1udWxsPT10fHxudWxsPT0oZT10LnByb3BlcnRpZXMpP3ZvaWQgMDplLiRlbGVtZW50X3NlbGVjdG9ycztpZighcilyZXR1cm4hMTtpZighci5pbmNsdWRlcyhudWxsPT1pP3ZvaWQgMDppLnNlbGVjdG9yKSlyZXR1cm4hMX1yZXR1cm4hMH1VaSh0KXtyZXR1cm4gbnVsbD09KG51bGw9PXQ/dm9pZCAwOnQucHJvcGVydGllcy4kZWxlbWVudHMpP1tdOm51bGw9PXQ/dm9pZCAwOnQucHJvcGVydGllcy4kZWxlbWVudHN9Q2kodCxpKXtyZXR1cm4gbnVsbD09aXx8IWkucHJvcGVydGllc3x8MD09PWkucHJvcGVydGllcy5sZW5ndGh8fF9uKGkucHJvcGVydGllcy5yZWR1Y2UoKCh0LGkpPT57dmFyIGU9SShpLnZhbHVlKT9pLnZhbHVlLm1hcChTdHJpbmcpOm51bGwhPWkudmFsdWU/W1N0cmluZyhpLnZhbHVlKV06W107cmV0dXJuIHRbaS5rZXldPXt2YWx1ZXM6ZSxvcGVyYXRvcjppLm9wZXJhdG9yfHxcImV4YWN0XCJ9LHR9KSx7fSksbnVsbD09dD92b2lkIDA6dC5wcm9wZXJ0aWVzKX19dmFyIEduPVR0KFwiW1N1cnZleXNdXCIpO3ZhciBWbj1cInNlZW5TdXJ2ZXlfXCIsSm49KHQsaSk9Pnt2YXIgZT1cIiRzdXJ2ZXlfXCIraStcIi9cIit0LmlkO3JldHVybiB0LmN1cnJlbnRfaXRlcmF0aW9uJiZ0LmN1cnJlbnRfaXRlcmF0aW9uPjAmJihlPVwiJHN1cnZleV9cIitpK1wiL1wiK3QuaWQrXCIvXCIrdC5jdXJyZW50X2l0ZXJhdGlvbiksZX0sS249dD0+e3ZhciBpPVwiXCIrVm4rdC5pZDtyZXR1cm4gdC5jdXJyZW50X2l0ZXJhdGlvbiYmdC5jdXJyZW50X2l0ZXJhdGlvbj4wJiYoaT1cIlwiK1ZuK3QuaWQrXCJfXCIrdC5jdXJyZW50X2l0ZXJhdGlvbiksaX0sWW49W2puLlBvcG92ZXIsam4uV2lkZ2V0LGpuLkFQSV0sWG49e2lnbm9yZUNvbmRpdGlvbnM6ITEsaWdub3JlRGVsYXk6ITEsZGlzcGxheVR5cGU6Qm4uUG9wb3Zlcn07Y2xhc3MgUW57Y29uc3RydWN0b3IodCl7dGhpcy5faW5zdGFuY2U9dCx0aGlzLnppPW5ldyBNYXAsdGhpcy5IaT1uZXcgTWFwLHRoaXMuQmk9bmV3IE1hcH1xaSh0LGkpe3JldHVybiEhdCYmX24odC5wcm9wZXJ0eUZpbHRlcnMsbnVsbD09aT92b2lkIDA6aS5wcm9wZXJ0aWVzKX1XaSh0LGkpe3ZhciBlPW5ldyBNYXA7cmV0dXJuIHQuZm9yRWFjaCgodD0+e3ZhciByO251bGw9PShyPXQuY29uZGl0aW9ucyl8fG51bGw9PShyPXJbaV0pfHxudWxsPT0ocj1yLnZhbHVlcyl8fHIuZm9yRWFjaCgoaT0+e2lmKG51bGwhPWkmJmkubmFtZSl7dmFyIHI9ZS5nZXQoaS5uYW1lKXx8W107ci5wdXNoKHQuaWQpLGUuc2V0KGkubmFtZSxyKX19KSl9KSksZX1HaSh0LGksZSl7dmFyIHIscz0oZT09PU1uLkFjdGl2YXRpb24/dGhpcy56aTp0aGlzLkhpKS5nZXQodCksbj1bXTtyZXR1cm4gbnVsbD09KHI9dGhpcy5faW5zdGFuY2UpfHxyLmdldFN1cnZleXMoKHQ9PntuPXQuZmlsdGVyKCh0PT5udWxsPT1zP3ZvaWQgMDpzLmluY2x1ZGVzKHQuaWQpKSl9KSksbi5maWx0ZXIoKHI9Pnt2YXIgcyxuPW51bGw9PShzPXIuY29uZGl0aW9ucyl8fG51bGw9PShzPXNbZV0pfHxudWxsPT0ocz1zLnZhbHVlcyk/dm9pZCAwOnMuZmluZCgoaT0+aS5uYW1lPT09dCkpO3JldHVybiB0aGlzLnFpKG4saSl9KSl9cmVnaXN0ZXIodCl7dmFyIGk7TShudWxsPT0oaT10aGlzLl9pbnN0YW5jZSk/dm9pZCAwOmkuQWkpfHwodGhpcy5WaSh0KSx0aGlzLkppKHQpKX1KaSh0KXt2YXIgaT10LmZpbHRlcigodD0+e3ZhciBpLGU7cmV0dXJuKG51bGw9PShpPXQuY29uZGl0aW9ucyk/dm9pZCAwOmkuYWN0aW9ucykmJihudWxsPT0oZT10LmNvbmRpdGlvbnMpfHxudWxsPT0oZT1lLmFjdGlvbnMpfHxudWxsPT0oZT1lLnZhbHVlcyk/dm9pZCAwOmUubGVuZ3RoKT4wfSkpO2lmKDAhPT1pLmxlbmd0aCl7aWYobnVsbD09dGhpcy5LaSl7dGhpcy5LaT1uZXcgV24odGhpcy5faW5zdGFuY2UpLHRoaXMuS2kuaW5pdCgpO3RoaXMuS2kuamkoKHQ9Pnt0aGlzLm9uQWN0aW9uKHQpfSkpfWkuZm9yRWFjaCgodD0+e3ZhciBpLGUscixzLG47dC5jb25kaXRpb25zJiZudWxsIT0oaT10LmNvbmRpdGlvbnMpJiZpLmFjdGlvbnMmJm51bGwhPShlPXQuY29uZGl0aW9ucykmJm51bGwhPShlPWUuYWN0aW9ucykmJmUudmFsdWVzJiYobnVsbD09KHI9dC5jb25kaXRpb25zKXx8bnVsbD09KHI9ci5hY3Rpb25zKXx8bnVsbD09KHI9ci52YWx1ZXMpP3ZvaWQgMDpyLmxlbmd0aCk+MCYmKG51bGw9PShzPXRoaXMuS2kpfHxzLnJlZ2lzdGVyKHQuY29uZGl0aW9ucy5hY3Rpb25zLnZhbHVlcyksbnVsbD09KG49dC5jb25kaXRpb25zKXx8bnVsbD09KG49bi5hY3Rpb25zKXx8bnVsbD09KG49bi52YWx1ZXMpfHxuLmZvckVhY2goKGk9PntpZihpJiZpLm5hbWUpe3ZhciBlPXRoaXMuQmkuZ2V0KGkubmFtZSk7ZSYmZS5wdXNoKHQuaWQpLHRoaXMuQmkuc2V0KGkubmFtZSxlfHxbdC5pZF0pfX0pKSl9KSl9fVZpKHQpe3ZhciBpLGU9dC5maWx0ZXIoKHQ9Pnt2YXIgaSxlO3JldHVybihudWxsPT0oaT10LmNvbmRpdGlvbnMpP3ZvaWQgMDppLmV2ZW50cykmJihudWxsPT0oZT10LmNvbmRpdGlvbnMpfHxudWxsPT0oZT1lLmV2ZW50cyl8fG51bGw9PShlPWUudmFsdWVzKT92b2lkIDA6ZS5sZW5ndGgpPjB9KSkscj10LmZpbHRlcigodD0+e3ZhciBpLGU7cmV0dXJuKG51bGw9PShpPXQuY29uZGl0aW9ucyk/dm9pZCAwOmkuY2FuY2VsRXZlbnRzKSYmKG51bGw9PShlPXQuY29uZGl0aW9ucyl8fG51bGw9PShlPWUuY2FuY2VsRXZlbnRzKXx8bnVsbD09KGU9ZS52YWx1ZXMpP3ZvaWQgMDplLmxlbmd0aCk+MH0pKTtpZigwIT09ZS5sZW5ndGh8fDAhPT1yLmxlbmd0aCl7bnVsbD09KGk9dGhpcy5faW5zdGFuY2UpfHxpLkFpKCgodCxpKT0+e3RoaXMub25FdmVudCh0LGkpfSkpLHRoaXMuemk9dGhpcy5XaSh0LE1uLkFjdGl2YXRpb24pLHRoaXMuSGk9dGhpcy5XaSh0LE1uLkNhbmNlbGxhdGlvbil9fW9uRXZlbnQodCxpKXt2YXIgZSxyPShudWxsPT0oZT10aGlzLl9pbnN0YW5jZSl8fG51bGw9PShlPWUucGVyc2lzdGVuY2UpP3ZvaWQgMDplLnByb3BzW2RpXSl8fFtdO2lmKHpuLlNIT1dOPT09dCYmaSYmci5sZW5ndGg+MCl7dmFyIHM7R24uaW5mbyhcInN1cnZleSBldmVudCBtYXRjaGVkLCByZW1vdmluZyBzdXJ2ZXkgZnJvbSBhY3RpdmF0ZWQgc3VydmV5c1wiLHtldmVudDp0LGV2ZW50UGF5bG9hZDppLGV4aXN0aW5nQWN0aXZhdGVkU3VydmV5czpyfSk7dmFyIG49bnVsbD09aXx8bnVsbD09KHM9aS5wcm9wZXJ0aWVzKT92b2lkIDA6cy4kc3VydmV5X2lkO2lmKG4pe3ZhciBvPXIuaW5kZXhPZihuKTtvPj0wJiYoci5zcGxpY2UobywxKSx0aGlzLllpKHIpKX19ZWxzZXtpZih0aGlzLkhpLmhhcyh0KSl7dmFyIGE9dGhpcy5HaSh0LGksTW4uQ2FuY2VsbGF0aW9uKTthLmxlbmd0aD4wJiYoR24uaW5mbyhcImNhbmNlbCBldmVudCBtYXRjaGVkLCBjYW5jZWxsaW5nIHN1cnZleXNcIix7ZXZlbnQ6dCxzdXJ2ZXlzVG9DYW5jZWw6YS5tYXAoKHQ9PnQuaWQpKX0pLGEuZm9yRWFjaCgodD0+e3ZhciBpLGU9ci5pbmRleE9mKHQuaWQpO2U+PTAmJnIuc3BsaWNlKGUsMSksbnVsbD09KGk9dGhpcy5faW5zdGFuY2UpfHxpLmNhbmNlbFBlbmRpbmdTdXJ2ZXkodC5pZCl9KSksdGhpcy5ZaShyKSl9aWYodGhpcy56aS5oYXModCkpe0duLmluZm8oXCJzdXJ2ZXkgZXZlbnQgbmFtZSBtYXRjaGVkXCIse2V2ZW50OnQsZXZlbnRQYXlsb2FkOmksc3VydmV5czp0aGlzLnppLmdldCh0KX0pO3ZhciBsPXRoaXMuR2kodCxpLE1uLkFjdGl2YXRpb24pO3RoaXMuWWkoci5jb25jYXQobC5tYXAoKHQ9PnQuaWQpKXx8W10pKX19fW9uQWN0aW9uKHQpe3ZhciBpLGU9KG51bGw9PShpPXRoaXMuX2luc3RhbmNlKXx8bnVsbD09KGk9aS5wZXJzaXN0ZW5jZSk/dm9pZCAwOmkucHJvcHNbZGldKXx8W107dGhpcy5CaS5oYXModCkmJnRoaXMuWWkoZS5jb25jYXQodGhpcy5CaS5nZXQodCl8fFtdKSl9WWkodCl7dmFyIGk7R24uaW5mbyhcInVwZGF0aW5nIGFjdGl2YXRlZCBzdXJ2ZXlzXCIse2FjdGl2YXRlZFN1cnZleXM6dH0pLG51bGw9PShpPXRoaXMuX2luc3RhbmNlKXx8bnVsbD09KGk9aS5wZXJzaXN0ZW5jZSl8fGkucmVnaXN0ZXIoe1tkaV06Wy4uLm5ldyBTZXQodCldfSl9Z2V0U3VydmV5cygpe3ZhciB0LGk9bnVsbD09KHQ9dGhpcy5faW5zdGFuY2UpfHxudWxsPT0odD10LnBlcnNpc3RlbmNlKT92b2lkIDA6dC5wcm9wc1tkaV07cmV0dXJuIGl8fFtdfWdldEV2ZW50VG9TdXJ2ZXlzKCl7cmV0dXJuIHRoaXMueml9WGkoKXtyZXR1cm4gdGhpcy5LaX19Y2xhc3MgWm57Y29uc3RydWN0b3IodCl7dGhpcy5RaT12b2lkIDAsdGhpcy5fc3VydmV5TWFuYWdlcj1udWxsLHRoaXMuWmk9ITEsdGhpcy50ZT0hMSx0aGlzLmllPVtdLHRoaXMuX2luc3RhbmNlPXQsdGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcj1udWxsfW9uUmVtb3RlQ29uZmlnKHQpe2lmKCF0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zdXJ2ZXlzKXt2YXIgaT10LnN1cnZleXM7aWYoaihpKSlyZXR1cm4gR24ud2FybihcIkZsYWdzIG5vdCBsb2FkZWQgeWV0LiBOb3QgbG9hZGluZyBzdXJ2ZXlzLlwiKTt2YXIgZT1JKGkpO3RoaXMuUWk9ZT9pLmxlbmd0aD4wOmksR24uaW5mbyhcImZsYWdzIHJlc3BvbnNlIHJlY2VpdmVkLCBpc1N1cnZleXNFbmFibGVkOiBcIit0aGlzLlFpKSx0aGlzLmxvYWRJZkVuYWJsZWQoKX19cmVzZXQoKXtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImxhc3RTZWVuU3VydmV5RGF0ZVwiKTtmb3IodmFyIHQ9W10saT0wO2k8bG9jYWxTdG9yYWdlLmxlbmd0aDtpKyspe3ZhciBlPWxvY2FsU3RvcmFnZS5rZXkoaSk7KG51bGwhPWUmJmUuc3RhcnRzV2l0aChWbil8fG51bGwhPWUmJmUuc3RhcnRzV2l0aChcImluUHJvZ3Jlc3NTdXJ2ZXlfXCIpKSYmdC5wdXNoKGUpfXQuZm9yRWFjaCgodD0+bG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odCkpKX1sb2FkSWZFbmFibGVkKCl7aWYoIXRoaXMuX3N1cnZleU1hbmFnZXIpaWYodGhpcy50ZSlHbi5pbmZvKFwiQWxyZWFkeSBpbml0aWFsaXppbmcgc3VydmV5cywgc2tpcHBpbmcuLi5cIik7ZWxzZSBpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zdXJ2ZXlzKUduLmluZm8oXCJEaXNhYmxlZC4gTm90IGxvYWRpbmcgc3VydmV5cy5cIik7ZWxzZSBpZih0aGlzLl9pbnN0YW5jZS5jb25maWcuY29va2llbGVzc19tb2RlJiZ0aGlzLl9pbnN0YW5jZS5jb25zZW50LmlzT3B0ZWRPdXQoKSlHbi5pbmZvKFwiTm90IGxvYWRpbmcgc3VydmV5cyBpbiBjb29raWVsZXNzIG1vZGUgd2l0aG91dCBjb25zZW50LlwiKTtlbHNle3ZhciB0PW51bGw9PXY/dm9pZCAwOnYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fO2lmKHQpe2lmKCFNKHRoaXMuUWkpfHx0aGlzLl9pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZW5hYmxlX3N1cnZleXMpe3ZhciBpPXRoaXMuUWl8fHRoaXMuX2luc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9lbmFibGVfc3VydmV5czt0aGlzLnRlPSEwO3RyeXt2YXIgZT10LmdlbmVyYXRlU3VydmV5cztpZihlKXJldHVybiB2b2lkIHRoaXMuZWUoZSxpKTt2YXIgcj10LmxvYWRFeHRlcm5hbERlcGVuZGVuY3k7aWYoIXIpcmV0dXJuIHZvaWQgdGhpcy5yZShcIlBvc3RIb2cgbG9hZEV4dGVybmFsRGVwZW5kZW5jeSBleHRlbnNpb24gbm90IGZvdW5kLlwiKTtyKHRoaXMuX2luc3RhbmNlLFwic3VydmV5c1wiLChlPT57ZXx8IXQuZ2VuZXJhdGVTdXJ2ZXlzP3RoaXMucmUoXCJDb3VsZCBub3QgbG9hZCBzdXJ2ZXlzIHNjcmlwdFwiLGUpOnRoaXMuZWUodC5nZW5lcmF0ZVN1cnZleXMsaSl9KSl9Y2F0Y2godCl7dGhyb3cgdGhpcy5yZShcIkVycm9yIGluaXRpYWxpemluZyBzdXJ2ZXlzXCIsdCksdH1maW5hbGx5e3RoaXMudGU9ITF9fX1lbHNlIEduLmVycm9yKFwiUG9zdEhvZyBFeHRlbnNpb25zIG5vdCBmb3VuZC5cIil9fWVlKHQsaSl7dGhpcy5fc3VydmV5TWFuYWdlcj10KHRoaXMuX2luc3RhbmNlLGkpLHRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXI9bmV3IFFuKHRoaXMuX2luc3RhbmNlKSxHbi5pbmZvKFwiU3VydmV5cyBsb2FkZWQgc3VjY2Vzc2Z1bGx5XCIpLHRoaXMuc2Uoe2lzTG9hZGVkOiEwfSl9cmUodCxpKXtHbi5lcnJvcih0LGkpLHRoaXMuc2Uoe2lzTG9hZGVkOiExLGVycm9yOnR9KX1vblN1cnZleXNMb2FkZWQodCl7cmV0dXJuIHRoaXMuaWUucHVzaCh0KSx0aGlzLl9zdXJ2ZXlNYW5hZ2VyJiZ0aGlzLnNlKHtpc0xvYWRlZDohMH0pLCgpPT57dGhpcy5pZT10aGlzLmllLmZpbHRlcigoaT0+aSE9PXQpKX19Z2V0U3VydmV5cyh0LGkpe2lmKHZvaWQgMD09PWkmJihpPSExKSx0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zdXJ2ZXlzKXJldHVybiBHbi5pbmZvKFwiRGlzYWJsZWQuIE5vdCBsb2FkaW5nIHN1cnZleXMuXCIpLHQoW10pO3ZhciBlPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShoaSk7aWYoZSYmIWkpcmV0dXJuIHQoZSx7aXNMb2FkZWQ6ITB9KTtpZih0aGlzLlppKXJldHVybiB0KFtdLHtpc0xvYWRlZDohMSxlcnJvcjpcIlN1cnZleXMgYXJlIGFscmVhZHkgYmVpbmcgbG9hZGVkXCJ9KTt0cnl7dGhpcy5aaT0hMCx0aGlzLl9pbnN0YW5jZS5jaSh7dXJsOnRoaXMuX2luc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9hcGkvc3VydmV5cy8/dG9rZW49XCIrdGhpcy5faW5zdGFuY2UuY29uZmlnLnRva2VuKSxtZXRob2Q6XCJHRVRcIix0aW1lb3V0OnRoaXMuX2luc3RhbmNlLmNvbmZpZy5zdXJ2ZXlzX3JlcXVlc3RfdGltZW91dF9tcyxjYWxsYmFjazppPT57dmFyIGU7dGhpcy5aaT0hMTt2YXIgcj1pLnN0YXR1c0NvZGU7aWYoMjAwIT09cnx8IWkuanNvbil7dmFyIHM9XCJTdXJ2ZXlzIEFQSSBjb3VsZCBub3QgYmUgbG9hZGVkLCBzdGF0dXM6IFwiK3I7cmV0dXJuIEduLmVycm9yKHMpLHQoW10se2lzTG9hZGVkOiExLGVycm9yOnN9KX12YXIgbixvPWkuanNvbi5zdXJ2ZXlzfHxbXSxhPW8uZmlsdGVyKCh0PT5mdW5jdGlvbih0KXtyZXR1cm4hKCF0LnN0YXJ0X2RhdGV8fHQuZW5kX2RhdGUpfSh0KSYmKGZ1bmN0aW9uKHQpe3ZhciBpO3JldHVybiEobnVsbD09KGk9dC5jb25kaXRpb25zKXx8bnVsbD09KGk9aS5ldmVudHMpfHxudWxsPT0oaT1pLnZhbHVlcyl8fCFpLmxlbmd0aCl9KHQpfHxmdW5jdGlvbih0KXt2YXIgaTtyZXR1cm4hKG51bGw9PShpPXQuY29uZGl0aW9ucyl8fG51bGw9PShpPWkuYWN0aW9ucyl8fG51bGw9PShpPWkudmFsdWVzKXx8IWkubGVuZ3RoKX0odCkpKSk7YS5sZW5ndGg+MCYmKG51bGw9PShuPXRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXIpfHxuLnJlZ2lzdGVyKGEpKTtyZXR1cm4gbnVsbD09KGU9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxlLnJlZ2lzdGVyKHtbaGldOm99KSx0KG8se2lzTG9hZGVkOiEwfSl9fSl9Y2F0Y2godCl7dGhyb3cgdGhpcy5aaT0hMSx0fX1zZSh0KXtmb3IodmFyIGkgb2YgdGhpcy5pZSl0cnl7aWYoIXQuaXNMb2FkZWQpcmV0dXJuIGkoW10sdCk7dGhpcy5nZXRTdXJ2ZXlzKGkpfWNhdGNoKHQpe0duLmVycm9yKFwiRXJyb3IgaW4gc3VydmV5IGNhbGxiYWNrXCIsdCl9fWdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyh0LGkpe2lmKHZvaWQgMD09PWkmJihpPSExKSwhaih0aGlzLl9zdXJ2ZXlNYW5hZ2VyKSlyZXR1cm4gdGhpcy5fc3VydmV5TWFuYWdlci5nZXRBY3RpdmVNYXRjaGluZ1N1cnZleXModCxpKTtHbi53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKX1uZSh0KXt2YXIgaT1udWxsO3JldHVybiB0aGlzLmdldFN1cnZleXMoKGU9Pnt2YXIgcjtpPW51bGwhPT0ocj1lLmZpbmQoKGk9PmkuaWQ9PT10KSkpJiZ2b2lkIDAhPT1yP3I6bnVsbH0pKSxpfW9lKHQpe2lmKGoodGhpcy5fc3VydmV5TWFuYWdlcikpcmV0dXJue2VsaWdpYmxlOiExLHJlYXNvbjpcIlNESyBpcyBub3QgZW5hYmxlZCBvciBzdXJ2ZXkgZnVuY3Rpb25hbGl0eSBpcyBub3QgeWV0IGxvYWRlZFwifTt2YXIgaT1cInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLm5lKHQpOnQ7cmV0dXJuIGk/dGhpcy5fc3VydmV5TWFuYWdlci5jaGVja1N1cnZleUVsaWdpYmlsaXR5KGkpOntlbGlnaWJsZTohMSxyZWFzb246XCJTdXJ2ZXkgbm90IGZvdW5kXCJ9fWNhblJlbmRlclN1cnZleSh0KXtpZihqKHRoaXMuX3N1cnZleU1hbmFnZXIpKXJldHVybiBHbi53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKSx7dmlzaWJsZTohMSxkaXNhYmxlZFJlYXNvbjpcIlNESyBpcyBub3QgZW5hYmxlZCBvciBzdXJ2ZXkgZnVuY3Rpb25hbGl0eSBpcyBub3QgeWV0IGxvYWRlZFwifTt2YXIgaT10aGlzLm9lKHQpO3JldHVybnt2aXNpYmxlOmkuZWxpZ2libGUsZGlzYWJsZWRSZWFzb246aS5yZWFzb259fWNhblJlbmRlclN1cnZleUFzeW5jKHQsaSl7cmV0dXJuIGoodGhpcy5fc3VydmV5TWFuYWdlcik/KEduLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpLFByb21pc2UucmVzb2x2ZSh7dmlzaWJsZTohMSxkaXNhYmxlZFJlYXNvbjpcIlNESyBpcyBub3QgZW5hYmxlZCBvciBzdXJ2ZXkgZnVuY3Rpb25hbGl0eSBpcyBub3QgeWV0IGxvYWRlZFwifSkpOm5ldyBQcm9taXNlKChlPT57dGhpcy5nZXRTdXJ2ZXlzKChpPT57dmFyIHIscz1udWxsIT09KHI9aS5maW5kKChpPT5pLmlkPT09dCkpKSYmdm9pZCAwIT09cj9yOm51bGw7aWYocyl7dmFyIG49dGhpcy5vZShzKTtlKHt2aXNpYmxlOm4uZWxpZ2libGUsZGlzYWJsZWRSZWFzb246bi5yZWFzb259KX1lbHNlIGUoe3Zpc2libGU6ITEsZGlzYWJsZWRSZWFzb246XCJTdXJ2ZXkgbm90IGZvdW5kXCJ9KX0pLGkpfSkpfXJlbmRlclN1cnZleSh0LGkpe3ZhciBlO2lmKGoodGhpcy5fc3VydmV5TWFuYWdlcikpR24ud2FybihcImluaXQgd2FzIG5vdCBjYWxsZWRcIik7ZWxzZXt2YXIgcj1cInN0cmluZ1wiPT10eXBlb2YgdD90aGlzLm5lKHQpOnQ7aWYobnVsbCE9ciYmci5pZClpZihZbi5pbmNsdWRlcyhyLnR5cGUpKXt2YXIgcz1udWxsPT1vP3ZvaWQgMDpvLnF1ZXJ5U2VsZWN0b3IoaSk7aWYocylyZXR1cm4gbnVsbCE9KGU9ci5hcHBlYXJhbmNlKSYmZS5zdXJ2ZXlQb3B1cERlbGF5U2Vjb25kcz8oR24uaW5mbyhcIlJlbmRlcmluZyBzdXJ2ZXkgXCIrci5pZCtcIiB3aXRoIGRlbGF5IG9mIFwiK3IuYXBwZWFyYW5jZS5zdXJ2ZXlQb3B1cERlbGF5U2Vjb25kcytcIiBzZWNvbmRzXCIpLHZvaWQgc2V0VGltZW91dCgoKCk9Pnt2YXIgdCxpO0duLmluZm8oXCJSZW5kZXJpbmcgc3VydmV5IFwiK3IuaWQrXCIgd2l0aCBkZWxheSBvZiBcIisobnVsbD09KHQ9ci5hcHBlYXJhbmNlKT92b2lkIDA6dC5zdXJ2ZXlQb3B1cERlbGF5U2Vjb25kcykrXCIgc2Vjb25kc1wiKSxudWxsPT0oaT10aGlzLl9zdXJ2ZXlNYW5hZ2VyKXx8aS5yZW5kZXJTdXJ2ZXkocixzKSxHbi5pbmZvKFwiU3VydmV5IFwiK3IuaWQrXCIgcmVuZGVyZWRcIil9KSwxZTMqci5hcHBlYXJhbmNlLnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzKSk6dm9pZCB0aGlzLl9zdXJ2ZXlNYW5hZ2VyLnJlbmRlclN1cnZleShyLHMpO0duLndhcm4oXCJTdXJ2ZXkgZWxlbWVudCBub3QgZm91bmRcIil9ZWxzZSBHbi53YXJuKFwiU3VydmV5cyBvZiB0eXBlIFwiK3IudHlwZStcIiBjYW5ub3QgYmUgcmVuZGVyZWQgaW4gdGhlIGFwcFwiKTtlbHNlIEduLndhcm4oXCJTdXJ2ZXkgbm90IGZvdW5kXCIpfX1kaXNwbGF5U3VydmV5KHQsaSl7dmFyIGU7aWYoaih0aGlzLl9zdXJ2ZXlNYW5hZ2VyKSlHbi53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKTtlbHNle3ZhciByPXRoaXMubmUodCk7aWYocil7dmFyIHM9cjtpZihudWxsIT0oZT1yLmFwcGVhcmFuY2UpJiZlLnN1cnZleVBvcHVwRGVsYXlTZWNvbmRzJiZpLmlnbm9yZURlbGF5JiYocz1nKHt9LHIse2FwcGVhcmFuY2U6Zyh7fSxyLmFwcGVhcmFuY2Use3N1cnZleVBvcHVwRGVsYXlTZWNvbmRzOjB9KX0pKSwhMT09PWkuaWdub3JlQ29uZGl0aW9ucyl7dmFyIG49dGhpcy5jYW5SZW5kZXJTdXJ2ZXkocik7aWYoIW4udmlzaWJsZSlyZXR1cm4gdm9pZCBHbi53YXJuKFwiU3VydmV5IGlzIG5vdCBlbGlnaWJsZSB0byBiZSBkaXNwbGF5ZWQ6IFwiLG4uZGlzYWJsZWRSZWFzb24pfWkuZGlzcGxheVR5cGUhPT1Cbi5JbmxpbmU/dGhpcy5fc3VydmV5TWFuYWdlci5oYW5kbGVQb3BvdmVyU3VydmV5KHMpOnRoaXMucmVuZGVyU3VydmV5KHMsaS5zZWxlY3Rvcil9ZWxzZSBHbi53YXJuKFwiU3VydmV5IG5vdCBmb3VuZFwiKX19Y2FuY2VsUGVuZGluZ1N1cnZleSh0KXtqKHRoaXMuX3N1cnZleU1hbmFnZXIpP0duLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpOnRoaXMuX3N1cnZleU1hbmFnZXIuY2FuY2VsU3VydmV5KHQpfX12YXIgdG89VHQoXCJbUmF0ZUxpbWl0ZXJdXCIpO2NsYXNzIGlve2NvbnN0cnVjdG9yKHQpe3ZhciBpLGU7dGhpcy5zZXJ2ZXJMaW1pdHM9e30sdGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZD0hMSx0aGlzLmNoZWNrRm9yTGltaXRpbmc9dD0+e3ZhciBpPXQudGV4dDtpZihpJiZpLmxlbmd0aCl0cnl7KEpTT04ucGFyc2UoaSkucXVvdGFfbGltaXRlZHx8W10pLmZvckVhY2goKHQ9Pnt0by5pbmZvKCh0fHxcImV2ZW50c1wiKStcIiBpcyBxdW90YSBsaW1pdGVkLlwiKSx0aGlzLnNlcnZlckxpbWl0c1t0XT0obmV3IERhdGUpLmdldFRpbWUoKSs2ZTR9KSl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdG8ud2FybignY291bGQgbm90IHJhdGUgbGltaXQgLSBjb250aW51aW5nLiBFcnJvcjogXCInKyhudWxsPT10P3ZvaWQgMDp0Lm1lc3NhZ2UpKydcIicse3RleHQ6aX0pfX0sdGhpcy5pbnN0YW5jZT10LHRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZD0obnVsbD09KGk9dC5jb25maWcucmF0ZV9saW1pdGluZyk/dm9pZCAwOmkuZXZlbnRzX3Blcl9zZWNvbmQpfHwxMCx0aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0PU1hdGgubWF4KChudWxsPT0oZT10LmNvbmZpZy5yYXRlX2xpbWl0aW5nKT92b2lkIDA6ZS5ldmVudHNfYnVyc3RfbGltaXQpfHwxMCp0aGlzLmNhcHR1cmVFdmVudHNQZXJTZWNvbmQsdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kKSx0aGlzLmxhc3RFdmVudFJhdGVMaW1pdGVkPXRoaXMuY2xpZW50UmF0ZUxpbWl0Q29udGV4dCghMCkuaXNSYXRlTGltaXRlZH1jbGllbnRSYXRlTGltaXRDb250ZXh0KHQpe3ZhciBpLGUscjt2b2lkIDA9PT10JiYodD0hMSk7dmFyIHM9KG5ldyBEYXRlKS5nZXRUaW1lKCksbj1udWxsIT09KGk9bnVsbD09KGU9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSk/dm9pZCAwOmUuZ2V0X3Byb3BlcnR5KHBpKSkmJnZvaWQgMCE9PWk/aTp7dG9rZW5zOnRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQsbGFzdDpzfTtuLnRva2Vucys9KHMtbi5sYXN0KS8xZTMqdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kLG4ubGFzdD1zLG4udG9rZW5zPnRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQmJihuLnRva2Vucz10aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0KTt2YXIgbz1uLnRva2VuczwxO3JldHVybiBvfHx0fHwobi50b2tlbnM9TWF0aC5tYXgoMCxuLnRva2Vucy0xKSksIW98fHRoaXMubGFzdEV2ZW50UmF0ZUxpbWl0ZWR8fHR8fHRoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiQkY2xpZW50X2luZ2VzdGlvbl93YXJuaW5nXCIseyQkY2xpZW50X2luZ2VzdGlvbl93YXJuaW5nX21lc3NhZ2U6XCJwb3N0aG9nLWpzIGNsaWVudCByYXRlIGxpbWl0ZWQuIENvbmZpZyBpcyBzZXQgdG8gXCIrdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kK1wiIGV2ZW50cyBwZXIgc2Vjb25kIGFuZCBcIit0aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0K1wiIGV2ZW50cyBidXJzdCBsaW1pdC5cIn0se3NraXBfY2xpZW50X3JhdGVfbGltaXRpbmc6ITB9KSx0aGlzLmxhc3RFdmVudFJhdGVMaW1pdGVkPW8sbnVsbD09KHI9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHIuc2V0X3Byb3BlcnR5KHBpLG4pLHtpc1JhdGVMaW1pdGVkOm8scmVtYWluaW5nVG9rZW5zOm4udG9rZW5zfX1pc1NlcnZlclJhdGVMaW1pdGVkKHQpe3ZhciBpPXRoaXMuc2VydmVyTGltaXRzW3R8fFwiZXZlbnRzXCJdfHwhMTtyZXR1cm4hMSE9PWkmJihuZXcgRGF0ZSkuZ2V0VGltZSgpPGl9fXZhciBlbz1UdChcIltSZW1vdGVDb25maWddXCIpO2NsYXNzIHJve2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXR9Z2V0IHJlbW90ZUNvbmZpZygpe3ZhciB0O3JldHVybiBudWxsPT0odD12Ll9QT1NUSE9HX1JFTU9URV9DT05GSUcpfHxudWxsPT0odD10W3RoaXMuX2luc3RhbmNlLmNvbmZpZy50b2tlbl0pP3ZvaWQgMDp0LmNvbmZpZ31hZSh0KXt2YXIgaSxlO251bGwhPShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmaS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5P251bGw9PShlPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8bnVsbD09ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5fHxlLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kodGhpcy5faW5zdGFuY2UsXCJyZW1vdGUtY29uZmlnXCIsKCgpPT50KHRoaXMucmVtb3RlQ29uZmlnKSkpOihlby5lcnJvcihcIlBvc3RIb2cgRXh0ZW5zaW9ucyBub3QgZm91bmQuIENhbm5vdCBsb2FkIHJlbW90ZSBjb25maWcuXCIpLHQoKSl9bGUodCl7dGhpcy5faW5zdGFuY2UuY2koe21ldGhvZDpcIkdFVFwiLHVybDp0aGlzLl9pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXNzZXRzXCIsXCIvYXJyYXkvXCIrdGhpcy5faW5zdGFuY2UuY29uZmlnLnRva2VuK1wiL2NvbmZpZ1wiKSxjYWxsYmFjazppPT57dChpLmpzb24pfX0pfWxvYWQoKXt0cnl7aWYodGhpcy5yZW1vdGVDb25maWcpcmV0dXJuIGVvLmluZm8oXCJVc2luZyBwcmVsb2FkZWQgcmVtb3RlIGNvbmZpZ1wiLHRoaXMucmVtb3RlQ29uZmlnKSx2b2lkIHRoaXMuZmkodGhpcy5yZW1vdGVDb25maWcpO2lmKHRoaXMuX2luc3RhbmNlLk8oKSlyZXR1cm4gdm9pZCBlby53YXJuKFwiUmVtb3RlIGNvbmZpZyBpcyBkaXNhYmxlZC4gRmFsbGluZyBiYWNrIHRvIGxvY2FsIGNvbmZpZy5cIik7dGhpcy5hZSgodD0+e2lmKCF0KXJldHVybiBlby5pbmZvKFwiTm8gY29uZmlnIGZvdW5kIGFmdGVyIGxvYWRpbmcgcmVtb3RlIEpTIGNvbmZpZy4gRmFsbGluZyBiYWNrIHRvIEpTT04uXCIpLHZvaWQgdGhpcy5sZSgodD0+e3RoaXMuZmkodCl9KSk7dGhpcy5maSh0KX0pKX1jYXRjaCh0KXtlby5lcnJvcihcIkVycm9yIGxvYWRpbmcgcmVtb3RlIGNvbmZpZ1wiLHQpfX1maSh0KXt0P3RoaXMuX2luc3RhbmNlLmNvbmZpZy5fX3ByZXZpZXdfcmVtb3RlX2NvbmZpZz8odGhpcy5faW5zdGFuY2UuZmkodCksITEhPT10Lmhhc0ZlYXR1cmVGbGFncyYmdGhpcy5faW5zdGFuY2UuZmVhdHVyZUZsYWdzLmVuc3VyZUZsYWdzTG9hZGVkKCkpOmVvLmluZm8oXCJfX3ByZXZpZXdfcmVtb3RlX2NvbmZpZyBpcyBkaXNhYmxlZC4gTG9nZ2luZyBjb25maWcgaW5zdGVhZFwiLHQpOmVvLmVycm9yKFwiRmFpbGVkIHRvIGZldGNoIHJlbW90ZSBjb25maWcgZnJvbSBQb3N0SG9nLlwiKX19dmFyIHNvPTNlMztjbGFzcyBub3tjb25zdHJ1Y3Rvcih0LGkpe3RoaXMudWU9ITAsdGhpcy5oZT1bXSx0aGlzLmRlPUooKG51bGw9PWk/dm9pZCAwOmkuZmx1c2hfaW50ZXJ2YWxfbXMpfHxzbywyNTAsNWUzLFB0LmNyZWF0ZUxvZ2dlcihcImZsdXNoIGludGVydmFsXCIpLHNvKSx0aGlzLnZlPXR9ZW5xdWV1ZSh0KXt0aGlzLmhlLnB1c2godCksdGhpcy5jZXx8dGhpcy5mZSgpfXVubG9hZCgpe3RoaXMucGUoKTt2YXIgdD10aGlzLmhlLmxlbmd0aD4wP3RoaXMuZ2UoKTp7fSxpPU9iamVjdC52YWx1ZXModCk7Wy4uLmkuZmlsdGVyKCh0PT4wPT09dC51cmwuaW5kZXhPZihcIi9lXCIpKSksLi4uaS5maWx0ZXIoKHQ9PjAhPT10LnVybC5pbmRleE9mKFwiL2VcIikpKV0ubWFwKCh0PT57dGhpcy52ZShnKHt9LHQse3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pKX0pKX1lbmFibGUoKXt0aGlzLnVlPSExLHRoaXMuZmUoKX1mZSgpe3ZhciB0PXRoaXM7dGhpcy51ZXx8KHRoaXMuY2U9c2V0VGltZW91dCgoKCk9PntpZih0aGlzLnBlKCksdGhpcy5oZS5sZW5ndGg+MCl7dmFyIGk9dGhpcy5nZSgpLGU9ZnVuY3Rpb24oKXt2YXIgZT1pW3JdLHM9KG5ldyBEYXRlKS5nZXRUaW1lKCk7ZS5kYXRhJiZJKGUuZGF0YSkmJk10KGUuZGF0YSwodD0+e3Qub2Zmc2V0PU1hdGguYWJzKHQudGltZXN0YW1wLXMpLGRlbGV0ZSB0LnRpbWVzdGFtcH0pKSx0LnZlKGUpfTtmb3IodmFyIHIgaW4gaSllKCl9fSksdGhpcy5kZSkpfXBlKCl7Y2xlYXJUaW1lb3V0KHRoaXMuY2UpLHRoaXMuY2U9dm9pZCAwfWdlKCl7dmFyIHQ9e307cmV0dXJuIE10KHRoaXMuaGUsKGk9Pnt2YXIgZSxyPWkscz0ocj9yLmJhdGNoS2V5Om51bGwpfHxyLnVybDtNKHRbc10pJiYodFtzXT1nKHt9LHIse2RhdGE6W119KSksbnVsbD09KGU9dFtzXS5kYXRhKXx8ZS5wdXNoKHIuZGF0YSl9KSksdGhpcy5oZT1bXSx0fX12YXIgb289W1wicmV0cmllc1BlcmZvcm1lZFNvRmFyXCJdO2NsYXNzIGFve2NvbnN0cnVjdG9yKGkpe3RoaXMuX2U9ITEsdGhpcy5tZT0zZTMsdGhpcy5oZT1bXSx0aGlzLl9pbnN0YW5jZT1pLHRoaXMuaGU9W10sdGhpcy55ZT0hMCwhTSh0KSYmXCJvbkxpbmVcImluIHQubmF2aWdhdG9yJiYodGhpcy55ZT10Lm5hdmlnYXRvci5vbkxpbmUsdGhpcy5iZT0oKT0+e3RoaXMueWU9ITAsdGhpcy5EdCgpfSx0aGlzLndlPSgpPT57dGhpcy55ZT0hMX0scXQodCxcIm9ubGluZVwiLHRoaXMuYmUpLHF0KHQsXCJvZmZsaW5lXCIsdGhpcy53ZSkpfWdldCBsZW5ndGgoKXtyZXR1cm4gdGhpcy5oZS5sZW5ndGh9cmV0cmlhYmxlUmVxdWVzdCh0KXt2YXJ7cmV0cmllc1BlcmZvcm1lZFNvRmFyOml9PXQsZT1fKHQsb28pO0woaSkmJmk+MCYmKGUudXJsPXVuKGUudXJsLHtyZXRyeV9jb3VudDppfSkpLHRoaXMuX2luc3RhbmNlLmNpKGcoe30sZSx7Y2FsbGJhY2s6dD0+ezIwMCE9PXQuc3RhdHVzQ29kZSYmKHQuc3RhdHVzQ29kZTw0MDB8fHQuc3RhdHVzQ29kZT49NTAwKSYmKG51bGwhPWk/aTowKTwxMD90aGlzLnhlKGcoe3JldHJpZXNQZXJmb3JtZWRTb0ZhcjppfSxlKSk6bnVsbD09ZS5jYWxsYmFja3x8ZS5jYWxsYmFjayh0KX19KSl9eGUodCl7dmFyIGk9dC5yZXRyaWVzUGVyZm9ybWVkU29GYXJ8fDA7dC5yZXRyaWVzUGVyZm9ybWVkU29GYXI9aSsxO3ZhciBlPWZ1bmN0aW9uKHQpe3ZhciBpPTNlMypNYXRoLnBvdygyLHQpLGU9aS8yLHI9TWF0aC5taW4oMThlNSxpKSxzPShNYXRoLnJhbmRvbSgpLS41KSooci1lKTtyZXR1cm4gTWF0aC5jZWlsKHIrcyl9KGkpLHI9RGF0ZS5ub3coKStlO3RoaXMuaGUucHVzaCh7cmV0cnlBdDpyLHJlcXVlc3RPcHRpb25zOnR9KTt2YXIgcz1cIkVucXVldWVkIGZhaWxlZCByZXF1ZXN0IGZvciByZXRyeSBpbiBcIitlO25hdmlnYXRvci5vbkxpbmV8fChzKz1cIiAoQnJvd3NlciBpcyBvZmZsaW5lKVwiKSxQdC53YXJuKHMpLHRoaXMuX2V8fCh0aGlzLl9lPSEwLHRoaXMuU2UoKSl9U2UoKXtpZih0aGlzLkVlJiZjbGVhclRpbWVvdXQodGhpcy5FZSksMD09PXRoaXMuaGUubGVuZ3RoKXJldHVybiB0aGlzLl9lPSExLHZvaWQodGhpcy5FZT12b2lkIDApO3RoaXMuRWU9c2V0VGltZW91dCgoKCk9Pnt0aGlzLnllJiZ0aGlzLmhlLmxlbmd0aD4wJiZ0aGlzLkR0KCksdGhpcy5TZSgpfSksdGhpcy5tZSl9RHQoKXt2YXIgdD1EYXRlLm5vdygpLGk9W10sZT10aGlzLmhlLmZpbHRlcigoZT0+ZS5yZXRyeUF0PHR8fChpLnB1c2goZSksITEpKSk7aWYodGhpcy5oZT1pLGUubGVuZ3RoPjApZm9yKHZhcntyZXF1ZXN0T3B0aW9uczpyfW9mIGUpdGhpcy5yZXRyaWFibGVSZXF1ZXN0KHIpfXVubG9hZCgpe2Zvcih2YXJ7cmVxdWVzdE9wdGlvbnM6aX1vZih0aGlzLkVlJiYoY2xlYXJUaW1lb3V0KHRoaXMuRWUpLHRoaXMuRWU9dm9pZCAwKSx0aGlzLl9lPSExLE0odCl8fCh0aGlzLmJlJiYodC5yZW1vdmVFdmVudExpc3RlbmVyKFwib25saW5lXCIsdGhpcy5iZSksdGhpcy5iZT12b2lkIDApLHRoaXMud2UmJih0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsdGhpcy53ZSksdGhpcy53ZT12b2lkIDApKSx0aGlzLmhlKSl0cnl7dGhpcy5faW5zdGFuY2UuY2koZyh7fSxpLHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCJ9KSl9Y2F0Y2godCl7UHQuZXJyb3IodCl9dGhpcy5oZT1bXX19Y2xhc3MgbG97Y29uc3RydWN0b3IodCl7dGhpcy4kZT0oKT0+e3ZhciB0LGksZSxyO3RoaXMua2V8fCh0aGlzLmtlPXt9KTt2YXIgcz10aGlzLnNjcm9sbEVsZW1lbnQoKSxuPXRoaXMuc2Nyb2xsWSgpLG89cz9NYXRoLm1heCgwLHMuc2Nyb2xsSGVpZ2h0LXMuY2xpZW50SGVpZ2h0KTowLGE9bisoKG51bGw9PXM/dm9pZCAwOnMuY2xpZW50SGVpZ2h0KXx8MCksbD0obnVsbD09cz92b2lkIDA6cy5zY3JvbGxIZWlnaHQpfHwwO3RoaXMua2UubGFzdFNjcm9sbFk9TWF0aC5jZWlsKG4pLHRoaXMua2UubWF4U2Nyb2xsWT1NYXRoLm1heChuLG51bGwhPT0odD10aGlzLmtlLm1heFNjcm9sbFkpJiZ2b2lkIDAhPT10P3Q6MCksdGhpcy5rZS5tYXhTY3JvbGxIZWlnaHQ9TWF0aC5tYXgobyxudWxsIT09KGk9dGhpcy5rZS5tYXhTY3JvbGxIZWlnaHQpJiZ2b2lkIDAhPT1pP2k6MCksdGhpcy5rZS5sYXN0Q29udGVudFk9YSx0aGlzLmtlLm1heENvbnRlbnRZPU1hdGgubWF4KGEsbnVsbCE9PShlPXRoaXMua2UubWF4Q29udGVudFkpJiZ2b2lkIDAhPT1lP2U6MCksdGhpcy5rZS5tYXhDb250ZW50SGVpZ2h0PU1hdGgubWF4KGwsbnVsbCE9PShyPXRoaXMua2UubWF4Q29udGVudEhlaWdodCkmJnZvaWQgMCE9PXI/cjowKX0sdGhpcy5faW5zdGFuY2U9dH1nZXRDb250ZXh0KCl7cmV0dXJuIHRoaXMua2V9cmVzZXRDb250ZXh0KCl7dmFyIHQ9dGhpcy5rZTtyZXR1cm4gc2V0VGltZW91dCh0aGlzLiRlLDApLHR9c3RhcnRNZWFzdXJpbmdTY3JvbGxQb3NpdGlvbigpe3F0KHQsXCJzY3JvbGxcIix0aGlzLiRlLHtjYXB0dXJlOiEwfSkscXQodCxcInNjcm9sbGVuZFwiLHRoaXMuJGUse2NhcHR1cmU6ITB9KSxxdCh0LFwicmVzaXplXCIsdGhpcy4kZSl9c2Nyb2xsRWxlbWVudCgpe2lmKCF0aGlzLl9pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3IpcmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3ZhciBpPUkodGhpcy5faW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yKT90aGlzLl9pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3I6W3RoaXMuX2luc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3Rvcl07Zm9yKHZhciBlIG9mIGkpe3ZhciByPW51bGw9PXQ/dm9pZCAwOnQuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihlKTtpZihyKXJldHVybiByfX1zY3JvbGxZKCl7aWYodGhpcy5faW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yKXt2YXIgaT10aGlzLnNjcm9sbEVsZW1lbnQoKTtyZXR1cm4gaSYmaS5zY3JvbGxUb3B8fDB9cmV0dXJuIHQmJih0LnNjcm9sbFl8fHQucGFnZVlPZmZzZXR8fHQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCl8fDB9c2Nyb2xsWCgpe2lmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3Rvcil7dmFyIGk9dGhpcy5zY3JvbGxFbGVtZW50KCk7cmV0dXJuIGkmJmkuc2Nyb2xsTGVmdHx8MH1yZXR1cm4gdCYmKHQuc2Nyb2xsWHx8dC5wYWdlWE9mZnNldHx8dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsTGVmdCl8fDB9fXZhciB1bz10PT5jcyhudWxsPT10P3ZvaWQgMDp0LmNvbmZpZy5tYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllcyxudWxsPT10P3ZvaWQgMDp0LmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzKTtjbGFzcyBob3tjb25zdHJ1Y3Rvcih0LGksZSxyKXt0aGlzLlBlPXQ9Pnt2YXIgaT10aGlzLlRlKCk7aWYoIWl8fGkuc2Vzc2lvbklkIT09dCl7dmFyIGU9e3Nlc3Npb25JZDp0LHByb3BzOnRoaXMuSWUodGhpcy5faW5zdGFuY2UpfTt0aGlzLlJlLnJlZ2lzdGVyKHtbZmldOmV9KX19LHRoaXMuX2luc3RhbmNlPXQsdGhpcy5GZT1pLHRoaXMuUmU9ZSx0aGlzLkllPXJ8fHVvLHRoaXMuRmUub25TZXNzaW9uSWQodGhpcy5QZSl9VGUoKXtyZXR1cm4gdGhpcy5SZS5wcm9wc1tmaV19Z2V0U2V0T25jZVByb3BzKCl7dmFyIHQsaT1udWxsPT0odD10aGlzLlRlKCkpP3ZvaWQgMDp0LnByb3BzO3JldHVybiBpP1wiclwiaW4gaT9mcyhpKTp7JHJlZmVycmluZ19kb21haW46aS5yZWZlcnJpbmdEb21haW4sJHBhdGhuYW1lOmkuaW5pdGlhbFBhdGhOYW1lLHV0bV9zb3VyY2U6aS51dG1fc291cmNlLHV0bV9jYW1wYWlnbjppLnV0bV9jYW1wYWlnbix1dG1fbWVkaXVtOmkudXRtX21lZGl1bSx1dG1fY29udGVudDppLnV0bV9jb250ZW50LHV0bV90ZXJtOmkudXRtX3Rlcm19Ont9fWdldFNlc3Npb25Qcm9wcygpe3ZhciB0PXt9O3JldHVybiBNdChOdCh0aGlzLmdldFNldE9uY2VQcm9wcygpKSwoKGksZSk9PntcIiRjdXJyZW50X3VybFwiPT09ZSYmKGU9XCJ1cmxcIiksdFtcIiRzZXNzaW9uX2VudHJ5X1wiK1MoZSldPWl9KSksdH19dmFyIHZvPVR0KFwiW1Nlc3Npb25JZF1cIik7Y2xhc3MgY297b24odCxpKXtyZXR1cm4gdGhpcy5DZS5vbih0LGkpfWNvbnN0cnVjdG9yKHQsaSxlKXt2YXIgcjtpZih0aGlzLk1lPVtdLHRoaXMuT2U9dm9pZCAwLHRoaXMuQ2U9bmV3IHFuLHRoaXMuQWU9KHQsaSk9Pk1hdGguYWJzKHQtaSk+dGhpcy5zZXNzaW9uVGltZW91dE1zLCF0LnBlcnNpc3RlbmNlKXRocm93IG5ldyBFcnJvcihcIlNlc3Npb25JZE1hbmFnZXIgcmVxdWlyZXMgYSBQb3N0SG9nUGVyc2lzdGVuY2UgaW5zdGFuY2VcIik7aWYoXCJhbHdheXNcIj09PXQuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSl0aHJvdyBuZXcgRXJyb3IoJ1Nlc3Npb25JZE1hbmFnZXIgY2Fubm90IGJlIHVzZWQgd2l0aCBjb29raWVsZXNzX21vZGU9XCJhbHdheXNcIicpO3RoaXMuRj10LmNvbmZpZyx0aGlzLlJlPXQucGVyc2lzdGVuY2UsdGhpcy5EZT12b2lkIDAsdGhpcy5qZT12b2lkIDAsdGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wPW51bGwsdGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wPW51bGwsdGhpcy5MZT1pfHwkZSx0aGlzLk5lPWV8fCRlO3ZhciBzPXRoaXMuRi5wZXJzaXN0ZW5jZV9uYW1lfHx0aGlzLkYudG9rZW4sbj10aGlzLkYuc2Vzc2lvbl9pZGxlX3RpbWVvdXRfc2Vjb25kc3x8MTgwMDtpZih0aGlzLl9zZXNzaW9uVGltZW91dE1zPTFlMypKKG4sNjAsMzZlMyx2by5jcmVhdGVMb2dnZXIoXCJzZXNzaW9uX2lkbGVfdGltZW91dF9zZWNvbmRzXCIpLDE4MDApLHQucmVnaXN0ZXIoeyRjb25maWd1cmVkX3Nlc3Npb25fdGltZW91dF9tczp0aGlzLl9zZXNzaW9uVGltZW91dE1zfSksdGhpcy5VZSgpLHRoaXMuemU9XCJwaF9cIitzK1wiX3dpbmRvd19pZFwiLHRoaXMuSGU9XCJwaF9cIitzK1wiX3ByaW1hcnlfd2luZG93X2V4aXN0c1wiLHRoaXMuQmUoKSl7dmFyIG89TGUuVyh0aGlzLnplKSxhPUxlLlcodGhpcy5IZSk7byYmIWE/dGhpcy5EZT1vOkxlLlYodGhpcy56ZSksTGUuRyh0aGlzLkhlLCEwKX1pZihudWxsIT0ocj10aGlzLkYuYm9vdHN0cmFwKSYmci5zZXNzaW9uSUQpdHJ5e3ZhciBsPSh0PT57dmFyIGk9dC5yZXBsYWNlKC8tL2csXCJcIik7aWYoMzIhPT1pLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSB2YWxpZCBVVUlEXCIpO2lmKFwiN1wiIT09aVsxMl0pdGhyb3cgbmV3IEVycm9yKFwiTm90IGEgVVVJRHY3XCIpO3JldHVybiBwYXJzZUludChpLnN1YnN0cmluZygwLDEyKSwxNil9KSh0aGlzLkYuYm9vdHN0cmFwLnNlc3Npb25JRCk7dGhpcy5xZSh0aGlzLkYuYm9vdHN0cmFwLnNlc3Npb25JRCwobmV3IERhdGUpLmdldFRpbWUoKSxsKX1jYXRjaCh0KXt2by5lcnJvcihcIkludmFsaWQgc2Vzc2lvbklEIGluIGJvb3RzdHJhcFwiLHQpfXRoaXMuV2UoKX1nZXQgc2Vzc2lvblRpbWVvdXRNcygpe3JldHVybiB0aGlzLl9zZXNzaW9uVGltZW91dE1zfW9uU2Vzc2lvbklkKHQpe3JldHVybiBNKHRoaXMuTWUpJiYodGhpcy5NZT1bXSksdGhpcy5NZS5wdXNoKHQpLHRoaXMuamUmJnQodGhpcy5qZSx0aGlzLkRlKSwoKT0+e3RoaXMuTWU9dGhpcy5NZS5maWx0ZXIoKGk9PmkhPT10KSl9fUJlKCl7cmV0dXJuXCJtZW1vcnlcIiE9PXRoaXMuRi5wZXJzaXN0ZW5jZSYmIXRoaXMuUmUud2kmJkxlLkgoKX1HZSh0KXt0IT09dGhpcy5EZSYmKHRoaXMuRGU9dCx0aGlzLkJlKCkmJkxlLkcodGhpcy56ZSx0KSl9VmUoKXtyZXR1cm4gdGhpcy5EZT90aGlzLkRlOnRoaXMuQmUoKT9MZS5XKHRoaXMuemUpOm51bGx9cWUodCxpLGUpe3Q9PT10aGlzLmplJiZpPT09dGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wJiZlPT09dGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wfHwodGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wPWUsdGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wPWksdGhpcy5qZT10LHRoaXMuUmUucmVnaXN0ZXIoe1tyaV06W2ksdCxlXX0pKX1KZSgpe2lmKHRoaXMuamUmJnRoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcCYmdGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wKXJldHVyblt0aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXAsdGhpcy5qZSx0aGlzLl9zZXNzaW9uU3RhcnRUaW1lc3RhbXBdO3ZhciB0PXRoaXMuUmUucHJvcHNbcmldO3JldHVybiBJKHQpJiYyPT09dC5sZW5ndGgmJnQucHVzaCh0WzBdKSx0fHxbMCxudWxsLDBdfXJlc2V0U2Vzc2lvbklkKCl7dGhpcy5xZShudWxsLG51bGwsbnVsbCl9ZGVzdHJveSgpe2NsZWFyVGltZW91dCh0aGlzLktlKSx0aGlzLktlPXZvaWQgMCx0aGlzLk9lJiZ0JiYodC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYmVmb3JldW5sb2FkXCIsdGhpcy5PZSx7Y2FwdHVyZTohMX0pLHRoaXMuT2U9dm9pZCAwKSx0aGlzLk1lPVtdfVdlKCl7dGhpcy5PZT0oKT0+e3RoaXMuQmUoKSYmTGUuVih0aGlzLkhlKX0scXQodCxcImJlZm9yZXVubG9hZFwiLHRoaXMuT2Use2NhcHR1cmU6ITF9KX1jaGVja0FuZEdldFNlc3Npb25BbmRXaW5kb3dJZCh0LGkpe2lmKHZvaWQgMD09PXQmJih0PSExKSx2b2lkIDA9PT1pJiYoaT1udWxsKSxcImFsd2F5c1wiPT09dGhpcy5GLmNvb2tpZWxlc3NfbW9kZSl0aHJvdyBuZXcgRXJyb3IoJ2NoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkIHNob3VsZCBub3QgYmUgY2FsbGVkIHdpdGggY29va2llbGVzc19tb2RlPVwiYWx3YXlzXCInKTt2YXIgZT1pfHwobmV3IERhdGUpLmdldFRpbWUoKSxbcixzLG5dPXRoaXMuSmUoKSxvPXRoaXMuVmUoKSxhPUwobikmJm4+MCYmTWF0aC5hYnMoZS1uKT44NjRlNSxsPSExLHU9IXMsaD0hdSYmIXQmJnRoaXMuQWUoZSxyKTt1fHxofHxhPyhzPXRoaXMuTGUoKSxvPXRoaXMuTmUoKSx2by5pbmZvKFwibmV3IHNlc3Npb24gSUQgZ2VuZXJhdGVkXCIse3Nlc3Npb25JZDpzLHdpbmRvd0lkOm8sY2hhbmdlUmVhc29uOntub1Nlc3Npb25JZDp1LGFjdGl2aXR5VGltZW91dDpoLHNlc3Npb25QYXN0TWF4aW11bUxlbmd0aDphfX0pLG49ZSxsPSEwKTpvfHwobz10aGlzLk5lKCksbD0hMCk7dmFyIGQ9MD09PXJ8fCF0fHxhP2U6cix2PTA9PT1uPyhuZXcgRGF0ZSkuZ2V0VGltZSgpOm47cmV0dXJuIHRoaXMuR2UobyksdGhpcy5xZShzLGQsdiksdHx8dGhpcy5VZSgpLGwmJnRoaXMuTWUuZm9yRWFjaCgodD0+dChzLG8sbD97bm9TZXNzaW9uSWQ6dSxhY3Rpdml0eVRpbWVvdXQ6aCxzZXNzaW9uUGFzdE1heGltdW1MZW5ndGg6YX06dm9pZCAwKSkpLHtzZXNzaW9uSWQ6cyx3aW5kb3dJZDpvLHNlc3Npb25TdGFydFRpbWVzdGFtcDp2LGNoYW5nZVJlYXNvbjpsP3tub1Nlc3Npb25JZDp1LGFjdGl2aXR5VGltZW91dDpoLHNlc3Npb25QYXN0TWF4aW11bUxlbmd0aDphfTp2b2lkIDAsbGFzdEFjdGl2aXR5VGltZXN0YW1wOnJ9fVVlKCl7Y2xlYXJUaW1lb3V0KHRoaXMuS2UpLHRoaXMuS2U9c2V0VGltZW91dCgoKCk9Pnt2YXJbdF09dGhpcy5KZSgpO2lmKHRoaXMuQWUoKG5ldyBEYXRlKS5nZXRUaW1lKCksdCkpe3ZhciBpPXRoaXMuamU7dGhpcy5yZXNldFNlc3Npb25JZCgpLHRoaXMuQ2UuZW1pdChcImZvcmNlZElkbGVSZXNldFwiLHtpZGxlU2Vzc2lvbklkOml9KX19KSwxLjEqdGhpcy5zZXNzaW9uVGltZW91dE1zKX19dmFyIGZvPVtcIiRzZXRfb25jZVwiLFwiJHNldFwiXSxwbz1UdChcIltTaXRlQXBwc11cIik7Y2xhc3MgZ297Y29uc3RydWN0b3IodCl7dGhpcy5faW5zdGFuY2U9dCx0aGlzLlllPVtdLHRoaXMuYXBwcz17fX1nZXQgaXNFbmFibGVkKCl7cmV0dXJuISF0aGlzLl9pbnN0YW5jZS5jb25maWcub3B0X2luX3NpdGVfYXBwc31YZSh0LGkpe2lmKGkpe3ZhciBlPXRoaXMuZ2xvYmFsc0ZvckV2ZW50KGkpO3RoaXMuWWUucHVzaChlKSx0aGlzLlllLmxlbmd0aD4xZTMmJih0aGlzLlllPXRoaXMuWWUuc2xpY2UoMTApKX19Z2V0IHNpdGVBcHBMb2FkZXJzKCl7dmFyIHQ7cmV0dXJuIG51bGw9PSh0PXYuX1BPU1RIT0dfUkVNT1RFX0NPTkZJRyl8fG51bGw9PSh0PXRbdGhpcy5faW5zdGFuY2UuY29uZmlnLnRva2VuXSk/dm9pZCAwOnQuc2l0ZUFwcHN9aW5pdCgpe2lmKHRoaXMuaXNFbmFibGVkKXt2YXIgdD10aGlzLl9pbnN0YW5jZS5BaSh0aGlzLlhlLmJpbmQodGhpcykpO3RoaXMuUWU9KCk9Pnt0KCksdGhpcy5ZZT1bXSx0aGlzLlFlPXZvaWQgMH19fWdsb2JhbHNGb3JFdmVudCh0KXt2YXIgaSxlLHIscyxuLG8sYTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJFdmVudCBwYXlsb2FkIGlzIHJlcXVpcmVkXCIpO3ZhciBsPXt9LHU9dGhpcy5faW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJGdyb3Vwc1wiKXx8W10saD10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoXCIkc3RvcmVkX2dyb3VwX3Byb3BlcnRpZXNcIil8fHt9O2Zvcih2YXJbZCx2XW9mIE9iamVjdC5lbnRyaWVzKGgpKWxbZF09e2lkOnVbZF0sdHlwZTpkLHByb3BlcnRpZXM6dn07dmFyeyRzZXRfb25jZTpjLCRzZXQ6Zn09dDtyZXR1cm57ZXZlbnQ6Zyh7fSxfKHQsZm8pLHtwcm9wZXJ0aWVzOmcoe30sdC5wcm9wZXJ0aWVzLGY/eyRzZXQ6Zyh7fSxudWxsIT09KGk9bnVsbD09KGU9dC5wcm9wZXJ0aWVzKT92b2lkIDA6ZS4kc2V0KSYmdm9pZCAwIT09aT9pOnt9LGYpfTp7fSxjP3skc2V0X29uY2U6Zyh7fSxudWxsIT09KHI9bnVsbD09KHM9dC5wcm9wZXJ0aWVzKT92b2lkIDA6cy4kc2V0X29uY2UpJiZ2b2lkIDAhPT1yP3I6e30sYyl9Ont9KSxlbGVtZW50c19jaGFpbjpudWxsIT09KG49bnVsbD09KG89dC5wcm9wZXJ0aWVzKT92b2lkIDA6by4kZWxlbWVudHNfY2hhaW4pJiZ2b2lkIDAhPT1uP246XCJcIixkaXN0aW5jdF9pZDpudWxsPT0oYT10LnByb3BlcnRpZXMpP3ZvaWQgMDphLmRpc3RpbmN0X2lkfSkscGVyc29uOntwcm9wZXJ0aWVzOnRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShcIiRzdG9yZWRfcGVyc29uX3Byb3BlcnRpZXNcIil9LGdyb3VwczpsfX1zZXR1cFNpdGVBcHAodCl7dmFyIGk9dGhpcy5hcHBzW3QuaWRdLGU9KCk9Pnt2YXIgZTsoIWkuZXJyb3JlZCYmdGhpcy5ZZS5sZW5ndGgmJihwby5pbmZvKFwiUHJvY2Vzc2luZyBcIit0aGlzLlllLmxlbmd0aCtcIiBldmVudHMgZm9yIHNpdGUgYXBwIHdpdGggaWQgXCIrdC5pZCksdGhpcy5ZZS5mb3JFYWNoKCh0PT5udWxsPT1pLnByb2Nlc3NFdmVudD92b2lkIDA6aS5wcm9jZXNzRXZlbnQodCkpKSxpLnByb2Nlc3NlZEJ1ZmZlcj0hMCksT2JqZWN0LnZhbHVlcyh0aGlzLmFwcHMpLmV2ZXJ5KCh0PT50LnByb2Nlc3NlZEJ1ZmZlcnx8dC5lcnJvcmVkKSkpJiYobnVsbD09KGU9dGhpcy5RZSl8fGUuY2FsbCh0aGlzKSl9LHI9ITEscz1zPT57aS5lcnJvcmVkPSFzLGkubG9hZGVkPSEwLHBvLmluZm8oXCJTaXRlIGFwcCB3aXRoIGlkIFwiK3QuaWQrXCIgXCIrKHM/XCJsb2FkZWRcIjpcImVycm9yZWRcIikpLHImJmUoKX07dHJ5e3Zhcntwcm9jZXNzRXZlbnQ6bn09dC5pbml0KHtwb3N0aG9nOnRoaXMuX2luc3RhbmNlLGNhbGxiYWNrOnQ9PntzKHQpfX0pO24mJihpLnByb2Nlc3NFdmVudD1uKSxyPSEwfWNhdGNoKGkpe3BvLmVycm9yKFwiRXJyb3Igd2hpbGUgaW5pdGlhbGl6aW5nIFBvc3RIb2cgYXBwIHdpdGggY29uZmlnIGlkIFwiK3QuaWQsaSkscyghMSl9aWYociYmaS5sb2FkZWQpdHJ5e2UoKX1jYXRjaChlKXtwby5lcnJvcihcIkVycm9yIHdoaWxlIHByb2Nlc3NpbmcgYnVmZmVyZWQgZXZlbnRzIFBvc3RIb2cgYXBwIHdpdGggY29uZmlnIGlkIFwiK3QuaWQsZSksaS5lcnJvcmVkPSEwfX1aZSgpe3ZhciB0PXRoaXMuc2l0ZUFwcExvYWRlcnN8fFtdO2Zvcih2YXIgaSBvZiB0KXRoaXMuYXBwc1tpLmlkXT17aWQ6aS5pZCxsb2FkZWQ6ITEsZXJyb3JlZDohMSxwcm9jZXNzZWRCdWZmZXI6ITF9O2Zvcih2YXIgZSBvZiB0KXRoaXMuc2V0dXBTaXRlQXBwKGUpfXRyKHQpe2lmKDAhPT1PYmplY3Qua2V5cyh0aGlzLmFwcHMpLmxlbmd0aCl7dmFyIGk9dGhpcy5nbG9iYWxzRm9yRXZlbnQodCk7Zm9yKHZhciBlIG9mIE9iamVjdC52YWx1ZXModGhpcy5hcHBzKSl0cnl7bnVsbD09ZS5wcm9jZXNzRXZlbnR8fGUucHJvY2Vzc0V2ZW50KGkpfWNhdGNoKGkpe3BvLmVycm9yKFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBldmVudCBcIit0LmV2ZW50K1wiIGZvciBzaXRlIGFwcCBcIitlLmlkLGkpfX19b25SZW1vdGVDb25maWcodCl7dmFyIGksZSxyLHM9dGhpcztpZihudWxsIT0oaT10aGlzLnNpdGVBcHBMb2FkZXJzKSYmaS5sZW5ndGgpcmV0dXJuIHRoaXMuaXNFbmFibGVkPyh0aGlzLlplKCksdm9pZCB0aGlzLl9pbnN0YW5jZS5vbihcImV2ZW50Q2FwdHVyZWRcIiwodD0+dGhpcy50cih0KSkpKTp2b2lkIHBvLmVycm9yKCdQb3N0SG9nIHNpdGUgYXBwcyBhcmUgZGlzYWJsZWQuIEVuYWJsZSB0aGUgXCJvcHRfaW5fc2l0ZV9hcHBzXCIgY29uZmlnIHRvIHByb2NlZWQuJyk7aWYobnVsbD09KGU9dGhpcy5RZSl8fGUuY2FsbCh0aGlzKSxudWxsIT0ocj10LnNpdGVBcHBzKSYmci5sZW5ndGgpaWYodGhpcy5pc0VuYWJsZWQpe3ZhciBuPWZ1bmN0aW9uKHQpe3ZhciBpO3ZbXCJfXyQkcGhfc2l0ZV9hcHBfXCIrdF09cy5faW5zdGFuY2UsbnVsbD09KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHxudWxsPT1pLmxvYWRTaXRlQXBwfHxpLmxvYWRTaXRlQXBwKHMuX2luc3RhbmNlLGEsKGk9PntpZihpKXJldHVybiBwby5lcnJvcihcIkVycm9yIHdoaWxlIGluaXRpYWxpemluZyBQb3N0SG9nIGFwcCB3aXRoIGNvbmZpZyBpZCBcIit0LGkpfSkpfTtmb3IodmFye2lkOm8sdXJsOmF9b2YgdC5zaXRlQXBwcyluKG8pfWVsc2UgcG8uZXJyb3IoJ1Bvc3RIb2cgc2l0ZSBhcHBzIGFyZSBkaXNhYmxlZC4gRW5hYmxlIHRoZSBcIm9wdF9pbl9zaXRlX2FwcHNcIiBjb25maWcgdG8gcHJvY2VlZC4nKX19dmFyIF9vPWZ1bmN0aW9uKHQsaSl7aWYoIXQpcmV0dXJuITE7dmFyIGU9dC51c2VyQWdlbnQ7aWYoZSYmeShlLGkpKXJldHVybiEwO3RyeXt2YXIgcj1udWxsPT10P3ZvaWQgMDp0LnVzZXJBZ2VudERhdGE7aWYobnVsbCE9ciYmci5icmFuZHMmJnIuYnJhbmRzLnNvbWUoKHQ9PnkobnVsbD09dD92b2lkIDA6dC5icmFuZCxpKSkpKXJldHVybiEwfWNhdGNoKHQpe31yZXR1cm4hIXQud2ViZHJpdmVyfSxtbz1mdW5jdGlvbih0KXtyZXR1cm4gdC5VUz1cInVzXCIsdC5FVT1cImV1XCIsdC5DVVNUT009XCJjdXN0b21cIix0fSh7fSkseW89XCJpLnBvc3Rob2cuY29tXCI7Y2xhc3MgYm97Y29uc3RydWN0b3IodCl7dGhpcy5pcj17fSx0aGlzLmluc3RhbmNlPXR9Z2V0IGFwaUhvc3QoKXt2YXIgdD10aGlzLmluc3RhbmNlLmNvbmZpZy5hcGlfaG9zdC50cmltKCkucmVwbGFjZSgvXFwvJC8sXCJcIik7cmV0dXJuXCJodHRwczovL2FwcC5wb3N0aG9nLmNvbVwiPT09dD9cImh0dHBzOi8vdXMuaS5wb3N0aG9nLmNvbVwiOnR9Z2V0IGZsYWdzQXBpSG9zdCgpe3ZhciB0PXRoaXMuaW5zdGFuY2UuY29uZmlnLmZsYWdzX2FwaV9ob3N0O3JldHVybiB0P3QudHJpbSgpLnJlcGxhY2UoL1xcLyQvLFwiXCIpOnRoaXMuYXBpSG9zdH1nZXQgdWlIb3N0KCl7dmFyIHQsaT1udWxsPT0odD10aGlzLmluc3RhbmNlLmNvbmZpZy51aV9ob3N0KT92b2lkIDA6dC5yZXBsYWNlKC9cXC8kLyxcIlwiKTtyZXR1cm4gaXx8KGk9dGhpcy5hcGlIb3N0LnJlcGxhY2UoXCIuXCIreW8sXCIucG9zdGhvZy5jb21cIikpLFwiaHR0cHM6Ly9hcHAucG9zdGhvZy5jb21cIj09PWk/XCJodHRwczovL3VzLnBvc3Rob2cuY29tXCI6aX1nZXQgcmVnaW9uKCl7cmV0dXJuIHRoaXMuaXJbdGhpcy5hcGlIb3N0XXx8KC9odHRwczpcXC9cXC8oYXBwfHVzfHVzLWFzc2V0cykoXFwuaSk/XFwucG9zdGhvZ1xcLmNvbS9pLnRlc3QodGhpcy5hcGlIb3N0KT90aGlzLmlyW3RoaXMuYXBpSG9zdF09bW8uVVM6L2h0dHBzOlxcL1xcLyhldXxldS1hc3NldHMpKFxcLmkpP1xcLnBvc3Rob2dcXC5jb20vaS50ZXN0KHRoaXMuYXBpSG9zdCk/dGhpcy5pclt0aGlzLmFwaUhvc3RdPW1vLkVVOnRoaXMuaXJbdGhpcy5hcGlIb3N0XT1tby5DVVNUT00pLHRoaXMuaXJbdGhpcy5hcGlIb3N0XX1lbmRwb2ludEZvcih0LGkpe2lmKHZvaWQgMD09PWkmJihpPVwiXCIpLGkmJihpPVwiL1wiPT09aVswXT9pOlwiL1wiK2kpLFwidWlcIj09PXQpcmV0dXJuIHRoaXMudWlIb3N0K2k7aWYoXCJmbGFnc1wiPT09dClyZXR1cm4gdGhpcy5mbGFnc0FwaUhvc3QraTtpZih0aGlzLnJlZ2lvbj09PW1vLkNVU1RPTSlyZXR1cm4gdGhpcy5hcGlIb3N0K2k7dmFyIGU9eW8raTtzd2l0Y2godCl7Y2FzZVwiYXNzZXRzXCI6cmV0dXJuXCJodHRwczovL1wiK3RoaXMucmVnaW9uK1wiLWFzc2V0cy5cIitlO2Nhc2VcImFwaVwiOnJldHVyblwiaHR0cHM6Ly9cIit0aGlzLnJlZ2lvbitcIi5cIitlfX19dmFyIHdvPXtpY29udGFpbnM6KGksZSk9PiEhdCYmZS5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihpLnRvTG93ZXJDYXNlKCkpPi0xLG5vdF9pY29udGFpbnM6KGksZSk9PiEhdCYmLTE9PT1lLmhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKGkudG9Mb3dlckNhc2UoKSkscmVnZXg6KGksZSk9PiEhdCYmY24oZS5ocmVmLGkpLG5vdF9yZWdleDooaSxlKT0+ISF0JiYhY24oZS5ocmVmLGkpLGV4YWN0Oih0LGkpPT5pLmhyZWY9PT10LGlzX25vdDoodCxpKT0+aS5ocmVmIT09dH07Y2xhc3MgeG97Y29uc3RydWN0b3IodCl7dmFyIGk9dGhpczt0aGlzLmdldFdlYkV4cGVyaW1lbnRzQW5kRXZhbHVhdGVEaXNwbGF5TG9naWM9ZnVuY3Rpb24odCl7dm9pZCAwPT09dCYmKHQ9ITEpLGkuZ2V0V2ViRXhwZXJpbWVudHMoKHQ9Pnt4by5lcihcInJldHJpZXZlZCB3ZWIgZXhwZXJpbWVudHMgZnJvbSB0aGUgc2VydmVyXCIpLGkucnI9bmV3IE1hcCx0LmZvckVhY2goKHQ9PntpZih0LmZlYXR1cmVfZmxhZ19rZXkpe3ZhciBlO2lmKGkucnIpeG8uZXIoXCJzZXR0aW5nIGZsYWcga2V5IFwiLHQuZmVhdHVyZV9mbGFnX2tleSxcIiB0byB3ZWIgZXhwZXJpbWVudCBcIix0KSxudWxsPT0oZT1pLnJyKXx8ZS5zZXQodC5mZWF0dXJlX2ZsYWdfa2V5LHQpO3ZhciByPWkuX2luc3RhbmNlLmdldEZlYXR1cmVGbGFnKHQuZmVhdHVyZV9mbGFnX2tleSk7TyhyKSYmdC52YXJpYW50c1tyXSYmaS5zcih0Lm5hbWUscix0LnZhcmlhbnRzW3JdLnRyYW5zZm9ybXMpfWVsc2UgaWYodC52YXJpYW50cylmb3IodmFyIHMgaW4gdC52YXJpYW50cyl7dmFyIG49dC52YXJpYW50c1tzXTt4by5ucihuKSYmaS5zcih0Lm5hbWUscyxuLnRyYW5zZm9ybXMpfX0pKX0pLHQpfSx0aGlzLl9pbnN0YW5jZT10LHRoaXMuX2luc3RhbmNlLm9uRmVhdHVyZUZsYWdzKCh0PT57dGhpcy5vbkZlYXR1cmVGbGFncyh0KX0pKX1vbkZlYXR1cmVGbGFncyh0KXtpZih0aGlzLl9pc19ib3QoKSl4by5lcihcIlJlZnVzaW5nIHRvIHJlbmRlciB3ZWIgZXhwZXJpbWVudCBzaW5jZSB0aGUgdmlld2VyIGlzIGEgbGlrZWx5IGJvdFwiKTtlbHNlIGlmKCF0aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV93ZWJfZXhwZXJpbWVudHMpe2lmKGoodGhpcy5ycikpcmV0dXJuIHRoaXMucnI9bmV3IE1hcCx0aGlzLmxvYWRJZkVuYWJsZWQoKSx2b2lkIHRoaXMucHJldmlld1dlYkV4cGVyaW1lbnQoKTt4by5lcihcImFwcGx5aW5nIGZlYXR1cmUgZmxhZ3NcIix0KSx0LmZvckVhY2goKHQ9Pnt2YXIgaTtpZih0aGlzLnJyJiZudWxsIT0oaT10aGlzLnJyKSYmaS5oYXModCkpe3ZhciBlLHI9dGhpcy5faW5zdGFuY2UuZ2V0RmVhdHVyZUZsYWcodCkscz1udWxsPT0oZT10aGlzLnJyKT92b2lkIDA6ZS5nZXQodCk7ciYmbnVsbCE9cyYmcy52YXJpYW50c1tyXSYmdGhpcy5zcihzLm5hbWUscixzLnZhcmlhbnRzW3JdLnRyYW5zZm9ybXMpfX0pKX19cHJldmlld1dlYkV4cGVyaW1lbnQoKXt2YXIgdD14by5nZXRXaW5kb3dMb2NhdGlvbigpO2lmKG51bGwhPXQmJnQuc2VhcmNoKXt2YXIgaT1oZShudWxsPT10P3ZvaWQgMDp0LnNlYXJjaCxcIl9fZXhwZXJpbWVudF9pZFwiKSxlPWhlKG51bGw9PXQ/dm9pZCAwOnQuc2VhcmNoLFwiX19leHBlcmltZW50X3ZhcmlhbnRcIik7aSYmZSYmKHhvLmVyKFwicHJldmlld2luZyB3ZWIgZXhwZXJpbWVudHMgXCIraStcIiAmJiBcIitlKSx0aGlzLmdldFdlYkV4cGVyaW1lbnRzKCh0PT57dGhpcy5hcihwYXJzZUludChpKSxlLHQpfSksITEsITApKX19bG9hZElmRW5hYmxlZCgpe3RoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3dlYl9leHBlcmltZW50c3x8dGhpcy5nZXRXZWJFeHBlcmltZW50c0FuZEV2YWx1YXRlRGlzcGxheUxvZ2ljKCl9Z2V0V2ViRXhwZXJpbWVudHModCxpLGUpe2lmKHRoaXMuX2luc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3dlYl9leHBlcmltZW50cyYmIWUpcmV0dXJuIHQoW10pO3ZhciByPXRoaXMuX2luc3RhbmNlLmdldF9wcm9wZXJ0eShcIiR3ZWJfZXhwZXJpbWVudHNcIik7aWYociYmIWkpcmV0dXJuIHQocik7dGhpcy5faW5zdGFuY2UuY2koe3VybDp0aGlzLl9pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsXCIvYXBpL3dlYl9leHBlcmltZW50cy8/dG9rZW49XCIrdGhpcy5faW5zdGFuY2UuY29uZmlnLnRva2VuKSxtZXRob2Q6XCJHRVRcIixjYWxsYmFjazppPT57aWYoMjAwIT09aS5zdGF0dXNDb2RlfHwhaS5qc29uKXJldHVybiB0KFtdKTt2YXIgZT1pLmpzb24uZXhwZXJpbWVudHN8fFtdO3JldHVybiB0KGUpfX0pfWFyKHQsaSxlKXt2YXIgcj1lLmZpbHRlcigoaT0+aS5pZD09PXQpKTtyJiZyLmxlbmd0aD4wJiYoeG8uZXIoXCJQcmV2aWV3aW5nIHdlYiBleHBlcmltZW50IFtcIityWzBdLm5hbWUrXCJdIHdpdGggdmFyaWFudCBbXCIraStcIl1cIiksdGhpcy5zcihyWzBdLm5hbWUsaSxyWzBdLnZhcmlhbnRzW2ldLnRyYW5zZm9ybXMpKX1zdGF0aWMgbnIodCl7cmV0dXJuIWoodC5jb25kaXRpb25zKSYmKHhvLmxyKHQpJiZ4by51cih0KSl9c3RhdGljIGxyKHQpe3ZhciBpO2lmKGoodC5jb25kaXRpb25zKXx8aihudWxsPT0oaT10LmNvbmRpdGlvbnMpP3ZvaWQgMDppLnVybCkpcmV0dXJuITA7dmFyIGUscixzLG49eG8uZ2V0V2luZG93TG9jYXRpb24oKTtyZXR1cm4hIW4mJihudWxsPT0oZT10LmNvbmRpdGlvbnMpfHwhZS51cmx8fHdvW251bGwhPT0ocj1udWxsPT0ocz10LmNvbmRpdGlvbnMpP3ZvaWQgMDpzLnVybE1hdGNoVHlwZSkmJnZvaWQgMCE9PXI/cjpcImljb250YWluc1wiXSh0LmNvbmRpdGlvbnMudXJsLG4pKX1zdGF0aWMgZ2V0V2luZG93TG9jYXRpb24oKXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5sb2NhdGlvbn1zdGF0aWMgdXIodCl7dmFyIGk7aWYoaih0LmNvbmRpdGlvbnMpfHxqKG51bGw9PShpPXQuY29uZGl0aW9ucyk/dm9pZCAwOmkudXRtKSlyZXR1cm4hMDt2YXIgZT1scygpO2lmKGUudXRtX3NvdXJjZSl7dmFyIHIscyxuLG8sYSxsLHUsaCxkPW51bGw9PShyPXQuY29uZGl0aW9ucyl8fG51bGw9PShyPXIudXRtKXx8IXIudXRtX2NhbXBhaWdufHwobnVsbD09KHM9dC5jb25kaXRpb25zKXx8bnVsbD09KHM9cy51dG0pP3ZvaWQgMDpzLnV0bV9jYW1wYWlnbik9PWUudXRtX2NhbXBhaWduLHY9bnVsbD09KG49dC5jb25kaXRpb25zKXx8bnVsbD09KG49bi51dG0pfHwhbi51dG1fc291cmNlfHwobnVsbD09KG89dC5jb25kaXRpb25zKXx8bnVsbD09KG89by51dG0pP3ZvaWQgMDpvLnV0bV9zb3VyY2UpPT1lLnV0bV9zb3VyY2UsYz1udWxsPT0oYT10LmNvbmRpdGlvbnMpfHxudWxsPT0oYT1hLnV0bSl8fCFhLnV0bV9tZWRpdW18fChudWxsPT0obD10LmNvbmRpdGlvbnMpfHxudWxsPT0obD1sLnV0bSk/dm9pZCAwOmwudXRtX21lZGl1bSk9PWUudXRtX21lZGl1bSxmPW51bGw9PSh1PXQuY29uZGl0aW9ucyl8fG51bGw9PSh1PXUudXRtKXx8IXUudXRtX3Rlcm18fChudWxsPT0oaD10LmNvbmRpdGlvbnMpfHxudWxsPT0oaD1oLnV0bSk/dm9pZCAwOmgudXRtX3Rlcm0pPT1lLnV0bV90ZXJtO3JldHVybiBkJiZjJiZmJiZ2fXJldHVybiExfXN0YXRpYyBlcih0KXtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxlPW5ldyBBcnJheShpPjE/aS0xOjApLHI9MTtyPGk7cisrKWVbci0xXT1hcmd1bWVudHNbcl07UHQuaW5mbyhcIltXZWJFeHBlcmltZW50c10gXCIrdCxlKX1zcih0LGksZSl7dGhpcy5faXNfYm90KCk/eG8uZXIoXCJSZWZ1c2luZyB0byByZW5kZXIgd2ViIGV4cGVyaW1lbnQgc2luY2UgdGhlIHZpZXdlciBpcyBhIGxpa2VseSBib3RcIik6XCJjb250cm9sXCIhPT1pP2UuZm9yRWFjaCgoZT0+e2lmKGUuc2VsZWN0b3Ipe3ZhciByO3hvLmVyKFwiYXBwbHlpbmcgdHJhbnNmb3JtIG9mIHZhcmlhbnQgXCIraStcIiBmb3IgZXhwZXJpbWVudCBcIit0K1wiIFwiLGUpO3ZhciBzPW51bGw9PShyPWRvY3VtZW50KT92b2lkIDA6ci5xdWVyeVNlbGVjdG9yQWxsKGUuc2VsZWN0b3IpO251bGw9PXN8fHMuZm9yRWFjaCgodD0+e3ZhciBpPXQ7ZS5odG1sJiYoaS5pbm5lckhUTUw9ZS5odG1sKSxlLmNzcyYmaS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLGUuY3NzKX0pKX19KSk6eG8uZXIoXCJDb250cm9sIHZhcmlhbnRzIGxlYXZlIHRoZSBwYWdlIHVubW9kaWZpZWQuXCIpfV9pc19ib3QoKXtyZXR1cm4gbiYmdGhpcy5faW5zdGFuY2U/X28obix0aGlzLl9pbnN0YW5jZS5jb25maWcuY3VzdG9tX2Jsb2NrZWRfdXNlcmFnZW50cyk6dm9pZCAwfX12YXIgU289VHQoXCJbUG9zdEhvZyBFeHRlcm5hbEludGVncmF0aW9uc11cIiksRW89e2ludGVyY29tOlwiaW50ZXJjb20taW50ZWdyYXRpb25cIixjcmlzcENoYXQ6XCJjcmlzcC1jaGF0LWludGVncmF0aW9uXCJ9O2NsYXNzICRve2NvbnN0cnVjdG9yKHQpe3RoaXMuX2luc3RhbmNlPXR9aXQodCxpKXt2YXIgZTtudWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PWUubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuX2luc3RhbmNlLHQsKHQ9PntpZih0KXJldHVybiBTby5lcnJvcihcImZhaWxlZCB0byBsb2FkIHNjcmlwdFwiLHQpO2koKX0pKX1zdGFydElmRW5hYmxlZE9yU3RvcCgpe3ZhciB0PXRoaXMsaT1mdW5jdGlvbihpKXt2YXIgZSxzLG47KCFyfHxudWxsIT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJm51bGwhPShlPWUuaW50ZWdyYXRpb25zKSYmZVtpXXx8dC5pdChFb1tpXSwoKCk9Pnt2YXIgZTtudWxsPT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PShlPWUuaW50ZWdyYXRpb25zKXx8bnVsbD09KGU9ZVtpXSl8fGUuc3RhcnQodC5faW5zdGFuY2UpfSkpLCFyJiZudWxsIT0ocz12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJm51bGwhPShzPXMuaW50ZWdyYXRpb25zKSYmc1tpXSkmJihudWxsPT0obj12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PShuPW4uaW50ZWdyYXRpb25zKXx8bnVsbD09KG49bltpXSl8fG4uc3RvcCgpKX07Zm9yKHZhcltlLHJdb2YgT2JqZWN0LmVudHJpZXMobnVsbCE9PShzPXRoaXMuX2luc3RhbmNlLmNvbmZpZy5pbnRlZ3JhdGlvbnMpJiZ2b2lkIDAhPT1zP3M6e30pKXt2YXIgcztpKGUpfX19dmFyIGtvPVwiW1Nlc3Npb25SZWNvcmRpbmddXCIsUG89VHQoa28pO2NsYXNzIFRve2dldCBzdGFydGVkKCl7dmFyIHQ7cmV0dXJuIShudWxsPT0odD10aGlzLmhyKXx8IXQuaXNTdGFydGVkKX1nZXQgc3RhdHVzKCl7cmV0dXJuIHRoaXMuaHI/dGhpcy5oci5zdGF0dXM6dGhpcy5kciYmIXRoaXMudnI/XCJkaXNhYmxlZFwiOlwibGF6eV9sb2FkaW5nXCJ9Y29uc3RydWN0b3IodCl7aWYodGhpcy5fZm9yY2VBbGxvd0xvY2FsaG9zdE5ldHdvcmtDYXB0dXJlPSExLHRoaXMuZHI9ITEsdGhpcy5jcj12b2lkIDAsdGhpcy5faW5zdGFuY2U9dCwhdGhpcy5faW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpdGhyb3cgUG8uZXJyb3IoXCJzdGFydGVkIHdpdGhvdXQgdmFsaWQgc2Vzc2lvbk1hbmFnZXJcIiksbmV3IEVycm9yKGtvK1wiIHN0YXJ0ZWQgd2l0aG91dCB2YWxpZCBzZXNzaW9uTWFuYWdlci4gVGhpcyBpcyBhIGJ1Zy5cIik7aWYoXCJhbHdheXNcIj09PXRoaXMuX2luc3RhbmNlLmNvbmZpZy5jb29raWVsZXNzX21vZGUpdGhyb3cgbmV3IEVycm9yKGtvKycgY2Fubm90IGJlIHVzZWQgd2l0aCBjb29raWVsZXNzX21vZGU9XCJhbHdheXNcIicpfWdldCB2cigpe3ZhciBpLGU9IShudWxsPT0oaT10aGlzLl9pbnN0YW5jZS5nZXRfcHJvcGVydHkoZWkpKXx8IWkuZW5hYmxlZCkscj0hdGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmcscz10aGlzLl9pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZ3x8dGhpcy5faW5zdGFuY2UuY29uc2VudC5pc09wdGVkT3V0KCk7cmV0dXJuIHQmJmUmJnImJiFzfXN0YXJ0SWZFbmFibGVkT3JTdG9wKHQpe3ZhciBpO2lmKCF0aGlzLnZyfHxudWxsPT0oaT10aGlzLmhyKXx8IWkuaXNTdGFydGVkKXt2YXIgZT0hTShPYmplY3QuYXNzaWduKSYmIU0oQXJyYXkuZnJvbSk7dGhpcy52ciYmZT8odGhpcy5wcih0KSxQby5pbmZvKFwic3RhcnRpbmdcIikpOnRoaXMuc3RvcFJlY29yZGluZygpfX1wcih0KXt2YXIgaSxlLHI7dGhpcy52ciYmKG51bGwhPXYmJm51bGwhPShpPXYuX19Qb3N0aG9nRXh0ZW5zaW9uc19fKSYmbnVsbCE9KGk9aS5ycndlYikmJmkucmVjb3JkJiZudWxsIT0oZT12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJmUuaW5pdFNlc3Npb25SZWNvcmRpbmc/dGhpcy5ncih0KTpudWxsPT0ocj12Ll9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fG51bGw9PXIubG9hZEV4dGVybmFsRGVwZW5kZW5jeXx8ci5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KHRoaXMuX2luc3RhbmNlLHRoaXMuX3IsKGk9PntpZihpKXJldHVybiBQby5lcnJvcihcImNvdWxkIG5vdCBsb2FkIHJlY29yZGVyXCIsaSk7dGhpcy5ncih0KX0pKSl9c3RvcFJlY29yZGluZygpe3ZhciB0LGk7bnVsbD09KHQ9dGhpcy5jcil8fHQuY2FsbCh0aGlzKSx0aGlzLmNyPXZvaWQgMCxudWxsPT0oaT10aGlzLmhyKXx8aS5zdG9wKCl9bXIoKXt2YXIgdDtudWxsPT0odD10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHQudW5yZWdpc3RlcihzaSl9eXIodCl7aWYodGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2Upe3ZhciBpLGUscj10aGlzLl9pbnN0YW5jZS5wZXJzaXN0ZW5jZSxzPSgpPT57dmFyIGk9ITE9PT10LnNlc3Npb25SZWNvcmRpbmc/dm9pZCAwOnQuc2Vzc2lvblJlY29yZGluZyxlPW51bGw9PWk/dm9pZCAwOmkuc2FtcGxlUmF0ZSxzPWooZSk/bnVsbDpwYXJzZUZsb2F0KGUpO2oocykmJnRoaXMubXIoKTt2YXIgbj1udWxsPT1pP3ZvaWQgMDppLm1pbmltdW1EdXJhdGlvbk1pbGxpc2Vjb25kcztyLnJlZ2lzdGVyKHtbZWldOmcoe2VuYWJsZWQ6ISFpfSxpLHtuZXR3b3JrUGF5bG9hZENhcHR1cmU6Zyh7Y2FwdHVyZVBlcmZvcm1hbmNlOnQuY2FwdHVyZVBlcmZvcm1hbmNlfSxudWxsPT1pP3ZvaWQgMDppLm5ldHdvcmtQYXlsb2FkQ2FwdHVyZSksY2FudmFzUmVjb3JkaW5nOntlbmFibGVkOm51bGw9PWk/dm9pZCAwOmkucmVjb3JkQ2FudmFzLGZwczpudWxsPT1pP3ZvaWQgMDppLmNhbnZhc0ZwcyxxdWFsaXR5Om51bGw9PWk/dm9pZCAwOmkuY2FudmFzUXVhbGl0eX0sc2FtcGxlUmF0ZTpzLG1pbmltdW1EdXJhdGlvbk1pbGxpc2Vjb25kczpNKG4pP251bGw6bixlbmRwb2ludDpudWxsPT1pP3ZvaWQgMDppLmVuZHBvaW50LHRyaWdnZXJNYXRjaFR5cGU6bnVsbD09aT92b2lkIDA6aS50cmlnZ2VyTWF0Y2hUeXBlLG1hc2tpbmc6bnVsbD09aT92b2lkIDA6aS5tYXNraW5nLHVybFRyaWdnZXJzOm51bGw9PWk/dm9pZCAwOmkudXJsVHJpZ2dlcnN9KX0pfTtzKCksbnVsbD09KGk9dGhpcy5jcil8fGkuY2FsbCh0aGlzKSx0aGlzLmNyPW51bGw9PShlPXRoaXMuX2luc3RhbmNlLnNlc3Npb25NYW5hZ2VyKT92b2lkIDA6ZS5vblNlc3Npb25JZChzKX19b25SZW1vdGVDb25maWcodCl7XCJzZXNzaW9uUmVjb3JkaW5nXCJpbiB0PyExIT09dC5zZXNzaW9uUmVjb3JkaW5nPyh0aGlzLnlyKHQpLHRoaXMuZHI9ITAsdGhpcy5zdGFydElmRW5hYmxlZE9yU3RvcCgpKTp0aGlzLmRyPSEwOlBvLmluZm8oXCJza2lwcGluZyByZW1vdGUgY29uZmlnIHdpdGggbm8gc2Vzc2lvblJlY29yZGluZ1wiLHQpfWxvZyh0LGkpe3ZhciBlO3ZvaWQgMD09PWkmJihpPVwibG9nXCIpLG51bGwhPShlPXRoaXMuaHIpJiZlLmxvZz90aGlzLmhyLmxvZyh0LGkpOlBvLndhcm4oXCJsb2cgY2FsbGVkIGJlZm9yZSByZWNvcmRlciB3YXMgcmVhZHlcIil9Z2V0IF9yKCl7dmFyIHQsaSxlPW51bGw9PSh0PXRoaXMuX2luc3RhbmNlKXx8bnVsbD09KHQ9dC5wZXJzaXN0ZW5jZSk/dm9pZCAwOnQuZ2V0X3Byb3BlcnR5KGVpKTtyZXR1cm4obnVsbD09ZXx8bnVsbD09KGk9ZS5zY3JpcHRDb25maWcpP3ZvaWQgMDppLnNjcmlwdCl8fFwibGF6eS1yZWNvcmRlclwifWdyKHQpe3ZhciBpLGU7aWYobnVsbD09KGk9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHwhaS5pbml0U2Vzc2lvblJlY29yZGluZyl0aHJvdyBFcnJvcihcIkNhbGxlZCBvbiBzY3JpcHQgbG9hZGVkIGJlZm9yZSBzZXNzaW9uIHJlY29yZGluZyBpcyBhdmFpbGFibGVcIik7dGhpcy5ocnx8KHRoaXMuaHI9bnVsbD09KGU9di5fX1Bvc3Rob2dFeHRlbnNpb25zX18pP3ZvaWQgMDplLmluaXRTZXNzaW9uUmVjb3JkaW5nKHRoaXMuX2luc3RhbmNlKSx0aGlzLmhyLl9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmU9dGhpcy5fZm9yY2VBbGxvd0xvY2FsaG9zdE5ldHdvcmtDYXB0dXJlKTt0aGlzLmhyLnN0YXJ0KHQpfW9uUlJ3ZWJFbWl0KHQpe3ZhciBpO251bGw9PShpPXRoaXMuaHIpfHxudWxsPT1pLm9uUlJ3ZWJFbWl0fHxpLm9uUlJ3ZWJFbWl0KHQpfW92ZXJyaWRlTGlua2VkRmxhZygpe3ZhciB0LGk7dGhpcy5ocnx8KG51bGw9PShpPXRoaXMuX2luc3RhbmNlLnBlcnNpc3RlbmNlKXx8aS5yZWdpc3Rlcih7JHJlcGxheV9vdmVycmlkZV9saW5rZWRfZmxhZzohMH0pKTtudWxsPT0odD10aGlzLmhyKXx8dC5vdmVycmlkZUxpbmtlZEZsYWcoKX1vdmVycmlkZVNhbXBsaW5nKCl7dmFyIHQsaTt0aGlzLmhyfHwobnVsbD09KGk9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxpLnJlZ2lzdGVyKHskcmVwbGF5X292ZXJyaWRlX3NhbXBsaW5nOiEwfSkpO251bGw9PSh0PXRoaXMuaHIpfHx0Lm92ZXJyaWRlU2FtcGxpbmcoKX1vdmVycmlkZVRyaWdnZXIodCl7dmFyIGksZTt0aGlzLmhyfHwobnVsbD09KGU9dGhpcy5faW5zdGFuY2UucGVyc2lzdGVuY2UpfHxlLnJlZ2lzdGVyKHtbXCJ1cmxcIj09PXQ/XCIkcmVwbGF5X292ZXJyaWRlX3VybF90cmlnZ2VyXCI6XCIkcmVwbGF5X292ZXJyaWRlX2V2ZW50X3RyaWdnZXJcIl06ITB9KSk7bnVsbD09KGk9dGhpcy5ocil8fGkub3ZlcnJpZGVUcmlnZ2VyKHQpfWdldCBzZGtEZWJ1Z1Byb3BlcnRpZXMoKXt2YXIgdDtyZXR1cm4obnVsbD09KHQ9dGhpcy5ocik/dm9pZCAwOnQuc2RrRGVidWdQcm9wZXJ0aWVzKXx8eyRyZWNvcmRpbmdfc3RhdHVzOnRoaXMuc3RhdHVzfX10cnlBZGRDdXN0b21FdmVudCh0LGkpe3ZhciBlO3JldHVybiEobnVsbD09KGU9dGhpcy5ocil8fCFlLnRyeUFkZEN1c3RvbUV2ZW50KHQsaSkpfX12YXIgSW89e30sUm89KCk9Pnt9LEZvPVwicG9zdGhvZ1wiLENvPSFhbiYmLTE9PT0obnVsbD09ZD92b2lkIDA6ZC5pbmRleE9mKFwiTVNJRVwiKSkmJi0xPT09KG51bGw9PWQ/dm9pZCAwOmQuaW5kZXhPZihcIk1vemlsbGFcIikpLE1vPWk9Pnt2YXIgZTtyZXR1cm4gZyh7YXBpX2hvc3Q6XCJodHRwczovL3VzLmkucG9zdGhvZy5jb21cIixmbGFnc19hcGlfaG9zdDpudWxsLHVpX2hvc3Q6bnVsbCx0b2tlbjpcIlwiLGF1dG9jYXB0dXJlOiEwLGNyb3NzX3N1YmRvbWFpbl9jb29raWU6SHQobnVsbD09bz92b2lkIDA6by5sb2NhdGlvbikscGVyc2lzdGVuY2U6XCJsb2NhbFN0b3JhZ2UrY29va2llXCIscGVyc2lzdGVuY2VfbmFtZTpcIlwiLGxvYWRlZDpSbyxzYXZlX2NhbXBhaWduX3BhcmFtczohMCxjdXN0b21fY2FtcGFpZ25fcGFyYW1zOltdLGN1c3RvbV9ibG9ja2VkX3VzZXJhZ2VudHM6W10sc2F2ZV9yZWZlcnJlcjohMCxjYXB0dXJlX3BhZ2VsZWF2ZTpcImlmX2NhcHR1cmVfcGFnZXZpZXdcIixkZWZhdWx0czpudWxsIT1pP2k6XCJ1bnNldFwiLF9fcHJldmlld19kZWZlcnJlZF9pbml0X2V4dGVuc2lvbnM6ITEsZGVidWc6YSYmTyhudWxsPT1hP3ZvaWQgMDphLnNlYXJjaCkmJi0xIT09YS5zZWFyY2guaW5kZXhPZihcIl9fcG9zdGhvZ19kZWJ1Zz10cnVlXCIpfHwhMSxjb29raWVfZXhwaXJhdGlvbjozNjUsdXBncmFkZTohMSxkaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nOiExLGRpc2FibGVfcGVyc2lzdGVuY2U6ITEsZGlzYWJsZV93ZWJfZXhwZXJpbWVudHM6ITAsZGlzYWJsZV9zdXJ2ZXlzOiExLGRpc2FibGVfc3VydmV5c19hdXRvbWF0aWNfZGlzcGxheTohMSxkaXNhYmxlX2V4dGVybmFsX2RlcGVuZGVuY3lfbG9hZGluZzohMSxlbmFibGVfcmVjb3JkaW5nX2NvbnNvbGVfbG9nOnZvaWQgMCxzZWN1cmVfY29va2llOlwiaHR0cHM6XCI9PT0obnVsbD09dHx8bnVsbD09KGU9dC5sb2NhdGlvbik/dm9pZCAwOmUucHJvdG9jb2wpLGlwOiExLG9wdF9vdXRfY2FwdHVyaW5nX2J5X2RlZmF1bHQ6ITEsb3B0X291dF9wZXJzaXN0ZW5jZV9ieV9kZWZhdWx0OiExLG9wdF9vdXRfdXNlcmFnZW50X2ZpbHRlcjohMSxvcHRfb3V0X2NhcHR1cmluZ19wZXJzaXN0ZW5jZV90eXBlOlwibG9jYWxTdG9yYWdlXCIsY29uc2VudF9wZXJzaXN0ZW5jZV9uYW1lOm51bGwsb3B0X291dF9jYXB0dXJpbmdfY29va2llX3ByZWZpeDpudWxsLG9wdF9pbl9zaXRlX2FwcHM6ITEscHJvcGVydHlfZGVueWxpc3Q6W10scmVzcGVjdF9kbnQ6ITEsc2FuaXRpemVfcHJvcGVydGllczpudWxsLHJlcXVlc3RfaGVhZGVyczp7fSxyZXF1ZXN0X2JhdGNoaW5nOiEwLHByb3BlcnRpZXNfc3RyaW5nX21heF9sZW5ndGg6NjU1MzUsbWFza19hbGxfZWxlbWVudF9hdHRyaWJ1dGVzOiExLG1hc2tfYWxsX3RleHQ6ITEsbWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXM6ITEsY3VzdG9tX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllczpbXSxhZHZhbmNlZF9kaXNhYmxlX2ZsYWdzOiExLGFkdmFuY2VkX2Rpc2FibGVfZGVjaWRlOiExLGFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnczohMSxhZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3Nfb25fZmlyc3RfbG9hZDohMSxhZHZhbmNlZF9vbmx5X2V2YWx1YXRlX3N1cnZleV9mZWF0dXJlX2ZsYWdzOiExLGFkdmFuY2VkX2VuYWJsZV9zdXJ2ZXlzOiExLGFkdmFuY2VkX2Rpc2FibGVfdG9vbGJhcl9tZXRyaWNzOiExLGZlYXR1cmVfZmxhZ19yZXF1ZXN0X3RpbWVvdXRfbXM6M2UzLHN1cnZleXNfcmVxdWVzdF90aW1lb3V0X21zOjFlNCxvbl9yZXF1ZXN0X2Vycm9yOnQ9Pnt2YXIgaT1cIkJhZCBIVFRQIHN0YXR1czogXCIrdC5zdGF0dXNDb2RlK1wiIFwiK3QudGV4dDtQdC5lcnJvcihpKX0sZ2V0X2RldmljZV9pZDp0PT50LGNhcHR1cmVfcGVyZm9ybWFuY2U6dm9pZCAwLG5hbWU6XCJwb3N0aG9nXCIsYm9vdHN0cmFwOnt9LGRpc2FibGVfY29tcHJlc3Npb246ITEsc2Vzc2lvbl9pZGxlX3RpbWVvdXRfc2Vjb25kczoxODAwLHBlcnNvbl9wcm9maWxlczpcImlkZW50aWZpZWRfb25seVwiLGJlZm9yZV9zZW5kOnZvaWQgMCxyZXF1ZXN0X3F1ZXVlX2NvbmZpZzp7Zmx1c2hfaW50ZXJ2YWxfbXM6c299LGVycm9yX3RyYWNraW5nOnt9LF9vbkNhcHR1cmU6Um8sX19wcmV2aWV3X2VhZ2VyX2xvYWRfcmVwbGF5OiExfSwodD0+KHtyYWdlY2xpY2s6ISh0JiZ0Pj1cIjIwMjUtMTEtMzBcIil8fHtjb250ZW50X2lnbm9yZWxpc3Q6ITB9LGNhcHR1cmVfcGFnZXZpZXc6ISh0JiZ0Pj1cIjIwMjUtMDUtMjRcIil8fFwiaGlzdG9yeV9jaGFuZ2VcIixzZXNzaW9uX3JlY29yZGluZzp0JiZ0Pj1cIjIwMjUtMTEtMzBcIj97c3RyaWN0TWluaW11bUR1cmF0aW9uOiEwfTp7fX0pKShpKSl9LE9vPXQ9Pnt2YXIgaT17fTtNKHQucHJvY2Vzc19wZXJzb24pfHwoaS5wZXJzb25fcHJvZmlsZXM9dC5wcm9jZXNzX3BlcnNvbiksTSh0Lnhocl9oZWFkZXJzKXx8KGkucmVxdWVzdF9oZWFkZXJzPXQueGhyX2hlYWRlcnMpLE0odC5jb29raWVfbmFtZSl8fChpLnBlcnNpc3RlbmNlX25hbWU9dC5jb29raWVfbmFtZSksTSh0LmRpc2FibGVfY29va2llKXx8KGkuZGlzYWJsZV9wZXJzaXN0ZW5jZT10LmRpc2FibGVfY29va2llKSxNKHQuc3RvcmVfZ29vZ2xlKXx8KGkuc2F2ZV9jYW1wYWlnbl9wYXJhbXM9dC5zdG9yZV9nb29nbGUpLE0odC52ZXJib3NlKXx8KGkuZGVidWc9dC52ZXJib3NlKTt2YXIgZT1PdCh7fSxpLHQpO3JldHVybiBJKHQucHJvcGVydHlfYmxhY2tsaXN0KSYmKE0odC5wcm9wZXJ0eV9kZW55bGlzdCk/ZS5wcm9wZXJ0eV9kZW55bGlzdD10LnByb3BlcnR5X2JsYWNrbGlzdDpJKHQucHJvcGVydHlfZGVueWxpc3QpP2UucHJvcGVydHlfZGVueWxpc3Q9Wy4uLnQucHJvcGVydHlfYmxhY2tsaXN0LC4uLnQucHJvcGVydHlfZGVueWxpc3RdOlB0LmVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcHJvcGVydHlfZGVueWxpc3QgY29uZmlnOiBcIit0LnByb3BlcnR5X2RlbnlsaXN0KSksZX07Y2xhc3MgQW97Y29uc3RydWN0b3IoKXt0aGlzLl9fZm9yY2VBbGxvd0xvY2FsaG9zdD0hMX1nZXQgYnIoKXtyZXR1cm4gdGhpcy5fX2ZvcmNlQWxsb3dMb2NhbGhvc3R9c2V0IGJyKHQpe1B0LmVycm9yKFwiV2ViUGVyZm9ybWFuY2VPYnNlcnZlciBpcyBkZXByZWNhdGVkIGFuZCBoYXMgbm8gaW1wYWN0IG9uIG5ldHdvcmsgY2FwdHVyZS4gVXNlIGBfZm9yY2VBbGxvd0xvY2FsaG9zdE5ldHdvcmtDYXB0dXJlYCBvbiBgcG9zdGhvZy5zZXNzaW9uUmVjb3JkaW5nYFwiKSx0aGlzLl9fZm9yY2VBbGxvd0xvY2FsaG9zdD10fX1jbGFzcyBEb3tnZXQgZGVjaWRlRW5kcG9pbnRXYXNIaXQoKXt2YXIgdCxpO3JldHVybiBudWxsIT09KHQ9bnVsbD09KGk9dGhpcy5mZWF0dXJlRmxhZ3MpP3ZvaWQgMDppLmhhc0xvYWRlZEZsYWdzKSYmdm9pZCAwIT09dCYmdH1nZXQgZmxhZ3NFbmRwb2ludFdhc0hpdCgpe3ZhciB0LGk7cmV0dXJuIG51bGwhPT0odD1udWxsPT0oaT10aGlzLmZlYXR1cmVGbGFncyk/dm9pZCAwOmkuaGFzTG9hZGVkRmxhZ3MpJiZ2b2lkIDAhPT10JiZ0fWNvbnN0cnVjdG9yKCl7dGhpcy53ZWJQZXJmb3JtYW5jZT1uZXcgQW8sdGhpcy53cj0hMSx0aGlzLnZlcnNpb249Yy5MSUJfVkVSU0lPTix0aGlzLlNyPW5ldyBxbix0aGlzLl9jYWxjdWxhdGVfZXZlbnRfcHJvcGVydGllcz10aGlzLmNhbGN1bGF0ZUV2ZW50UHJvcGVydGllcy5iaW5kKHRoaXMpLHRoaXMuY29uZmlnPU1vKCksdGhpcy5TZW50cnlJbnRlZ3JhdGlvbj1aZSx0aGlzLnNlbnRyeUludGVncmF0aW9uPXQ9PmZ1bmN0aW9uKHQsaSl7dmFyIGU9UWUodCxpKTtyZXR1cm57bmFtZTpYZSxwcm9jZXNzRXZlbnQ6dD0+ZSh0KX19KHRoaXMsdCksdGhpcy5fX3JlcXVlc3RfcXVldWU9W10sdGhpcy5fX2xvYWRlZD0hMSx0aGlzLmFuYWx5dGljc0RlZmF1bHRFbmRwb2ludD1cIi9lL1wiLHRoaXMuRXI9ITEsdGhpcy4kcj1udWxsLHRoaXMua3I9bnVsbCx0aGlzLlByPW51bGwsdGhpcy5mZWF0dXJlRmxhZ3M9bmV3IFJuKHRoaXMpLHRoaXMudG9vbGJhcj1uZXcgc3IodGhpcyksdGhpcy5zY3JvbGxNYW5hZ2VyPW5ldyBsbyh0aGlzKSx0aGlzLnBhZ2VWaWV3TWFuYWdlcj1uZXcgRXModGhpcyksdGhpcy5zdXJ2ZXlzPW5ldyBabih0aGlzKSx0aGlzLmV4cGVyaW1lbnRzPW5ldyB4byh0aGlzKSx0aGlzLmV4Y2VwdGlvbnM9bmV3IHluKHRoaXMpLHRoaXMucmF0ZUxpbWl0ZXI9bmV3IGlvKHRoaXMpLHRoaXMucmVxdWVzdFJvdXRlcj1uZXcgYm8odGhpcyksdGhpcy5jb25zZW50PW5ldyBVZSh0aGlzKSx0aGlzLmV4dGVybmFsSW50ZWdyYXRpb25zPW5ldyAkbyh0aGlzKSx0aGlzLnBlb3BsZT17c2V0Oih0LGksZSk9Pnt2YXIgcj1PKHQpP3tbdF06aX06dDt0aGlzLnNldFBlcnNvblByb3BlcnRpZXMociksbnVsbD09ZXx8ZSh7fSl9LHNldF9vbmNlOih0LGksZSk9Pnt2YXIgcj1PKHQpP3tbdF06aX06dDt0aGlzLnNldFBlcnNvblByb3BlcnRpZXModm9pZCAwLHIpLG51bGw9PWV8fGUoe30pfX0sdGhpcy5vbihcImV2ZW50Q2FwdHVyZWRcIiwodD0+UHQuaW5mbygnc2VuZCBcIicrKG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKydcIicsdCkpKX1pbml0KHQsaSxlKXtpZihlJiZlIT09Rm8pe3ZhciByLHM9bnVsbCE9PShyPUlvW2VdKSYmdm9pZCAwIT09cj9yOm5ldyBEbztyZXR1cm4gcy5faW5pdCh0LGksZSksSW9bZV09cyxJb1tGb11bZV09cyxzfXJldHVybiB0aGlzLl9pbml0KHQsaSxlKX1faW5pdChpLGUscil7dmFyIHM7aWYodm9pZCAwPT09ZSYmKGU9e30pLE0oaSl8fEEoaSkpcmV0dXJuIFB0LmNyaXRpY2FsKFwiUG9zdEhvZyB3YXMgaW5pdGlhbGl6ZWQgd2l0aG91dCBhIHRva2VuLiBUaGlzIGxpa2VseSBpbmRpY2F0ZXMgYSBtaXNjb25maWd1cmF0aW9uLiBQbGVhc2UgY2hlY2sgdGhlIGZpcnN0IGFyZ3VtZW50IHBhc3NlZCB0byBwb3N0aG9nLmluaXQoKVwiKSx0aGlzO2lmKHRoaXMuX19sb2FkZWQpcmV0dXJuIGNvbnNvbGUud2FybihcIltQb3N0SG9nLmpzXVwiLFwiWW91IGhhdmUgYWxyZWFkeSBpbml0aWFsaXplZCBQb3N0SG9nISBSZS1pbml0aWFsaXppbmcgaXMgYSBuby1vcFwiKSx0aGlzO3RoaXMuX19sb2FkZWQ9ITAsdGhpcy5jb25maWc9e30sZS5kZWJ1Zz10aGlzLlRyKGUuZGVidWcpLHRoaXMuSXI9ZSx0aGlzLlJyPVtdLGUucGVyc29uX3Byb2ZpbGVzJiYodGhpcy5rcj1lLnBlcnNvbl9wcm9maWxlcyksdGhpcy5zZXRfY29uZmlnKE90KHt9LE1vKGUuZGVmYXVsdHMpLE9vKGUpLHtuYW1lOnIsdG9rZW46aX0pKSx0aGlzLmNvbmZpZy5vbl94aHJfZXJyb3ImJlB0LmVycm9yKFwib25feGhyX2Vycm9yIGlzIGRlcHJlY2F0ZWQuIFVzZSBvbl9yZXF1ZXN0X2Vycm9yIGluc3RlYWRcIiksdGhpcy5jb21wcmVzc2lvbj1lLmRpc2FibGVfY29tcHJlc3Npb24/dm9pZCAwOm9lLkdaaXBKUzt2YXIgbj10aGlzLkZyKCk7dGhpcy5wZXJzaXN0ZW5jZT1uZXcgQ24odGhpcy5jb25maWcsbiksdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2U9XCJzZXNzaW9uU3RvcmFnZVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2V8fFwibWVtb3J5XCI9PT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZT90aGlzLnBlcnNpc3RlbmNlOm5ldyBDbihnKHt9LHRoaXMuY29uZmlnLHtwZXJzaXN0ZW5jZTpcInNlc3Npb25TdG9yYWdlXCJ9KSxuKTt2YXIgbz1nKHt9LHRoaXMucGVyc2lzdGVuY2UucHJvcHMpLGE9Zyh7fSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS5wcm9wcyk7dGhpcy5yZWdpc3Rlcih7JGluaXRpYWxpemF0aW9uX3RpbWU6KG5ldyBEYXRlKS50b0lTT1N0cmluZygpfSksdGhpcy5Dcj1uZXcgbm8oKHQ9PnRoaXMuTXIodCkpLHRoaXMuY29uZmlnLnJlcXVlc3RfcXVldWVfY29uZmlnKSx0aGlzLk9yPW5ldyBhbyh0aGlzKSx0aGlzLl9fcmVxdWVzdF9xdWV1ZT1bXTt2YXIgbD1cImFsd2F5c1wiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlfHxcIm9uX3JlamVjdFwiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlJiZ0aGlzLmNvbnNlbnQuaXNFeHBsaWNpdGx5T3B0ZWRPdXQoKTtpZihsfHwodGhpcy5zZXNzaW9uTWFuYWdlcj1uZXcgY28odGhpcyksdGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyPW5ldyBobyh0aGlzLHRoaXMuc2Vzc2lvbk1hbmFnZXIsdGhpcy5wZXJzaXN0ZW5jZSkpLHRoaXMuY29uZmlnLl9fcHJldmlld19kZWZlcnJlZF9pbml0X2V4dGVuc2lvbnM/KFB0LmluZm8oXCJEZWZlcnJpbmcgZXh0ZW5zaW9uIGluaXRpYWxpemF0aW9uIHRvIGltcHJvdmUgc3RhcnR1cCBwZXJmb3JtYW5jZVwiKSxzZXRUaW1lb3V0KCgoKT0+e3RoaXMuQXIobCl9KSwwKSk6KFB0LmluZm8oXCJJbml0aWFsaXppbmcgZXh0ZW5zaW9ucyBzeW5jaHJvbm91c2x5XCIpLHRoaXMuQXIobCkpLGMuREVCVUc9Yy5ERUJVR3x8dGhpcy5jb25maWcuZGVidWcsYy5ERUJVRyYmUHQuaW5mbyhcIlN0YXJ0aW5nIGluIGRlYnVnIG1vZGVcIix7dGhpczp0aGlzLGNvbmZpZzplLHRoaXNDOmcoe30sdGhpcy5jb25maWcpLHA6byxzOmF9KSx2b2lkIDAhPT0obnVsbD09KHM9ZS5ib290c3RyYXApP3ZvaWQgMDpzLmRpc3RpbmN0SUQpKXt2YXIgdSxoLGQ9dGhpcy5jb25maWcuZ2V0X2RldmljZV9pZCgkZSgpKSx2PW51bGwhPSh1PWUuYm9vdHN0cmFwKSYmdS5pc0lkZW50aWZpZWRJRD9kOmUuYm9vdHN0cmFwLmRpc3RpbmN0SUQ7dGhpcy5wZXJzaXN0ZW5jZS5zZXRfcHJvcGVydHkoY2ksbnVsbCE9KGg9ZS5ib290c3RyYXApJiZoLmlzSWRlbnRpZmllZElEP1wiaWRlbnRpZmllZFwiOlwiYW5vbnltb3VzXCIpLHRoaXMucmVnaXN0ZXIoe2Rpc3RpbmN0X2lkOmUuYm9vdHN0cmFwLmRpc3RpbmN0SUQsJGRldmljZV9pZDp2fSl9aWYodGhpcy5EcigpKXt2YXIgZixwLF89T2JqZWN0LmtleXMoKG51bGw9PShmPWUuYm9vdHN0cmFwKT92b2lkIDA6Zi5mZWF0dXJlRmxhZ3MpfHx7fSkuZmlsdGVyKCh0PT57dmFyIGk7cmV0dXJuIShudWxsPT0oaT1lLmJvb3RzdHJhcCl8fG51bGw9PShpPWkuZmVhdHVyZUZsYWdzKXx8IWlbdF0pfSkpLnJlZHVjZSgoKHQsaSk9Pnt2YXIgcjtyZXR1cm4gdFtpXT0obnVsbD09KHI9ZS5ib290c3RyYXApfHxudWxsPT0ocj1yLmZlYXR1cmVGbGFncyk/dm9pZCAwOnJbaV0pfHwhMSx0fSkse30pLG09T2JqZWN0LmtleXMoKG51bGw9PShwPWUuYm9vdHN0cmFwKT92b2lkIDA6cC5mZWF0dXJlRmxhZ1BheWxvYWRzKXx8e30pLmZpbHRlcigodD0+X1t0XSkpLnJlZHVjZSgoKHQsaSk9Pnt2YXIgcixzO251bGwhPShyPWUuYm9vdHN0cmFwKSYmbnVsbCE9KHI9ci5mZWF0dXJlRmxhZ1BheWxvYWRzKSYmcltpXSYmKHRbaV09bnVsbD09KHM9ZS5ib290c3RyYXApfHxudWxsPT0ocz1zLmZlYXR1cmVGbGFnUGF5bG9hZHMpP3ZvaWQgMDpzW2ldKTtyZXR1cm4gdH0pLHt9KTt0aGlzLmZlYXR1cmVGbGFncy5yZWNlaXZlZEZlYXR1cmVGbGFncyh7ZmVhdHVyZUZsYWdzOl8sZmVhdHVyZUZsYWdQYXlsb2FkczptfSl9aWYobCl0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOndpLCRkZXZpY2VfaWQ6bnVsbH0sXCJcIik7ZWxzZSBpZighdGhpcy5nZXRfZGlzdGluY3RfaWQoKSl7dmFyIHk9dGhpcy5jb25maWcuZ2V0X2RldmljZV9pZCgkZSgpKTt0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOnksJGRldmljZV9pZDp5fSxcIlwiKSx0aGlzLnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eShjaSxcImFub255bW91c1wiKX1yZXR1cm4gcXQodCxcIm9ucGFnZWhpZGVcImluIHNlbGY/XCJwYWdlaGlkZVwiOlwidW5sb2FkXCIsdGhpcy5faGFuZGxlX3VubG9hZC5iaW5kKHRoaXMpLHtwYXNzaXZlOiExfSksdGhpcy50b29sYmFyLm1heWJlTG9hZFRvb2xiYXIoKSxlLnNlZ21lbnQ/WWUodGhpcywoKCk9PnRoaXMuanIoKSkpOnRoaXMuanIoKSxSKHRoaXMuY29uZmlnLl9vbkNhcHR1cmUpJiZ0aGlzLmNvbmZpZy5fb25DYXB0dXJlIT09Um8mJihQdC53YXJuKFwib25DYXB0dXJlIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgYGJlZm9yZV9zZW5kYCBpbnN0ZWFkXCIpLHRoaXMub24oXCJldmVudENhcHR1cmVkXCIsKHQ9PnRoaXMuY29uZmlnLl9vbkNhcHR1cmUodC5ldmVudCx0KSkpKSx0aGlzLmNvbmZpZy5pcCYmUHQud2FybignVGhlIGBpcGAgY29uZmlnIG9wdGlvbiBoYXMgTk8gRUZGRUNUIEFUIEFMTCBhbmQgaGFzIGJlZW4gZGVwcmVjYXRlZC4gVXNlIGEgY3VzdG9tIHRyYW5zZm9ybWF0aW9uIG9yIFwiRGlzY2FyZCBJUCBkYXRhXCIgcHJvamVjdCBzZXR0aW5nIGluc3RlYWQuIFNlZSBodHRwczovL3Bvc3Rob2cuY29tL3R1dG9yaWFscy93ZWItcmVkYWN0LXByb3BlcnRpZXMjaGlkaW5nLWN1c3RvbWVyLWlwLWFkZHJlc3MgZm9yIG1vcmUgaW5mb3JtYXRpb24uJyksdGhpc31Bcih0KXt2YXIgaT1wZXJmb3JtYW5jZS5ub3coKTt0aGlzLmhpc3RvcnlBdXRvY2FwdHVyZT1uZXcgSmUodGhpcyksdGhpcy5oaXN0b3J5QXV0b2NhcHR1cmUuc3RhcnRJZkVuYWJsZWQoKTt2YXIgZT1bXTtlLnB1c2goKCgpPT57bmV3IG9yKHRoaXMpLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCl9KSksZS5wdXNoKCgoKT0+e3ZhciB0O3RoaXMuc2l0ZUFwcHM9bmV3IGdvKHRoaXMpLG51bGw9PSh0PXRoaXMuc2l0ZUFwcHMpfHx0LmluaXQoKX0pKSx0fHxlLnB1c2goKCgpPT57dGhpcy5zZXNzaW9uUmVjb3JkaW5nPW5ldyBUbyh0aGlzKSx0aGlzLnNlc3Npb25SZWNvcmRpbmcuc3RhcnRJZkVuYWJsZWRPclN0b3AoKX0pKSx0aGlzLmNvbmZpZy5kaXNhYmxlX3Njcm9sbF9wcm9wZXJ0aWVzfHxlLnB1c2goKCgpPT57dGhpcy5zY3JvbGxNYW5hZ2VyLnN0YXJ0TWVhc3VyaW5nU2Nyb2xsUG9zaXRpb24oKX0pKSxlLnB1c2goKCgpPT57dGhpcy5hdXRvY2FwdHVyZT1uZXcgbWUodGhpcyksdGhpcy5hdXRvY2FwdHVyZS5zdGFydElmRW5hYmxlZCgpfSkpLGUucHVzaCgoKCk9Pnt0aGlzLnN1cnZleXMubG9hZElmRW5hYmxlZCgpfSkpLGUucHVzaCgoKCk9Pnt0aGlzLmhlYXRtYXBzPW5ldyBTcyh0aGlzKSx0aGlzLmhlYXRtYXBzLnN0YXJ0SWZFbmFibGVkKCl9KSksZS5wdXNoKCgoKT0+e3RoaXMud2ViVml0YWxzQXV0b2NhcHR1cmU9bmV3IGJzKHRoaXMpfSkpLGUucHVzaCgoKCk9Pnt0aGlzLmV4Y2VwdGlvbk9ic2VydmVyPW5ldyBHZSh0aGlzKSx0aGlzLmV4Y2VwdGlvbk9ic2VydmVyLnN0YXJ0SWZFbmFibGVkKCl9KSksZS5wdXNoKCgoKT0+e3RoaXMuZGVhZENsaWNrc0F1dG9jYXB0dXJlPW5ldyBxZSh0aGlzLEJlKSx0aGlzLmRlYWRDbGlja3NBdXRvY2FwdHVyZS5zdGFydElmRW5hYmxlZCgpfSkpLGUucHVzaCgoKCk9PntpZih0aGlzLkxyKXt2YXIgdD10aGlzLkxyO3RoaXMuTHI9dm9pZCAwLHRoaXMuZmkodCl9fSkpLHRoaXMuTnIoZSxpKX1Ocih0LGkpe2Zvcig7dC5sZW5ndGg+MDspe2lmKHRoaXMuY29uZmlnLl9fcHJldmlld19kZWZlcnJlZF9pbml0X2V4dGVuc2lvbnMpaWYocGVyZm9ybWFuY2Uubm93KCktaT49MzAmJnQubGVuZ3RoPjApcmV0dXJuIHZvaWQgc2V0VGltZW91dCgoKCk9Pnt0aGlzLk5yKHQsaSl9KSwwKTt2YXIgZT10LnNoaWZ0KCk7aWYoZSl0cnl7ZSgpfWNhdGNoKHQpe1B0LmVycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIGV4dGVuc2lvbjpcIix0KX19dmFyIHI9TWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKS1pKTt0aGlzLnJlZ2lzdGVyX2Zvcl9zZXNzaW9uKHskc2RrX2RlYnVnX2V4dGVuc2lvbnNfaW5pdF9tZXRob2Q6dGhpcy5jb25maWcuX19wcmV2aWV3X2RlZmVycmVkX2luaXRfZXh0ZW5zaW9ucz9cImRlZmVycmVkXCI6XCJzeW5jaHJvbm91c1wiLCRzZGtfZGVidWdfZXh0ZW5zaW9uc19pbml0X3RpbWVfbXM6cn0pLHRoaXMuY29uZmlnLl9fcHJldmlld19kZWZlcnJlZF9pbml0X2V4dGVuc2lvbnMmJlB0LmluZm8oXCJQb3N0SG9nIGV4dGVuc2lvbnMgaW5pdGlhbGl6ZWQgKFwiK3IrXCJtcylcIil9ZmkodCl7dmFyIGksZSxyLHMsbixhLGwsdTtpZighb3x8IW8uYm9keSlyZXR1cm4gUHQuaW5mbyhcImRvY3VtZW50IG5vdCByZWFkeSB5ZXQsIHRyeWluZyBhZ2FpbiBpbiA1MDAgbWlsbGlzZWNvbmRzLi4uXCIpLHZvaWQgc2V0VGltZW91dCgoKCk9Pnt0aGlzLmZpKHQpfSksNTAwKTt0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZGVmZXJyZWRfaW5pdF9leHRlbnNpb25zJiYodGhpcy5Mcj10KSx0aGlzLmNvbXByZXNzaW9uPXZvaWQgMCx0LnN1cHBvcnRlZENvbXByZXNzaW9uJiYhdGhpcy5jb25maWcuZGlzYWJsZV9jb21wcmVzc2lvbiYmKHRoaXMuY29tcHJlc3Npb249dyh0LnN1cHBvcnRlZENvbXByZXNzaW9uLG9lLkdaaXBKUyk/b2UuR1ppcEpTOncodC5zdXBwb3J0ZWRDb21wcmVzc2lvbixvZS5CYXNlNjQpP29lLkJhc2U2NDp2b2lkIDApLG51bGwhPShpPXQuYW5hbHl0aWNzKSYmaS5lbmRwb2ludCYmKHRoaXMuYW5hbHl0aWNzRGVmYXVsdEVuZHBvaW50PXQuYW5hbHl0aWNzLmVuZHBvaW50KSx0aGlzLnNldF9jb25maWcoe3BlcnNvbl9wcm9maWxlczp0aGlzLmtyP3RoaXMua3I6XCJpZGVudGlmaWVkX29ubHlcIn0pLG51bGw9PShlPXRoaXMuc2l0ZUFwcHMpfHxlLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PShyPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHIub25SZW1vdGVDb25maWcodCksbnVsbD09KHM9dGhpcy5hdXRvY2FwdHVyZSl8fHMub25SZW1vdGVDb25maWcodCksbnVsbD09KG49dGhpcy5oZWF0bWFwcyl8fG4ub25SZW1vdGVDb25maWcodCksdGhpcy5zdXJ2ZXlzLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PShhPXRoaXMud2ViVml0YWxzQXV0b2NhcHR1cmUpfHxhLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PShsPXRoaXMuZXhjZXB0aW9uT2JzZXJ2ZXIpfHxsLm9uUmVtb3RlQ29uZmlnKHQpLHRoaXMuZXhjZXB0aW9ucy5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT0odT10aGlzLmRlYWRDbGlja3NBdXRvY2FwdHVyZSl8fHUub25SZW1vdGVDb25maWcodCl9anIoKXt0cnl7dGhpcy5jb25maWcubG9hZGVkKHRoaXMpfWNhdGNoKHQpe1B0LmNyaXRpY2FsKFwiYGxvYWRlZGAgZnVuY3Rpb24gZmFpbGVkXCIsdCl9dGhpcy5VcigpLHRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXcmJnNldFRpbWVvdXQoKCgpPT57KHRoaXMuY29uc2VudC5pc09wdGVkSW4oKXx8XCJhbHdheXNcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSkmJnRoaXMuenIoKX0pLDEpLG5ldyBybyh0aGlzKS5sb2FkKCksdGhpcy5mZWF0dXJlRmxhZ3MuZmxhZ3MoKX1Vcigpe3ZhciB0O3RoaXMuaXNfY2FwdHVyaW5nKCkmJih0aGlzLmNvbmZpZy5yZXF1ZXN0X2JhdGNoaW5nJiYobnVsbD09KHQ9dGhpcy5Dcil8fHQuZW5hYmxlKCkpKX1fZG9tX2xvYWRlZCgpe3RoaXMuaXNfY2FwdHVyaW5nKCkmJkN0KHRoaXMuX19yZXF1ZXN0X3F1ZXVlLCh0PT50aGlzLk1yKHQpKSksdGhpcy5fX3JlcXVlc3RfcXVldWU9W10sdGhpcy5VcigpfV9oYW5kbGVfdW5sb2FkKCl7dmFyIHQsaTt0aGlzLmNvbmZpZy5yZXF1ZXN0X2JhdGNoaW5nPyh0aGlzLkhyKCkmJnRoaXMuY2FwdHVyZShcIiRwYWdlbGVhdmVcIiksbnVsbD09KHQ9dGhpcy5Dcil8fHQudW5sb2FkKCksbnVsbD09KGk9dGhpcy5Pcil8fGkudW5sb2FkKCkpOnRoaXMuSHIoKSYmdGhpcy5jYXB0dXJlKFwiJHBhZ2VsZWF2ZVwiLG51bGwse3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pfWNpKHQpe3RoaXMuX19sb2FkZWQmJihDbz90aGlzLl9fcmVxdWVzdF9xdWV1ZS5wdXNoKHQpOnRoaXMucmF0ZUxpbWl0ZXIuaXNTZXJ2ZXJSYXRlTGltaXRlZCh0LmJhdGNoS2V5KXx8KHQudHJhbnNwb3J0PXQudHJhbnNwb3J0fHx0aGlzLmNvbmZpZy5hcGlfdHJhbnNwb3J0LHQudXJsPXVuKHQudXJsLHtpcDp0aGlzLmNvbmZpZy5pcD8xOjB9KSx0LmhlYWRlcnM9Zyh7fSx0aGlzLmNvbmZpZy5yZXF1ZXN0X2hlYWRlcnMpLHQuY29tcHJlc3Npb249XCJiZXN0LWF2YWlsYWJsZVwiPT09dC5jb21wcmVzc2lvbj90aGlzLmNvbXByZXNzaW9uOnQuY29tcHJlc3Npb24sdC5kaXNhYmxlWEhSQ3JlZGVudGlhbHM9dGhpcy5jb25maWcuX19wcmV2aWV3X2Rpc2FibGVfeGhyX2NyZWRlbnRpYWxzLHRoaXMuY29uZmlnLl9fcHJldmlld19kaXNhYmxlX2JlYWNvbiYmKHQuZGlzYWJsZVRyYW5zcG9ydD1bXCJzZW5kQmVhY29uXCJdKSx0LmZldGNoT3B0aW9ucz10LmZldGNoT3B0aW9uc3x8dGhpcy5jb25maWcuZmV0Y2hfb3B0aW9ucywodD0+e3ZhciBpLGUscixzPWcoe30sdCk7cy50aW1lb3V0PXMudGltZW91dHx8NmU0LHMudXJsPXVuKHMudXJsLHtfOihuZXcgRGF0ZSkuZ2V0VGltZSgpLnRvU3RyaW5nKCksdmVyOmMuTElCX1ZFUlNJT04sY29tcHJlc3Npb246cy5jb21wcmVzc2lvbn0pO3ZhciBuPW51bGwhPT0oaT1zLnRyYW5zcG9ydCkmJnZvaWQgMCE9PWk/aTpcImZldGNoXCIsbz12bi5maWx0ZXIoKHQ9PiFzLmRpc2FibGVUcmFuc3BvcnR8fCF0LnRyYW5zcG9ydHx8IXMuZGlzYWJsZVRyYW5zcG9ydC5pbmNsdWRlcyh0LnRyYW5zcG9ydCkpKSxhPW51bGwhPT0oZT1udWxsPT0ocj1CdChvLCh0PT50LnRyYW5zcG9ydD09PW4pKSk/dm9pZCAwOnIubWV0aG9kKSYmdm9pZCAwIT09ZT9lOm9bMF0ubWV0aG9kO2lmKCFhKXRocm93IG5ldyBFcnJvcihcIk5vIGF2YWlsYWJsZSB0cmFuc3BvcnQgbWV0aG9kXCIpO2Eocyl9KShnKHt9LHQse2NhbGxiYWNrOmk9Pnt2YXIgZSxyOyh0aGlzLnJhdGVMaW1pdGVyLmNoZWNrRm9yTGltaXRpbmcoaSksaS5zdGF0dXNDb2RlPj00MDApJiYobnVsbD09KGU9KHI9dGhpcy5jb25maWcpLm9uX3JlcXVlc3RfZXJyb3IpfHxlLmNhbGwocixpKSk7bnVsbD09dC5jYWxsYmFja3x8dC5jYWxsYmFjayhpKX19KSkpKX1Ncih0KXt0aGlzLk9yP3RoaXMuT3IucmV0cmlhYmxlUmVxdWVzdCh0KTp0aGlzLmNpKHQpfV9leGVjdXRlX2FycmF5KHQpe3ZhciBpLGU9W10scj1bXSxzPVtdO0N0KHQsKHQ9Pnt0JiYoaT10WzBdLEkoaSk/cy5wdXNoKHQpOlIodCk/dC5jYWxsKHRoaXMpOkkodCkmJlwiYWxpYXNcIj09PWk/ZS5wdXNoKHQpOkkodCkmJi0xIT09aS5pbmRleE9mKFwiY2FwdHVyZVwiKSYmUih0aGlzW2ldKT9zLnB1c2godCk6ci5wdXNoKHQpKX0pKTt2YXIgbj1mdW5jdGlvbih0LGkpe0N0KHQsKGZ1bmN0aW9uKHQpe2lmKEkodFswXSkpe3ZhciBlPWk7TXQodCwoZnVuY3Rpb24odCl7ZT1lW3RbMF1dLmFwcGx5KGUsdC5zbGljZSgxKSl9KSl9ZWxzZSB0aGlzW3RbMF1dLmFwcGx5KHRoaXMsdC5zbGljZSgxKSl9KSxpKX07bihlLHRoaXMpLG4ocix0aGlzKSxuKHMsdGhpcyl9RHIoKXt2YXIgdCxpO3JldHVybihudWxsPT0odD10aGlzLmNvbmZpZy5ib290c3RyYXApP3ZvaWQgMDp0LmZlYXR1cmVGbGFncykmJk9iamVjdC5rZXlzKG51bGw9PShpPXRoaXMuY29uZmlnLmJvb3RzdHJhcCk/dm9pZCAwOmkuZmVhdHVyZUZsYWdzKS5sZW5ndGg+MHx8ITF9cHVzaCh0KXt0aGlzLl9leGVjdXRlX2FycmF5KFt0XSl9Y2FwdHVyZSh0LGksZSl7dmFyIHI7aWYodGhpcy5fX2xvYWRlZCYmdGhpcy5wZXJzaXN0ZW5jZSYmdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UmJnRoaXMuQ3Ipe2lmKHRoaXMuaXNfY2FwdHVyaW5nKCkpaWYoIU0odCkmJk8odCkpe3ZhciBzPSF0aGlzLmNvbmZpZy5vcHRfb3V0X3VzZXJhZ2VudF9maWx0ZXImJnRoaXMuX2lzX2JvdCgpO2lmKCEocyYmIXRoaXMuY29uZmlnLl9fcHJldmlld19jYXB0dXJlX2JvdF9wYWdldmlld3MpKXt2YXIgbj1udWxsIT1lJiZlLnNraXBfY2xpZW50X3JhdGVfbGltaXRpbmc/dm9pZCAwOnRoaXMucmF0ZUxpbWl0ZXIuY2xpZW50UmF0ZUxpbWl0Q29udGV4dCgpO2lmKG51bGw9PW58fCFuLmlzUmF0ZUxpbWl0ZWQpe251bGwhPWkmJmkuJGN1cnJlbnRfdXJsJiYhTyhudWxsPT1pP3ZvaWQgMDppLiRjdXJyZW50X3VybCkmJihQdC5lcnJvcihcIkludmFsaWQgYCRjdXJyZW50X3VybGAgcHJvcGVydHkgcHJvdmlkZWQgdG8gYHBvc3Rob2cuY2FwdHVyZWAuIElucHV0IG11c3QgYmUgYSBzdHJpbmcuIElnbm9yaW5nIHByb3ZpZGVkIHZhbHVlLlwiKSxudWxsPT1pfHxkZWxldGUgaS4kY3VycmVudF91cmwpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnVwZGF0ZV9zZWFyY2hfa2V5d29yZCgpLHRoaXMuY29uZmlnLnNhdmVfY2FtcGFpZ25fcGFyYW1zJiZ0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS51cGRhdGVfY2FtcGFpZ25fcGFyYW1zKCksdGhpcy5jb25maWcuc2F2ZV9yZWZlcnJlciYmdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UudXBkYXRlX3JlZmVycmVyX2luZm8oKSwodGhpcy5jb25maWcuc2F2ZV9jYW1wYWlnbl9wYXJhbXN8fHRoaXMuY29uZmlnLnNhdmVfcmVmZXJyZXIpJiZ0aGlzLnBlcnNpc3RlbmNlLnNldF9pbml0aWFsX3BlcnNvbl9pbmZvKCk7dmFyIG89bmV3IERhdGUsYT0obnVsbD09ZT92b2lkIDA6ZS50aW1lc3RhbXApfHxvLGw9JGUoKSx1PXt1dWlkOmwsZXZlbnQ6dCxwcm9wZXJ0aWVzOnRoaXMuY2FsY3VsYXRlRXZlbnRQcm9wZXJ0aWVzKHQsaXx8e30sYSxsKX07XCIkcGFnZXZpZXdcIj09PXQmJnRoaXMuY29uZmlnLl9fcHJldmlld19jYXB0dXJlX2JvdF9wYWdldmlld3MmJnMmJih1LmV2ZW50PVwiJGJvdF9wYWdldmlld1wiLHUucHJvcGVydGllcy4kYnJvd3Nlcl90eXBlPVwiYm90XCIpLG4mJih1LnByb3BlcnRpZXMuJGxpYl9yYXRlX2xpbWl0X3JlbWFpbmluZ190b2tlbnM9bi5yZW1haW5pbmdUb2tlbnMpLChudWxsPT1lP3ZvaWQgMDplLiRzZXQpJiYodS4kc2V0PW51bGw9PWU/dm9pZCAwOmUuJHNldCk7dmFyIGgsZD10aGlzLkJyKG51bGw9PWU/dm9pZCAwOmUuJHNldF9vbmNlKTtpZihkJiYodS4kc2V0X29uY2U9ZCksKHU9VXQodSxudWxsIT1lJiZlLl9ub1RydW5jYXRlP251bGw6dGhpcy5jb25maWcucHJvcGVydGllc19zdHJpbmdfbWF4X2xlbmd0aCkpLnRpbWVzdGFtcD1hLE0obnVsbD09ZT92b2lkIDA6ZS50aW1lc3RhbXApfHwodS5wcm9wZXJ0aWVzLiRldmVudF90aW1lX292ZXJyaWRlX3Byb3ZpZGVkPSEwLHUucHJvcGVydGllcy4kZXZlbnRfdGltZV9vdmVycmlkZV9zeXN0ZW1fdGltZT1vKSx0PT09em4uRElTTUlTU0VEfHx0PT09em4uU0VOVCl7dmFyIHY9bnVsbD09aT92b2lkIDA6aVtIbi5TVVJWRVlfSURdLGM9bnVsbD09aT92b2lkIDA6aVtIbi5TVVJWRVlfSVRFUkFUSU9OXTtoPXtpZDp2LGN1cnJlbnRfaXRlcmF0aW9uOmN9LGxvY2FsU3RvcmFnZS5nZXRJdGVtKEtuKGgpKXx8bG9jYWxTdG9yYWdlLnNldEl0ZW0oS24oaCksXCJ0cnVlXCIpLHUuJHNldD1nKHt9LHUuJHNldCx7W0puKHtpZDp2LGN1cnJlbnRfaXRlcmF0aW9uOmN9LHQ9PT16bi5TRU5UP1wicmVzcG9uZGVkXCI6XCJkaXNtaXNzZWRcIildOiEwfSl9dmFyIGY9Zyh7fSx1LnByb3BlcnRpZXMuJHNldCx1LiRzZXQpO2lmKEMoZil8fHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGYpLCFqKHRoaXMuY29uZmlnLmJlZm9yZV9zZW5kKSl7dmFyIHA9dGhpcy5xcih1KTtpZighcClyZXR1cm47dT1wfXRoaXMuU3IuZW1pdChcImV2ZW50Q2FwdHVyZWRcIix1KTt2YXIgXz17bWV0aG9kOlwiUE9TVFwiLHVybDpudWxsIT09KHI9bnVsbD09ZT92b2lkIDA6ZS5fdXJsKSYmdm9pZCAwIT09cj9yOnRoaXMucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLHRoaXMuYW5hbHl0aWNzRGVmYXVsdEVuZHBvaW50KSxkYXRhOnUsY29tcHJlc3Npb246XCJiZXN0LWF2YWlsYWJsZVwiLGJhdGNoS2V5Om51bGw9PWU/dm9pZCAwOmUuX2JhdGNoS2V5fTtyZXR1cm4hdGhpcy5jb25maWcucmVxdWVzdF9iYXRjaGluZ3x8ZSYmKG51bGw9PWV8fCFlLl9iYXRjaEtleSl8fG51bGwhPWUmJmUuc2VuZF9pbnN0YW50bHk/dGhpcy5NcihfKTp0aGlzLkNyLmVucXVldWUoXyksdX1QdC5jcml0aWNhbChcIlRoaXMgY2FwdHVyZSBjYWxsIGlzIGlnbm9yZWQgZHVlIHRvIGNsaWVudCByYXRlIGxpbWl0aW5nLlwiKX19ZWxzZSBQdC5lcnJvcihcIk5vIGV2ZW50IG5hbWUgcHJvdmlkZWQgdG8gcG9zdGhvZy5jYXB0dXJlXCIpfWVsc2UgUHQudW5pbml0aWFsaXplZFdhcm5pbmcoXCJwb3N0aG9nLmNhcHR1cmVcIil9QWkodCl7cmV0dXJuIHRoaXMub24oXCJldmVudENhcHR1cmVkXCIsKGk9PnQoaS5ldmVudCxpKSkpfWNhbGN1bGF0ZUV2ZW50UHJvcGVydGllcyh0LGksZSxyLHMpe2lmKGU9ZXx8bmV3IERhdGUsIXRoaXMucGVyc2lzdGVuY2V8fCF0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSlyZXR1cm4gaTt2YXIgbj1zP3ZvaWQgMDp0aGlzLnBlcnNpc3RlbmNlLnJlbW92ZV9ldmVudF90aW1lcih0KSxhPWcoe30saSk7aWYoYS50b2tlbj10aGlzLmNvbmZpZy50b2tlbixhLiRjb25maWdfZGVmYXVsdHM9dGhpcy5jb25maWcuZGVmYXVsdHMsKFwiYWx3YXlzXCI9PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZXx8XCJvbl9yZWplY3RcIj09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlJiZ0aGlzLmNvbnNlbnQuaXNFeHBsaWNpdGx5T3B0ZWRPdXQoKSkmJihhLiRjb29raWVsZXNzX21vZGU9ITApLFwiJHNuYXBzaG90XCI9PT10KXt2YXIgbD1nKHt9LHRoaXMucGVyc2lzdGVuY2UucHJvcGVydGllcygpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSk7cmV0dXJuIGEuZGlzdGluY3RfaWQ9bC5kaXN0aW5jdF9pZCwoIU8oYS5kaXN0aW5jdF9pZCkmJiFMKGEuZGlzdGluY3RfaWQpfHxBKGEuZGlzdGluY3RfaWQpKSYmUHQuZXJyb3IoXCJJbnZhbGlkIGRpc3RpbmN0X2lkIGZvciByZXBsYXkgZXZlbnQuIFRoaXMgaW5kaWNhdGVzIGEgYnVnIGluIHlvdXIgaW1wbGVtZW50YXRpb25cIiksYX12YXIgdSxoPV9zKHRoaXMuY29uZmlnLm1hc2tfcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzLHRoaXMuY29uZmlnLmN1c3RvbV9wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMpO2lmKHRoaXMuc2Vzc2lvbk1hbmFnZXIpe3ZhcntzZXNzaW9uSWQ6dix3aW5kb3dJZDpjfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKHMsZS5nZXRUaW1lKCkpO2EuJHNlc3Npb25faWQ9dixhLiR3aW5kb3dfaWQ9Y310aGlzLnNlc3Npb25Qcm9wc01hbmFnZXImJk90KGEsdGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyLmdldFNlc3Npb25Qcm9wcygpKTt0cnl7dmFyIGY7dGhpcy5zZXNzaW9uUmVjb3JkaW5nJiZPdChhLHRoaXMuc2Vzc2lvblJlY29yZGluZy5zZGtEZWJ1Z1Byb3BlcnRpZXMpLGEuJHNka19kZWJ1Z19yZXRyeV9xdWV1ZV9zaXplPW51bGw9PShmPXRoaXMuT3IpP3ZvaWQgMDpmLmxlbmd0aH1jYXRjaCh0KXthLiRzZGtfZGVidWdfZXJyb3JfY2FwdHVyaW5nX3Byb3BlcnRpZXM9U3RyaW5nKHQpfWlmKHRoaXMucmVxdWVzdFJvdXRlci5yZWdpb249PT1tby5DVVNUT00mJihhLiRsaWJfY3VzdG9tX2FwaV9ob3N0PXRoaXMuY29uZmlnLmFwaV9ob3N0KSx1PVwiJHBhZ2V2aWV3XCIhPT10fHxzP1wiJHBhZ2VsZWF2ZVwiIT09dHx8cz90aGlzLnBhZ2VWaWV3TWFuYWdlci5kb0V2ZW50KCk6dGhpcy5wYWdlVmlld01hbmFnZXIuZG9QYWdlTGVhdmUoZSk6dGhpcy5wYWdlVmlld01hbmFnZXIuZG9QYWdlVmlldyhlLHIpLGE9T3QoYSx1KSxcIiRwYWdldmlld1wiPT09dCYmbyYmKGEudGl0bGU9by50aXRsZSksIU0obikpe3ZhciBwPWUuZ2V0VGltZSgpLW47YS4kZHVyYXRpb249cGFyc2VGbG9hdCgocC8xZTMpLnRvRml4ZWQoMykpfWQmJnRoaXMuY29uZmlnLm9wdF9vdXRfdXNlcmFnZW50X2ZpbHRlciYmKGEuJGJyb3dzZXJfdHlwZT10aGlzLl9pc19ib3QoKT9cImJvdFwiOlwiYnJvd3NlclwiKSwoYT1PdCh7fSxoLHRoaXMucGVyc2lzdGVuY2UucHJvcGVydGllcygpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSxhKSkuJGlzX2lkZW50aWZpZWQ9dGhpcy5faXNJZGVudGlmaWVkKCksSSh0aGlzLmNvbmZpZy5wcm9wZXJ0eV9kZW55bGlzdCk/TXQodGhpcy5jb25maWcucHJvcGVydHlfZGVueWxpc3QsKGZ1bmN0aW9uKHQpe2RlbGV0ZSBhW3RdfSkpOlB0LmVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcHJvcGVydHlfZGVueWxpc3QgY29uZmlnOiBcIit0aGlzLmNvbmZpZy5wcm9wZXJ0eV9kZW55bGlzdCtcIiBvciBwcm9wZXJ0eV9ibGFja2xpc3QgY29uZmlnOiBcIit0aGlzLmNvbmZpZy5wcm9wZXJ0eV9ibGFja2xpc3QpO3ZhciBfPXRoaXMuY29uZmlnLnNhbml0aXplX3Byb3BlcnRpZXM7XyYmKFB0LmVycm9yKFwic2FuaXRpemVfcHJvcGVydGllcyBpcyBkZXByZWNhdGVkLiBVc2UgYmVmb3JlX3NlbmQgaW5zdGVhZFwiKSxhPV8oYSx0KSk7dmFyIG09dGhpcy5XcigpO3JldHVybiBhLiRwcm9jZXNzX3BlcnNvbl9wcm9maWxlPW0sbSYmIXMmJnRoaXMuR3IoXCJfY2FsY3VsYXRlX2V2ZW50X3Byb3BlcnRpZXNcIiksYX1Ccih0KXt2YXIgaTtpZighdGhpcy5wZXJzaXN0ZW5jZXx8IXRoaXMuV3IoKSlyZXR1cm4gdDtpZih0aGlzLndyKXJldHVybiB0O3ZhciBlPXRoaXMucGVyc2lzdGVuY2UuZ2V0X2luaXRpYWxfcHJvcHMoKSxyPW51bGw9PShpPXRoaXMuc2Vzc2lvblByb3BzTWFuYWdlcik/dm9pZCAwOmkuZ2V0U2V0T25jZVByb3BzKCkscz1PdCh7fSxlLHJ8fHt9LHR8fHt9KSxuPXRoaXMuY29uZmlnLnNhbml0aXplX3Byb3BlcnRpZXM7cmV0dXJuIG4mJihQdC5lcnJvcihcInNhbml0aXplX3Byb3BlcnRpZXMgaXMgZGVwcmVjYXRlZC4gVXNlIGJlZm9yZV9zZW5kIGluc3RlYWRcIikscz1uKHMsXCIkc2V0X29uY2VcIikpLHRoaXMud3I9ITAsQyhzKT92b2lkIDA6c31yZWdpc3Rlcih0LGkpe3ZhciBlO251bGw9PShlPXRoaXMucGVyc2lzdGVuY2UpfHxlLnJlZ2lzdGVyKHQsaSl9cmVnaXN0ZXJfb25jZSh0LGksZSl7dmFyIHI7bnVsbD09KHI9dGhpcy5wZXJzaXN0ZW5jZSl8fHIucmVnaXN0ZXJfb25jZSh0LGksZSl9cmVnaXN0ZXJfZm9yX3Nlc3Npb24odCl7dmFyIGk7bnVsbD09KGk9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHxpLnJlZ2lzdGVyKHQpfXVucmVnaXN0ZXIodCl7dmFyIGk7bnVsbD09KGk9dGhpcy5wZXJzaXN0ZW5jZSl8fGkudW5yZWdpc3Rlcih0KX11bnJlZ2lzdGVyX2Zvcl9zZXNzaW9uKHQpe3ZhciBpO251bGw9PShpPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8aS51bnJlZ2lzdGVyKHQpfVZyKHQsaSl7dGhpcy5yZWdpc3Rlcih7W3RdOml9KX1nZXRGZWF0dXJlRmxhZyh0LGkpe3JldHVybiB0aGlzLmZlYXR1cmVGbGFncy5nZXRGZWF0dXJlRmxhZyh0LGkpfWdldEZlYXR1cmVGbGFnUGF5bG9hZCh0KXt2YXIgaT10aGlzLmZlYXR1cmVGbGFncy5nZXRGZWF0dXJlRmxhZ1BheWxvYWQodCk7dHJ5e3JldHVybiBKU09OLnBhcnNlKGkpfWNhdGNoKHQpe3JldHVybiBpfX1pc0ZlYXR1cmVFbmFibGVkKHQsaSl7cmV0dXJuIHRoaXMuZmVhdHVyZUZsYWdzLmlzRmVhdHVyZUVuYWJsZWQodCxpKX1yZWxvYWRGZWF0dXJlRmxhZ3MoKXt0aGlzLmZlYXR1cmVGbGFncy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX11cGRhdGVFYXJseUFjY2Vzc0ZlYXR1cmVFbnJvbGxtZW50KHQsaSxlKXt0aGlzLmZlYXR1cmVGbGFncy51cGRhdGVFYXJseUFjY2Vzc0ZlYXR1cmVFbnJvbGxtZW50KHQsaSxlKX1nZXRFYXJseUFjY2Vzc0ZlYXR1cmVzKHQsaSxlKXtyZXR1cm4gdm9pZCAwPT09aSYmKGk9ITEpLHRoaXMuZmVhdHVyZUZsYWdzLmdldEVhcmx5QWNjZXNzRmVhdHVyZXModCxpLGUpfW9uKHQsaSl7cmV0dXJuIHRoaXMuU3Iub24odCxpKX1vbkZlYXR1cmVGbGFncyh0KXtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3Mub25GZWF0dXJlRmxhZ3ModCl9b25TdXJ2ZXlzTG9hZGVkKHQpe3JldHVybiB0aGlzLnN1cnZleXMub25TdXJ2ZXlzTG9hZGVkKHQpfW9uU2Vzc2lvbklkKHQpe3ZhciBpLGU7cmV0dXJuIG51bGwhPT0oaT1udWxsPT0oZT10aGlzLnNlc3Npb25NYW5hZ2VyKT92b2lkIDA6ZS5vblNlc3Npb25JZCh0KSkmJnZvaWQgMCE9PWk/aTooKT0+e319Z2V0U3VydmV5cyh0LGkpe3ZvaWQgMD09PWkmJihpPSExKSx0aGlzLnN1cnZleXMuZ2V0U3VydmV5cyh0LGkpfWdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyh0LGkpe3ZvaWQgMD09PWkmJihpPSExKSx0aGlzLnN1cnZleXMuZ2V0QWN0aXZlTWF0Y2hpbmdTdXJ2ZXlzKHQsaSl9cmVuZGVyU3VydmV5KHQsaSl7dGhpcy5zdXJ2ZXlzLnJlbmRlclN1cnZleSh0LGkpfWRpc3BsYXlTdXJ2ZXkodCxpKXt2b2lkIDA9PT1pJiYoaT1YbiksdGhpcy5zdXJ2ZXlzLmRpc3BsYXlTdXJ2ZXkodCxpKX1jYW5jZWxQZW5kaW5nU3VydmV5KHQpe3RoaXMuc3VydmV5cy5jYW5jZWxQZW5kaW5nU3VydmV5KHQpfWNhblJlbmRlclN1cnZleSh0KXtyZXR1cm4gdGhpcy5zdXJ2ZXlzLmNhblJlbmRlclN1cnZleSh0KX1jYW5SZW5kZXJTdXJ2ZXlBc3luYyh0LGkpe3JldHVybiB2b2lkIDA9PT1pJiYoaT0hMSksdGhpcy5zdXJ2ZXlzLmNhblJlbmRlclN1cnZleUFzeW5jKHQsaSl9aWRlbnRpZnkodCxpLGUpe2lmKCF0aGlzLl9fbG9hZGVkfHwhdGhpcy5wZXJzaXN0ZW5jZSlyZXR1cm4gUHQudW5pbml0aWFsaXplZFdhcm5pbmcoXCJwb3N0aG9nLmlkZW50aWZ5XCIpO2lmKEwodCkmJih0PXQudG9TdHJpbmcoKSxQdC53YXJuKFwiVGhlIGZpcnN0IGFyZ3VtZW50IHRvIHBvc3Rob2cuaWRlbnRpZnkgd2FzIGEgbnVtYmVyLCBidXQgaXQgc2hvdWxkIGJlIGEgc3RyaW5nLiBJdCBoYXMgYmVlbiBjb252ZXJ0ZWQgdG8gYSBzdHJpbmcuXCIpKSx0KWlmKFtcImRpc3RpbmN0X2lkXCIsXCJkaXN0aW5jdGlkXCJdLmluY2x1ZGVzKHQudG9Mb3dlckNhc2UoKSkpUHQuY3JpdGljYWwoJ1RoZSBzdHJpbmcgXCInK3QrJ1wiIHdhcyBzZXQgaW4gcG9zdGhvZy5pZGVudGlmeSB3aGljaCBpbmRpY2F0ZXMgYW4gZXJyb3IuIFRoaXMgSUQgc2hvdWxkIGJlIHVuaXF1ZSB0byB0aGUgdXNlciBhbmQgbm90IGEgaGFyZGNvZGVkIHN0cmluZy4nKTtlbHNlIGlmKHQhPT13aSl7aWYodGhpcy5HcihcInBvc3Rob2cuaWRlbnRpZnlcIikpe3ZhciByPXRoaXMuZ2V0X2Rpc3RpbmN0X2lkKCk7aWYodGhpcy5yZWdpc3Rlcih7JHVzZXJfaWQ6dH0pLCF0aGlzLmdldF9wcm9wZXJ0eShcIiRkZXZpY2VfaWRcIikpe3ZhciBzPXI7dGhpcy5yZWdpc3Rlcl9vbmNlKHskaGFkX3BlcnNpc3RlZF9kaXN0aW5jdF9pZDohMCwkZGV2aWNlX2lkOnN9LFwiXCIpfXQhPT1yJiZ0IT09dGhpcy5nZXRfcHJvcGVydHkoR3QpJiYodGhpcy51bnJlZ2lzdGVyKEd0KSx0aGlzLnJlZ2lzdGVyKHtkaXN0aW5jdF9pZDp0fSkpO3ZhciBuPVwiYW5vbnltb3VzXCI9PT0odGhpcy5wZXJzaXN0ZW5jZS5nZXRfcHJvcGVydHkoY2kpfHxcImFub255bW91c1wiKTt0IT09ciYmbj8odGhpcy5wZXJzaXN0ZW5jZS5zZXRfcHJvcGVydHkoY2ksXCJpZGVudGlmaWVkXCIpLHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGcoe30sZXx8e30saXx8e30pLCExKSx0aGlzLmNhcHR1cmUoXCIkaWRlbnRpZnlcIix7ZGlzdGluY3RfaWQ6dCwkYW5vbl9kaXN0aW5jdF9pZDpyfSx7JHNldDppfHx7fSwkc2V0X29uY2U6ZXx8e319KSx0aGlzLlByPWZuKHQsaSxlKSx0aGlzLmZlYXR1cmVGbGFncy5zZXRBbm9ueW1vdXNEaXN0aW5jdElkKHIpKTooaXx8ZSkmJnRoaXMuc2V0UGVyc29uUHJvcGVydGllcyhpLGUpLHQhPT1yJiYodGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKSx0aGlzLnVucmVnaXN0ZXIodmkpKX19ZWxzZSBQdC5jcml0aWNhbCgnVGhlIHN0cmluZyBcIicrd2krJ1wiIHdhcyBzZXQgaW4gcG9zdGhvZy5pZGVudGlmeSB3aGljaCBpbmRpY2F0ZXMgYW4gZXJyb3IuIFRoaXMgSUQgaXMgb25seSB1c2VkIGFzIGEgc2VudGluZWwgdmFsdWUuJyk7ZWxzZSBQdC5lcnJvcihcIlVuaXF1ZSB1c2VyIGlkIGhhcyBub3QgYmVlbiBzZXQgaW4gcG9zdGhvZy5pZGVudGlmeVwiKX1zZXRQZXJzb25Qcm9wZXJ0aWVzKHQsaSl7aWYoKHR8fGkpJiZ0aGlzLkdyKFwicG9zdGhvZy5zZXRQZXJzb25Qcm9wZXJ0aWVzXCIpKXt2YXIgZT1mbih0aGlzLmdldF9kaXN0aW5jdF9pZCgpLHQsaSk7dGhpcy5QciE9PWU/KHRoaXMuc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKGcoe30saXx8e30sdHx8e30pKSx0aGlzLmNhcHR1cmUoXCIkc2V0XCIseyRzZXQ6dHx8e30sJHNldF9vbmNlOml8fHt9fSksdGhpcy5Qcj1lKTpQdC5pbmZvKFwiQSBkdXBsaWNhdGUgc2V0UGVyc29uUHJvcGVydGllcyBjYWxsIHdhcyBtYWRlIHdpdGggdGhlIHNhbWUgcHJvcGVydGllcy4gSXQgaGFzIGJlZW4gaWdub3JlZC5cIil9fWdyb3VwKHQsaSxlKXtpZih0JiZpKXtpZih0aGlzLkdyKFwicG9zdGhvZy5ncm91cFwiKSl7dmFyIHI9dGhpcy5nZXRHcm91cHMoKTtyW3RdIT09aSYmdGhpcy5yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKHQpLHRoaXMucmVnaXN0ZXIoeyRncm91cHM6Zyh7fSxyLHtbdF06aX0pfSksZSYmKHRoaXMuY2FwdHVyZShcIiRncm91cGlkZW50aWZ5XCIseyRncm91cF90eXBlOnQsJGdyb3VwX2tleTppLCRncm91cF9zZXQ6ZX0pLHRoaXMuc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3Moe1t0XTplfSkpLHJbdF09PT1pfHxlfHx0aGlzLnJlbG9hZEZlYXR1cmVGbGFncygpfX1lbHNlIFB0LmVycm9yKFwicG9zdGhvZy5ncm91cCByZXF1aXJlcyBhIGdyb3VwIHR5cGUgYW5kIGdyb3VwIGtleVwiKX1yZXNldEdyb3Vwcygpe3RoaXMucmVnaXN0ZXIoeyRncm91cHM6e319KSx0aGlzLnJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoKSx0aGlzLnJlbG9hZEZlYXR1cmVGbGFncygpfXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyh0LGkpe3ZvaWQgMD09PWkmJihpPSEwKSx0aGlzLmZlYXR1cmVGbGFncy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3ModCxpKX1yZXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncygpe3RoaXMuZmVhdHVyZUZsYWdzLnJlc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKCl9c2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3ModCxpKXt2b2lkIDA9PT1pJiYoaT0hMCksdGhpcy5HcihcInBvc3Rob2cuc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3NcIikmJnRoaXMuZmVhdHVyZUZsYWdzLnNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKHQsaSl9cmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh0KXt0aGlzLmZlYXR1cmVGbGFncy5yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKHQpfXJlc2V0KHQpe3ZhciBpLGUscixzO2lmKFB0LmluZm8oXCJyZXNldFwiKSwhdGhpcy5fX2xvYWRlZClyZXR1cm4gUHQudW5pbml0aWFsaXplZFdhcm5pbmcoXCJwb3N0aG9nLnJlc2V0XCIpO3ZhciBuPXRoaXMuZ2V0X3Byb3BlcnR5KFwiJGRldmljZV9pZFwiKTtpZih0aGlzLmNvbnNlbnQucmVzZXQoKSxudWxsPT0oaT10aGlzLnBlcnNpc3RlbmNlKXx8aS5jbGVhcigpLG51bGw9PShlPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8ZS5jbGVhcigpLHRoaXMuc3VydmV5cy5yZXNldCgpLHRoaXMuZmVhdHVyZUZsYWdzLnJlc2V0KCksbnVsbD09KHI9dGhpcy5wZXJzaXN0ZW5jZSl8fHIuc2V0X3Byb3BlcnR5KGNpLFwiYW5vbnltb3VzXCIpLG51bGw9PShzPXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHxzLnJlc2V0U2Vzc2lvbklkKCksdGhpcy5Qcj1udWxsLFwiYWx3YXlzXCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUpdGhpcy5yZWdpc3Rlcl9vbmNlKHtkaXN0aW5jdF9pZDp3aSwkZGV2aWNlX2lkOm51bGx9LFwiXCIpO2Vsc2V7dmFyIG89dGhpcy5jb25maWcuZ2V0X2RldmljZV9pZCgkZSgpKTt0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOm8sJGRldmljZV9pZDp0P286bn0sXCJcIil9dGhpcy5yZWdpc3Rlcih7JGxhc3RfcG9zdGhvZ19yZXNldDoobmV3IERhdGUpLnRvSVNPU3RyaW5nKCl9LDEpfWdldF9kaXN0aW5jdF9pZCgpe3JldHVybiB0aGlzLmdldF9wcm9wZXJ0eShcImRpc3RpbmN0X2lkXCIpfWdldEdyb3Vwcygpe3JldHVybiB0aGlzLmdldF9wcm9wZXJ0eShcIiRncm91cHNcIil8fHt9fWdldF9zZXNzaW9uX2lkKCl7dmFyIHQsaTtyZXR1cm4gbnVsbCE9PSh0PW51bGw9PShpPXRoaXMuc2Vzc2lvbk1hbmFnZXIpP3ZvaWQgMDppLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKS5zZXNzaW9uSWQpJiZ2b2lkIDAhPT10P3Q6XCJcIn1nZXRfc2Vzc2lvbl9yZXBsYXlfdXJsKHQpe2lmKCF0aGlzLnNlc3Npb25NYW5hZ2VyKXJldHVyblwiXCI7dmFye3Nlc3Npb25JZDppLHNlc3Npb25TdGFydFRpbWVzdGFtcDplfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKSxyPXRoaXMucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIsXCIvcHJvamVjdC9cIit0aGlzLmNvbmZpZy50b2tlbitcIi9yZXBsYXkvXCIraSk7aWYobnVsbCE9dCYmdC53aXRoVGltZXN0YW1wJiZlKXt2YXIgcyxuPW51bGwhPT0ocz10LnRpbWVzdGFtcExvb2tCYWNrKSYmdm9pZCAwIT09cz9zOjEwO2lmKCFlKXJldHVybiByO3IrPVwiP3Q9XCIrTWF0aC5tYXgoTWF0aC5mbG9vcigoKG5ldyBEYXRlKS5nZXRUaW1lKCktZSkvMWUzKS1uLDApfXJldHVybiByfWFsaWFzKHQsaSl7cmV0dXJuIHQ9PT10aGlzLmdldF9wcm9wZXJ0eShXdCk/KFB0LmNyaXRpY2FsKFwiQXR0ZW1wdGluZyB0byBjcmVhdGUgYWxpYXMgZm9yIGV4aXN0aW5nIFBlb3BsZSB1c2VyIC0gYWJvcnRpbmcuXCIpLC0yKTp0aGlzLkdyKFwicG9zdGhvZy5hbGlhc1wiKT8oTShpKSYmKGk9dGhpcy5nZXRfZGlzdGluY3RfaWQoKSksdCE9PWk/KHRoaXMuVnIoR3QsdCksdGhpcy5jYXB0dXJlKFwiJGNyZWF0ZV9hbGlhc1wiLHthbGlhczp0LGRpc3RpbmN0X2lkOml9KSk6KFB0Lndhcm4oXCJhbGlhcyBtYXRjaGVzIGN1cnJlbnQgZGlzdGluY3RfaWQgLSBza2lwcGluZyBhcGkgY2FsbC5cIiksdGhpcy5pZGVudGlmeSh0KSwtMSkpOnZvaWQgMH1zZXRfY29uZmlnKHQpe3ZhciBpPWcoe30sdGhpcy5jb25maWcpO2lmKEYodCkpe3ZhciBlLHIscyxuLG87T3QodGhpcy5jb25maWcsT28odCkpO3ZhciBhPXRoaXMuRnIoKTtudWxsPT0oZT10aGlzLnBlcnNpc3RlbmNlKXx8ZS51cGRhdGVfY29uZmlnKHRoaXMuY29uZmlnLGksYSksdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2U9XCJzZXNzaW9uU3RvcmFnZVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2V8fFwibWVtb3J5XCI9PT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZT90aGlzLnBlcnNpc3RlbmNlOm5ldyBDbihnKHt9LHRoaXMuY29uZmlnLHtwZXJzaXN0ZW5jZTpcInNlc3Npb25TdG9yYWdlXCJ9KSxhKTt2YXIgbD10aGlzLlRyKHRoaXMuY29uZmlnLmRlYnVnKTtOKGwpJiYodGhpcy5jb25maWcuZGVidWc9bCksTih0aGlzLmNvbmZpZy5kZWJ1ZykmJih0aGlzLmNvbmZpZy5kZWJ1Zz8oYy5ERUJVRz0hMCxDZS5IKCkmJkNlLkcoXCJwaF9kZWJ1Z1wiLFwidHJ1ZVwiKSxQdC5pbmZvKFwic2V0X2NvbmZpZ1wiLHtjb25maWc6dCxvbGRDb25maWc6aSxuZXdDb25maWc6Zyh7fSx0aGlzLmNvbmZpZyl9KSk6KGMuREVCVUc9ITEsQ2UuSCgpJiZDZS5WKFwicGhfZGVidWdcIikpKSxudWxsPT0ocj10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHxyLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCksbnVsbD09KHM9dGhpcy5hdXRvY2FwdHVyZSl8fHMuc3RhcnRJZkVuYWJsZWQoKSxudWxsPT0obj10aGlzLmhlYXRtYXBzKXx8bi5zdGFydElmRW5hYmxlZCgpLHRoaXMuc3VydmV5cy5sb2FkSWZFbmFibGVkKCksdGhpcy5KcigpLG51bGw9PShvPXRoaXMuZXh0ZXJuYWxJbnRlZ3JhdGlvbnMpfHxvLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCl9fXN0YXJ0U2Vzc2lvblJlY29yZGluZyh0KXt2YXIgaT0hMD09PXQsZT17c2FtcGxpbmc6aXx8IShudWxsPT10fHwhdC5zYW1wbGluZyksbGlua2VkX2ZsYWc6aXx8IShudWxsPT10fHwhdC5saW5rZWRfZmxhZyksdXJsX3RyaWdnZXI6aXx8IShudWxsPT10fHwhdC51cmxfdHJpZ2dlciksZXZlbnRfdHJpZ2dlcjppfHwhKG51bGw9PXR8fCF0LmV2ZW50X3RyaWdnZXIpfTtpZihPYmplY3QudmFsdWVzKGUpLnNvbWUoQm9vbGVhbikpe3ZhciByLHMsbixvLGE7aWYobnVsbD09KHI9dGhpcy5zZXNzaW9uTWFuYWdlcil8fHIuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoKSxlLnNhbXBsaW5nKW51bGw9PShzPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHMub3ZlcnJpZGVTYW1wbGluZygpO2lmKGUubGlua2VkX2ZsYWcpbnVsbD09KG49dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8bi5vdmVycmlkZUxpbmtlZEZsYWcoKTtpZihlLnVybF90cmlnZ2VyKW51bGw9PShvPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fG8ub3ZlcnJpZGVUcmlnZ2VyKFwidXJsXCIpO2lmKGUuZXZlbnRfdHJpZ2dlciludWxsPT0oYT10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHxhLm92ZXJyaWRlVHJpZ2dlcihcImV2ZW50XCIpfXRoaXMuc2V0X2NvbmZpZyh7ZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzohMX0pfXN0b3BTZXNzaW9uUmVjb3JkaW5nKCl7dGhpcy5zZXRfY29uZmlnKHtkaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nOiEwfSl9c2Vzc2lvblJlY29yZGluZ1N0YXJ0ZWQoKXt2YXIgdDtyZXR1cm4hKG51bGw9PSh0PXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fCF0LnN0YXJ0ZWQpfWNhcHR1cmVFeGNlcHRpb24odCxpKXt2YXIgZT1uZXcgRXJyb3IoXCJQb3N0SG9nIHN5bnRoZXRpY0V4Y2VwdGlvblwiKSxyPXRoaXMuZXhjZXB0aW9ucy5idWlsZFByb3BlcnRpZXModCx7aGFuZGxlZDohMCxzeW50aGV0aWNFeGNlcHRpb246ZX0pO3JldHVybiB0aGlzLmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KGcoe30scixpKSl9bG9hZFRvb2xiYXIodCl7cmV0dXJuIHRoaXMudG9vbGJhci5sb2FkVG9vbGJhcih0KX1nZXRfcHJvcGVydHkodCl7dmFyIGk7cmV0dXJuIG51bGw9PShpPXRoaXMucGVyc2lzdGVuY2UpP3ZvaWQgMDppLnByb3BzW3RdfWdldFNlc3Npb25Qcm9wZXJ0eSh0KXt2YXIgaTtyZXR1cm4gbnVsbD09KGk9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpP3ZvaWQgMDppLnByb3BzW3RdfXRvU3RyaW5nKCl7dmFyIHQsaT1udWxsIT09KHQ9dGhpcy5jb25maWcubmFtZSkmJnZvaWQgMCE9PXQ/dDpGbztyZXR1cm4gaSE9PUZvJiYoaT1GbytcIi5cIitpKSxpfV9pc0lkZW50aWZpZWQoKXt2YXIgdCxpO3JldHVyblwiaWRlbnRpZmllZFwiPT09KG51bGw9PSh0PXRoaXMucGVyc2lzdGVuY2UpP3ZvaWQgMDp0LmdldF9wcm9wZXJ0eShjaSkpfHxcImlkZW50aWZpZWRcIj09PShudWxsPT0oaT10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSk/dm9pZCAwOmkuZ2V0X3Byb3BlcnR5KGNpKSl9V3IoKXt2YXIgdCxpO3JldHVybiEoXCJuZXZlclwiPT09dGhpcy5jb25maWcucGVyc29uX3Byb2ZpbGVzfHxcImlkZW50aWZpZWRfb25seVwiPT09dGhpcy5jb25maWcucGVyc29uX3Byb2ZpbGVzJiYhdGhpcy5faXNJZGVudGlmaWVkKCkmJkModGhpcy5nZXRHcm91cHMoKSkmJihudWxsPT0odD10aGlzLnBlcnNpc3RlbmNlKXx8bnVsbD09KHQ9dC5wcm9wcyl8fCF0W0d0XSkmJihudWxsPT0oaT10aGlzLnBlcnNpc3RlbmNlKXx8bnVsbD09KGk9aS5wcm9wcyl8fCFpW3lpXSkpfUhyKCl7cmV0dXJuITA9PT10aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2VsZWF2ZXx8XCJpZl9jYXB0dXJlX3BhZ2V2aWV3XCI9PT10aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2VsZWF2ZSYmKCEwPT09dGhpcy5jb25maWcuY2FwdHVyZV9wYWdldmlld3x8XCJoaXN0b3J5X2NoYW5nZVwiPT09dGhpcy5jb25maWcuY2FwdHVyZV9wYWdldmlldyl9Y3JlYXRlUGVyc29uUHJvZmlsZSgpe3RoaXMuV3IoKXx8dGhpcy5HcihcInBvc3Rob2cuY3JlYXRlUGVyc29uUHJvZmlsZVwiKSYmdGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHt9LHt9KX1Hcih0KXtyZXR1cm5cIm5ldmVyXCI9PT10aGlzLmNvbmZpZy5wZXJzb25fcHJvZmlsZXM/KFB0LmVycm9yKHQrJyB3YXMgY2FsbGVkLCBidXQgcHJvY2Vzc19wZXJzb24gaXMgc2V0IHRvIFwibmV2ZXJcIi4gVGhpcyBjYWxsIHdpbGwgYmUgaWdub3JlZC4nKSwhMSk6KHRoaXMuVnIoeWksITApLCEwKX1Gcigpe2lmKFwiYWx3YXlzXCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUpcmV0dXJuITA7dmFyIHQ9dGhpcy5jb25zZW50LmlzT3B0ZWRPdXQoKSxpPXRoaXMuY29uZmlnLm9wdF9vdXRfcGVyc2lzdGVuY2VfYnlfZGVmYXVsdHx8XCJvbl9yZWplY3RcIj09PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZTtyZXR1cm4gdGhpcy5jb25maWcuZGlzYWJsZV9wZXJzaXN0ZW5jZXx8dCYmISFpfUpyKCl7dmFyIHQsaSxlLHIscz10aGlzLkZyKCk7KG51bGw9PSh0PXRoaXMucGVyc2lzdGVuY2UpP3ZvaWQgMDp0LndpKSE9PXMmJihudWxsPT0oZT10aGlzLnBlcnNpc3RlbmNlKXx8ZS5zZXRfZGlzYWJsZWQocykpOyhudWxsPT0oaT10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSk/dm9pZCAwOmkud2kpIT09cyYmKG51bGw9PShyPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8ci5zZXRfZGlzYWJsZWQocykpO3JldHVybiBzfW9wdF9pbl9jYXB0dXJpbmcodCl7aWYoXCJhbHdheXNcIiE9PXRoaXMuY29uZmlnLmNvb2tpZWxlc3NfbW9kZSl7dmFyIGksZTtpZihcIm9uX3JlamVjdFwiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlJiZ0aGlzLmNvbnNlbnQuaXNFeHBsaWNpdGx5T3B0ZWRPdXQoKSl0aGlzLnJlc2V0KCEwKSxudWxsPT0oaT10aGlzLnNlc3Npb25NYW5hZ2VyKXx8aS5kZXN0cm95KCksdGhpcy5zZXNzaW9uTWFuYWdlcj1uZXcgY28odGhpcyksdGhpcy5wZXJzaXN0ZW5jZSYmKHRoaXMuc2Vzc2lvblByb3BzTWFuYWdlcj1uZXcgaG8odGhpcyx0aGlzLnNlc3Npb25NYW5hZ2VyLHRoaXMucGVyc2lzdGVuY2UpKSx0aGlzLnNlc3Npb25SZWNvcmRpbmc9bmV3IFRvKHRoaXMpLHRoaXMuc2Vzc2lvblJlY29yZGluZy5zdGFydElmRW5hYmxlZE9yU3RvcCgpO2lmKHRoaXMuY29uc2VudC5vcHRJbk91dCghMCksdGhpcy5KcigpLHRoaXMuVXIoKSxcIm9uX3JlamVjdFwiPT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUmJnRoaXMuc3VydmV5cy5sb2FkSWZFbmFibGVkKCksTShudWxsPT10P3ZvaWQgMDp0LmNhcHR1cmVFdmVudE5hbWUpfHxudWxsIT10JiZ0LmNhcHR1cmVFdmVudE5hbWUpdGhpcy5jYXB0dXJlKG51bGwhPT0oZT1udWxsPT10P3ZvaWQgMDp0LmNhcHR1cmVFdmVudE5hbWUpJiZ2b2lkIDAhPT1lP2U6XCIkb3B0X2luXCIsbnVsbD09dD92b2lkIDA6dC5jYXB0dXJlUHJvcGVydGllcyx7c2VuZF9pbnN0YW50bHk6ITB9KTt0aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3JiZ0aGlzLnpyKCl9ZWxzZSBQdC53YXJuKCdDb25zZW50IG9wdCBpbi9vdXQgaXMgbm90IHZhbGlkIHdpdGggY29va2llbGVzc19tb2RlPVwiYWx3YXlzXCIgYW5kIHdpbGwgYmUgaWdub3JlZCcpfW9wdF9vdXRfY2FwdHVyaW5nKCl7dmFyIHQsaTtcImFsd2F5c1wiIT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlPyhcIm9uX3JlamVjdFwiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlJiZ0aGlzLmNvbnNlbnQuaXNPcHRlZEluKCkmJnRoaXMucmVzZXQoITApLHRoaXMuY29uc2VudC5vcHRJbk91dCghMSksdGhpcy5KcigpLFwib25fcmVqZWN0XCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGUmJih0aGlzLnJlZ2lzdGVyKHtkaXN0aW5jdF9pZDp3aSwkZGV2aWNlX2lkOm51bGx9KSxudWxsPT0odD10aGlzLnNlc3Npb25NYW5hZ2VyKXx8dC5kZXN0cm95KCksdGhpcy5zZXNzaW9uTWFuYWdlcj12b2lkIDAsdGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyPXZvaWQgMCxudWxsPT0oaT10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHxpLnN0b3BSZWNvcmRpbmcoKSx0aGlzLnNlc3Npb25SZWNvcmRpbmc9dm9pZCAwLHRoaXMuenIoKSkpOlB0Lndhcm4oJ0NvbnNlbnQgb3B0IGluL291dCBpcyBub3QgdmFsaWQgd2l0aCBjb29raWVsZXNzX21vZGU9XCJhbHdheXNcIiBhbmQgd2lsbCBiZSBpZ25vcmVkJyl9aGFzX29wdGVkX2luX2NhcHR1cmluZygpe3JldHVybiB0aGlzLmNvbnNlbnQuaXNPcHRlZEluKCl9aGFzX29wdGVkX291dF9jYXB0dXJpbmcoKXtyZXR1cm4gdGhpcy5jb25zZW50LmlzT3B0ZWRPdXQoKX1nZXRfZXhwbGljaXRfY29uc2VudF9zdGF0dXMoKXt2YXIgdD10aGlzLmNvbnNlbnQuY29uc2VudDtyZXR1cm4gdD09PU5lLkdSQU5URUQ/XCJncmFudGVkXCI6dD09PU5lLkRFTklFRD9cImRlbmllZFwiOlwicGVuZGluZ1wifWlzX2NhcHR1cmluZygpe3JldHVyblwiYWx3YXlzXCI9PT10aGlzLmNvbmZpZy5jb29raWVsZXNzX21vZGV8fChcIm9uX3JlamVjdFwiPT09dGhpcy5jb25maWcuY29va2llbGVzc19tb2RlP3RoaXMuY29uc2VudC5pc0V4cGxpY2l0bHlPcHRlZE91dCgpfHx0aGlzLmNvbnNlbnQuaXNPcHRlZEluKCk6IXRoaXMuaGFzX29wdGVkX291dF9jYXB0dXJpbmcoKSl9Y2xlYXJfb3B0X2luX291dF9jYXB0dXJpbmcoKXt0aGlzLmNvbnNlbnQucmVzZXQoKSx0aGlzLkpyKCl9X2lzX2JvdCgpe3JldHVybiBuP19vKG4sdGhpcy5jb25maWcuY3VzdG9tX2Jsb2NrZWRfdXNlcmFnZW50cyk6dm9pZCAwfXpyKCl7byYmKFwidmlzaWJsZVwiPT09by52aXNpYmlsaXR5U3RhdGU/dGhpcy5Fcnx8KHRoaXMuRXI9ITAsdGhpcy5jYXB0dXJlKFwiJHBhZ2V2aWV3XCIse3RpdGxlOm8udGl0bGV9LHtzZW5kX2luc3RhbnRseTohMH0pLHRoaXMuJHImJihvLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy4kciksdGhpcy4kcj1udWxsKSk6dGhpcy4kcnx8KHRoaXMuJHI9dGhpcy56ci5iaW5kKHRoaXMpLHF0KG8sXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy4kcikpKX1kZWJ1ZyhpKXshMT09PWk/KG51bGw9PXR8fHQuY29uc29sZS5sb2coXCJZb3UndmUgZGlzYWJsZWQgZGVidWcgbW9kZS5cIiksdGhpcy5zZXRfY29uZmlnKHtkZWJ1ZzohMX0pKToobnVsbD09dHx8dC5jb25zb2xlLmxvZyhcIllvdSdyZSBub3cgaW4gZGVidWcgbW9kZS4gQWxsIGNhbGxzIHRvIFBvc3RIb2cgd2lsbCBiZSBsb2dnZWQgaW4geW91ciBjb25zb2xlLlxcbllvdSBjYW4gZGlzYWJsZSB0aGlzIHdpdGggYHBvc3Rob2cuZGVidWcoZmFsc2UpYC5cIiksdGhpcy5zZXRfY29uZmlnKHtkZWJ1ZzohMH0pKX1PKCl7dmFyIHQsaSxlLHIscyxuLG8sYT10aGlzLklyfHx7fTtyZXR1cm5cImFkdmFuY2VkX2Rpc2FibGVfZmxhZ3NcImluIGE/ISFhLmFkdmFuY2VkX2Rpc2FibGVfZmxhZ3M6ITEhPT10aGlzLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZsYWdzPyEhdGhpcy5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mbGFnczohMD09PXRoaXMuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfZGVjaWRlPyhQdC53YXJuKFwiQ29uZmlnIGZpZWxkICdhZHZhbmNlZF9kaXNhYmxlX2RlY2lkZScgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSAnYWR2YW5jZWRfZGlzYWJsZV9mbGFncycgaW5zdGVhZC4gVGhlIG9sZCBmaWVsZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgdmVyc2lvbi5cIiksITApOihlPVwiYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGVcIixyPSExLHM9UHQsbj0oaT1cImFkdmFuY2VkX2Rpc2FibGVfZmxhZ3NcIilpbih0PWEpJiYhTSh0W2ldKSxvPWUgaW4gdCYmIU0odFtlXSksbj90W2ldOm8/KHMmJnMud2FybihcIkNvbmZpZyBmaWVsZCAnXCIrZStcIicgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSAnXCIraStcIicgaW5zdGVhZC4gVGhlIG9sZCBmaWVsZCB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgdmVyc2lvbi5cIiksdFtlXSk6cil9cXIodCl7aWYoaih0aGlzLmNvbmZpZy5iZWZvcmVfc2VuZCkpcmV0dXJuIHQ7dmFyIGk9SSh0aGlzLmNvbmZpZy5iZWZvcmVfc2VuZCk/dGhpcy5jb25maWcuYmVmb3JlX3NlbmQ6W3RoaXMuY29uZmlnLmJlZm9yZV9zZW5kXSxlPXQ7Zm9yKHZhciByIG9mIGkpe2lmKGU9cihlKSxqKGUpKXt2YXIgcz1cIkV2ZW50ICdcIit0LmV2ZW50K1wiJyB3YXMgcmVqZWN0ZWQgaW4gYmVmb3JlU2VuZCBmdW5jdGlvblwiO3JldHVybiB6KHQuZXZlbnQpP1B0Lndhcm4ocytcIi4gVGhpcyBjYW4gY2F1c2UgdW5leHBlY3RlZCBiZWhhdmlvci5cIik6UHQuaW5mbyhzKSxudWxsfWUucHJvcGVydGllcyYmIUMoZS5wcm9wZXJ0aWVzKXx8UHQud2FybihcIkV2ZW50ICdcIit0LmV2ZW50K1wiJyBoYXMgbm8gcHJvcGVydGllcyBhZnRlciBiZWZvcmVTZW5kIGZ1bmN0aW9uLCB0aGlzIGlzIGxpa2VseSBhbiBlcnJvci5cIil9cmV0dXJuIGV9Z2V0UGFnZVZpZXdJZCgpe3ZhciB0O3JldHVybiBudWxsPT0odD10aGlzLnBhZ2VWaWV3TWFuYWdlci5WdCk/dm9pZCAwOnQucGFnZVZpZXdJZH1jYXB0dXJlVHJhY2VGZWVkYmFjayh0LGkpe3RoaXMuY2FwdHVyZShcIiRhaV9mZWVkYmFja1wiLHskYWlfdHJhY2VfaWQ6U3RyaW5nKHQpLCRhaV9mZWVkYmFja190ZXh0Oml9KX1jYXB0dXJlVHJhY2VNZXRyaWModCxpLGUpe3RoaXMuY2FwdHVyZShcIiRhaV9tZXRyaWNcIix7JGFpX3RyYWNlX2lkOlN0cmluZyh0KSwkYWlfbWV0cmljX25hbWU6aSwkYWlfbWV0cmljX3ZhbHVlOlN0cmluZyhlKX0pfVRyKHQpe3ZhciBpPU4odCkmJiF0LGU9Q2UuSCgpJiZcInRydWVcIj09PUNlLnEoXCJwaF9kZWJ1Z1wiKTtyZXR1cm4haSYmKCEhZXx8dCl9fSFmdW5jdGlvbih0LGkpe2Zvcih2YXIgZT0wO2U8aS5sZW5ndGg7ZSsrKXQucHJvdG90eXBlW2lbZV1dPUx0KHQucHJvdG90eXBlW2lbZV1dKX0oRG8sW1wiaWRlbnRpZnlcIl0pO3ZhciBqbyxMbz0oam89SW9bRm9dPW5ldyBEbyxmdW5jdGlvbigpe2Z1bmN0aW9uIGkoKXtpLmRvbmV8fChpLmRvbmU9ITAsQ289ITEsTXQoSW8sKGZ1bmN0aW9uKHQpe3QuX2RvbV9sb2FkZWQoKX0pKSl9bnVsbCE9byYmby5hZGRFdmVudExpc3RlbmVyP1wiY29tcGxldGVcIj09PW8ucmVhZHlTdGF0ZT9pKCk6cXQobyxcIkRPTUNvbnRlbnRMb2FkZWRcIixpLHtjYXB0dXJlOiExfSk6dCYmUHQuZXJyb3IoXCJCcm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcmAgc28gUG9zdEhvZyBjb3VsZG4ndCBiZSBpbml0aWFsaXplZFwiKX0oKSxqbyk7ZXhwb3J0e25lIGFzIENPUFlfQVVUT0NBUFRVUkVfRVZFTlQsb2UgYXMgQ29tcHJlc3Npb24sQm4gYXMgRGlzcGxheVN1cnZleVR5cGUsRG8gYXMgUG9zdEhvZyx6biBhcyBTdXJ2ZXlFdmVudE5hbWUsSG4gYXMgU3VydmV5RXZlbnRQcm9wZXJ0aWVzLE1uIGFzIFN1cnZleUV2ZW50VHlwZSxBbiBhcyBTdXJ2ZXlQb3NpdGlvbixObiBhcyBTdXJ2ZXlRdWVzdGlvbkJyYW5jaGluZ1R5cGUsTG4gYXMgU3VydmV5UXVlc3Rpb25UeXBlLFVuIGFzIFN1cnZleVNjaGVkdWxlLERuIGFzIFN1cnZleVRhYlBvc2l0aW9uLGpuIGFzIFN1cnZleVR5cGUsT24gYXMgU3VydmV5V2lkZ2V0VHlwZSxMbyBhcyBkZWZhdWx0LExvIGFzIHBvc3Rob2csYWUgYXMgc2V2ZXJpdHlMZXZlbHN9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kdWxlLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/posthog-js/dist/module.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/posthog-js/react/dist/esm/index.js":
/*!*********************************************************!*\
  !*** ./node_modules/posthog-js/react/dist/esm/index.js ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PostHogCaptureOnViewed: () => (/* binding */ PostHogCaptureOnViewed),\n/* harmony export */   PostHogContext: () => (/* binding */ PostHogContext),\n/* harmony export */   PostHogErrorBoundary: () => (/* binding */ PostHogErrorBoundary),\n/* harmony export */   PostHogFeature: () => (/* binding */ PostHogFeature),\n/* harmony export */   PostHogProvider: () => (/* binding */ PostHogProvider),\n/* harmony export */   captureFeatureInteraction: () => (/* binding */ captureFeatureInteraction),\n/* harmony export */   captureFeatureView: () => (/* binding */ captureFeatureView),\n/* harmony export */   setupReactErrorHandler: () => (/* binding */ setupReactErrorHandler),\n/* harmony export */   useActiveFeatureFlags: () => (/* binding */ useActiveFeatureFlags),\n/* harmony export */   useFeatureFlagEnabled: () => (/* binding */ useFeatureFlagEnabled),\n/* harmony export */   useFeatureFlagPayload: () => (/* binding */ useFeatureFlagPayload),\n/* harmony export */   useFeatureFlagVariantKey: () => (/* binding */ useFeatureFlagVariantKey),\n/* harmony export */   usePostHog: () => (/* binding */ usePostHog)\n/* harmony export */ });\n/* harmony import */ var posthog_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! posthog-js */ \"(ssr)/./node_modules/posthog-js/dist/module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar PostHogContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({\n    client: posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"],\n    bootstrap: undefined,\n});\n\nfunction isDeepEqual(obj1, obj2, visited) {\n    if (visited === void 0) { visited = new WeakMap(); }\n    if (obj1 === obj2) {\n        return true;\n    }\n    if (typeof obj1 !== 'object' || obj1 === null || typeof obj2 !== 'object' || obj2 === null) {\n        return false;\n    }\n    if (visited.has(obj1) && visited.get(obj1) === obj2) {\n        return true;\n    }\n    visited.set(obj1, obj2);\n    var keys1 = Object.keys(obj1);\n    var keys2 = Object.keys(obj2);\n    if (keys1.length !== keys2.length) {\n        return false;\n    }\n    for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\n        var key = keys1_1[_i];\n        if (!keys2.includes(key)) {\n            return false;\n        }\n        if (!isDeepEqual(obj1[key], obj2[key], visited)) {\n            return false;\n        }\n    }\n    return true;\n}\n\nfunction PostHogProvider(_a) {\n    var _b, _c;\n    var children = _a.children, client = _a.client, apiKey = _a.apiKey, options = _a.options;\n    var previousInitializationRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var posthog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n        if (client) {\n            if (apiKey) {\n                console.warn('[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`.');\n            }\n            if (options) {\n                console.warn('[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`.');\n            }\n            return client;\n        }\n        if (apiKey) {\n            return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n        }\n        console.warn('[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior.');\n        return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\n    }, [client, apiKey, JSON.stringify(options)]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        if (client) {\n            return;\n        }\n        var previousInitialization = previousInitializationRef.current;\n        if (!previousInitialization) {\n            if (posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].__loaded) {\n                console.warn('[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues.');\n            }\n            posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init(apiKey, options);\n            previousInitializationRef.current = {\n                apiKey: apiKey,\n                options: options !== null && options !== void 0 ? options : {},\n            };\n        }\n        else {\n            if (apiKey !== previousInitialization.apiKey) {\n                console.warn(\"[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop.\");\n            }\n            if (options && !isDeepEqual(options, previousInitialization.options)) {\n                posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set_config(options);\n            }\n            previousInitializationRef.current = {\n                apiKey: apiKey,\n                options: options !== null && options !== void 0 ? options : {},\n            };\n        }\n    }, [client, apiKey, JSON.stringify(options)]);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(PostHogContext.Provider, { value: { client: posthog, bootstrap: (_b = options === null || options === void 0 ? void 0 : options.bootstrap) !== null && _b !== void 0 ? _b : (_c = client === null || client === void 0 ? void 0 : client.config) === null || _c === void 0 ? void 0 : _c.bootstrap } }, children));\n}\n\nvar isFunction = function (f) {\n    return typeof f === 'function';\n};\nvar isUndefined = function (x) {\n    return x === void 0;\n};\nvar isNull = function (x) {\n    return x === null;\n};\n\nfunction useFeatureFlagEnabled(flag) {\n    var _a;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext), client = _b.client, bootstrap = _b.bootstrap;\n    var _c = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.isFeatureEnabled(flag); }), featureEnabled = _c[0], setFeatureEnabled = _c[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureEnabled(client.isFeatureEnabled(flag));\n        });\n    }, [client, flag]);\n    var bootstrapped = (_a = bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlags) === null || _a === void 0 ? void 0 : _a[flag];\n    if (!client.featureFlags.hasLoadedFlags && (bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlags)) {\n        return isUndefined(bootstrapped) ? undefined : !!bootstrapped;\n    }\n    return featureEnabled;\n}\n\nfunction useFeatureFlagPayload(flag) {\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext), client = _a.client, bootstrap = _a.bootstrap;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.getFeatureFlagPayload(flag); }), featureFlagPayload = _b[0], setFeatureFlagPayload = _b[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureFlagPayload(client.getFeatureFlagPayload(flag));\n        });\n    }, [client, flag]);\n    if (!client.featureFlags.hasLoadedFlags && (bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlagPayloads)) {\n        return bootstrap.featureFlagPayloads[flag];\n    }\n    return featureFlagPayload;\n}\n\nfunction useActiveFeatureFlags() {\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext), client = _a.client, bootstrap = _a.bootstrap;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.featureFlags.getFlags(); }), featureFlags = _b[0], setFeatureFlags = _b[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function (flags) {\n            setFeatureFlags(flags);\n        });\n    }, [client]);\n    if (!client.featureFlags.hasLoadedFlags && (bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlags)) {\n        return Object.keys(bootstrap.featureFlags);\n    }\n    return featureFlags;\n}\n\nfunction useFeatureFlagVariantKey(flag) {\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext), client = _a.client, bootstrap = _a.bootstrap;\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () {\n        return client.getFeatureFlag(flag);\n    }), featureFlagVariantKey = _b[0], setFeatureFlagVariantKey = _b[1];\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        return client.onFeatureFlags(function () {\n            setFeatureFlagVariantKey(client.getFeatureFlag(flag));\n        });\n    }, [client, flag]);\n    if (!client.featureFlags.hasLoadedFlags && (bootstrap === null || bootstrap === void 0 ? void 0 : bootstrap.featureFlags)) {\n        return bootstrap.featureFlags[flag];\n    }\n    return featureFlagVariantKey;\n}\n\nvar usePostHog = function () {\n    var client = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext).client;\n    return client;\n};\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise, SuppressedError, Symbol, Iterator */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nfunction __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\ntypeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\r\n    var e = new Error(message);\r\n    return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\r\n};\n\nfunction VisibilityAndClickTracker(_a) {\n    var children = _a.children, onIntersect = _a.onIntersect, onClick = _a.onClick, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"children\", \"onIntersect\", \"onClick\", \"trackView\", \"options\"]);\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var observerOptions = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () { return (__assign({ threshold: 0.1 }, options)); }, [options === null || options === void 0 ? void 0 : options.threshold, options === null || options === void 0 ? void 0 : options.root, options === null || options === void 0 ? void 0 : options.rootMargin]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\n        if (isNull(ref.current) || !trackView)\n            return;\n        var observer = new IntersectionObserver(function (_a) {\n            var entry = _a[0];\n            return onIntersect(entry);\n        }, observerOptions);\n        observer.observe(ref.current);\n        return function () { return observer.disconnect(); };\n    }, [observerOptions, trackView, onIntersect]);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", __assign({ ref: ref }, props, { onClick: onClick }), children));\n}\n\nfunction VisibilityAndClickTrackers(_a) {\n    var children = _a.children, trackInteraction = _a.trackInteraction, trackView = _a.trackView, options = _a.options, onInteract = _a.onInteract, onView = _a.onView, props = __rest(_a, [\"children\", \"trackInteraction\", \"trackView\", \"options\", \"onInteract\", \"onView\"]);\n    var clickTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var visibilityTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var cachedOnClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\n        if (!clickTrackedRef.current && trackInteraction && onInteract) {\n            onInteract();\n            clickTrackedRef.current = true;\n        }\n    }, [trackInteraction, onInteract]);\n    var onIntersect = function (entry) {\n        if (!visibilityTrackedRef.current && entry.isIntersecting && onView) {\n            onView();\n            visibilityTrackedRef.current = true;\n        }\n    };\n    var trackedChildren = react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children, function (child) {\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, __assign({ onClick: cachedOnClick, onIntersect: onIntersect, trackView: trackView, options: options }, props), child));\n    });\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, trackedChildren);\n}\n\nfunction PostHogFeature(_a) {\n    var flag = _a.flag, match = _a.match, children = _a.children, fallback = _a.fallback, visibilityObserverOptions = _a.visibilityObserverOptions, trackInteraction = _a.trackInteraction, trackView = _a.trackView, props = __rest(_a, [\"flag\", \"match\", \"children\", \"fallback\", \"visibilityObserverOptions\", \"trackInteraction\", \"trackView\"]);\n    var payload = useFeatureFlagPayload(flag);\n    var variant = useFeatureFlagVariantKey(flag);\n    var posthog = usePostHog();\n    var shouldTrackInteraction = trackInteraction !== null && trackInteraction !== void 0 ? trackInteraction : true;\n    var shouldTrackView = trackView !== null && trackView !== void 0 ? trackView : true;\n    if (isUndefined(match) || variant === match) {\n        var childNode = isFunction(children) ? children(payload) : children;\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTrackers, __assign({ flag: flag, options: visibilityObserverOptions, trackInteraction: shouldTrackInteraction, trackView: shouldTrackView, onInteract: function () { return captureFeatureInteraction({ flag: flag, posthog: posthog, flagVariant: variant }); }, onView: function () { return captureFeatureView({ flag: flag, posthog: posthog, flagVariant: variant }); } }, props), childNode));\n    }\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, fallback);\n}\nfunction captureFeatureInteraction(_a) {\n    var _b;\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\n    var properties = {\n        feature_flag: flag,\n        $set: (_b = {}, _b[\"$feature_interaction/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\n    };\n    if (typeof flagVariant === 'string') {\n        properties.feature_flag_variant = flagVariant;\n    }\n    posthog.capture('$feature_interaction', properties);\n}\nfunction captureFeatureView(_a) {\n    var _b;\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\n    var properties = {\n        feature_flag: flag,\n        $set: (_b = {}, _b[\"$feature_view/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\n    };\n    if (typeof flagVariant === 'string') {\n        properties.feature_flag_variant = flagVariant;\n    }\n    posthog.capture('$feature_view', properties);\n}\n\nfunction TrackedChild(_a) {\n    var child = _a.child, index = _a.index, name = _a.name, properties = _a.properties, observerOptions = _a.observerOptions;\n    var trackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var posthog = usePostHog();\n    var onIntersect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (entry) {\n        if (entry.isIntersecting && !trackedRef.current) {\n            posthog.capture('$element_viewed', __assign({ element_name: name, child_index: index }, properties));\n            trackedRef.current = true;\n        }\n    }, [posthog, name, index, properties]);\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, { onIntersect: onIntersect, trackView: true, options: observerOptions }, child));\n}\nfunction PostHogCaptureOnViewed(_a) {\n    var name = _a.name, properties = _a.properties, observerOptions = _a.observerOptions, trackAllChildren = _a.trackAllChildren, children = _a.children, props = __rest(_a, [\"name\", \"properties\", \"observerOptions\", \"trackAllChildren\", \"children\"]);\n    var trackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    var posthog = usePostHog();\n    var onIntersect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function (entry) {\n        if (entry.isIntersecting && !trackedRef.current) {\n            posthog.capture('$element_viewed', __assign({ element_name: name }, properties));\n            trackedRef.current = true;\n        }\n    }, [posthog, name, properties]);\n    if (trackAllChildren) {\n        var trackedChildren = react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children, function (child, index) {\n            return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(TrackedChild, { key: index, child: child, index: index, name: name, properties: properties, observerOptions: observerOptions }));\n        });\n        return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", __assign({}, props), trackedChildren);\n    }\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, __assign({ onIntersect: onIntersect, trackView: true, options: observerOptions }, props), children));\n}\n\nvar INITIAL_STATE = {\n    componentStack: null,\n    exceptionEvent: null,\n    error: null,\n};\nvar __POSTHOG_ERROR_MESSAGES = {\n    INVALID_FALLBACK: '[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element.',\n};\nvar PostHogErrorBoundary = (function (_super) {\n    __extends(PostHogErrorBoundary, _super);\n    function PostHogErrorBoundary(props) {\n        var _this = _super.call(this, props) || this;\n        _this.state = INITIAL_STATE;\n        return _this;\n    }\n    PostHogErrorBoundary.prototype.componentDidCatch = function (error, errorInfo) {\n        var additionalProperties = this.props.additionalProperties;\n        var currentProperties;\n        if (isFunction(additionalProperties)) {\n            currentProperties = additionalProperties(error);\n        }\n        else if (typeof additionalProperties === 'object') {\n            currentProperties = additionalProperties;\n        }\n        var client = this.context.client;\n        var exceptionEvent = client.captureException(error, currentProperties);\n        var componentStack = errorInfo.componentStack;\n        this.setState({\n            error: error,\n            componentStack: componentStack,\n            exceptionEvent: exceptionEvent,\n        });\n    };\n    PostHogErrorBoundary.prototype.render = function () {\n        var _a = this.props, children = _a.children, fallback = _a.fallback;\n        var state = this.state;\n        if (state.componentStack == null) {\n            return isFunction(children) ? children() : children;\n        }\n        var element = isFunction(fallback)\n            ? react__WEBPACK_IMPORTED_MODULE_1___default().createElement(fallback, {\n                error: state.error,\n                componentStack: state.componentStack,\n                exceptionEvent: state.exceptionEvent,\n            })\n            : fallback;\n        if (react__WEBPACK_IMPORTED_MODULE_1___default().isValidElement(element)) {\n            return element;\n        }\n        console.warn(__POSTHOG_ERROR_MESSAGES.INVALID_FALLBACK);\n        return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null);\n    };\n    PostHogErrorBoundary.contextType = PostHogContext;\n    return PostHogErrorBoundary;\n}((react__WEBPACK_IMPORTED_MODULE_1___default().Component)));\n\nvar setupReactErrorHandler = function (client, callback) {\n    return function (error, errorInfo) {\n        var event = client.captureException(error);\n        if (callback) {\n            callback(event, error, errorInfo);\n        }\n    };\n};\n\n\n//# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9yZWFjdC9kaXN0L2VzbS9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW1DO0FBQ21GOztBQUV0SCxxQkFBcUIsb0RBQWE7QUFDbEMsWUFBWSxrREFBUztBQUNyQjtBQUNBLENBQUM7O0FBRUQ7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHFCQUFxQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsNkNBQU07QUFDMUMsa0JBQWtCLDhDQUFPO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFTO0FBQzVCO0FBQ0E7QUFDQSxlQUFlLGtEQUFTO0FBQ3hCLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBUztBQUN6QjtBQUNBO0FBQ0EsWUFBWSxrREFBUztBQUNyQjtBQUNBO0FBQ0EsOEVBQThFO0FBQzlFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLGtEQUFTO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RTtBQUM5RTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVksMERBQW1CLDRCQUE0QixTQUFTLGtRQUFrUTtBQUN0VTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsaURBQVU7QUFDdkIsYUFBYSwrQ0FBUSxlQUFlLHVDQUF1QztBQUMzRSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFL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QWlCLDhHQUE4RztBQUN0SyxTQUFTO0FBQ1QsZUFBZSwwREFBbUIsbUJBQW1CO0FBQ3JEO0FBQ0EsWUFBWSwwREFBbUIsdUNBQXVDLHFFQUFxRTtBQUMzSTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYywwREFBbUI7QUFDakM7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsWUFBWSwyREFBb0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0EsZUFBZSwwREFBbUIsQ0FBQyx1REFBYztBQUNqRDtBQUNBO0FBQ0E7QUFDQSxDQUFDLENBQUMsd0RBQWU7O0FBRWpCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRTJSO0FBQzNSIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdml0ZV9yZWFjdF9zaGFkY25fdHMvLi9ub2RlX21vZHVsZXMvcG9zdGhvZy1qcy9yZWFjdC9kaXN0L2VzbS9pbmRleC5qcz9mYjRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwb3N0aG9nSnMgZnJvbSAncG9zdGhvZy1qcyc7XG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlUmVmLCB1c2VNZW1vLCB1c2VFZmZlY3QsIHVzZUNvbnRleHQsIHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCc7XG5cbnZhciBQb3N0SG9nQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe1xuICAgIGNsaWVudDogcG9zdGhvZ0pzLFxuICAgIGJvb3RzdHJhcDogdW5kZWZpbmVkLFxufSk7XG5cbmZ1bmN0aW9uIGlzRGVlcEVxdWFsKG9iajEsIG9iajIsIHZpc2l0ZWQpIHtcbiAgICBpZiAodmlzaXRlZCA9PT0gdm9pZCAwKSB7IHZpc2l0ZWQgPSBuZXcgV2Vha01hcCgpOyB9XG4gICAgaWYgKG9iajEgPT09IG9iajIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygb2JqMSAhPT0gJ29iamVjdCcgfHwgb2JqMSA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqMiAhPT0gJ29iamVjdCcgfHwgb2JqMiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmICh2aXNpdGVkLmhhcyhvYmoxKSAmJiB2aXNpdGVkLmdldChvYmoxKSA9PT0gb2JqMikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmlzaXRlZC5zZXQob2JqMSwgb2JqMik7XG4gICAgdmFyIGtleXMxID0gT2JqZWN0LmtleXMob2JqMSk7XG4gICAgdmFyIGtleXMyID0gT2JqZWN0LmtleXMob2JqMik7XG4gICAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZm9yICh2YXIgX2kgPSAwLCBrZXlzMV8xID0ga2V5czE7IF9pIDwga2V5czFfMS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgdmFyIGtleSA9IGtleXMxXzFbX2ldO1xuICAgICAgICBpZiAoIWtleXMyLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRGVlcEVxdWFsKG9iajFba2V5XSwgb2JqMltrZXldLCB2aXNpdGVkKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBQb3N0SG9nUHJvdmlkZXIoX2EpIHtcbiAgICB2YXIgX2IsIF9jO1xuICAgIHZhciBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBjbGllbnQgPSBfYS5jbGllbnQsIGFwaUtleSA9IF9hLmFwaUtleSwgb3B0aW9ucyA9IF9hLm9wdGlvbnM7XG4gICAgdmFyIHByZXZpb3VzSW5pdGlhbGl6YXRpb25SZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgdmFyIHBvc3Rob2cgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNsaWVudCkge1xuICAgICAgICAgICAgaWYgKGFwaUtleSkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIFlvdSBoYXZlIHByb3ZpZGVkIGJvdGggYGNsaWVudGAgYW5kIGBhcGlLZXlgIHRvIGBQb3N0SG9nUHJvdmlkZXJgLiBgYXBpS2V5YCB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIGBjbGllbnRgLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tQb3N0SG9nLmpzXSBZb3UgaGF2ZSBwcm92aWRlZCBib3RoIGBjbGllbnRgIGFuZCBgb3B0aW9uc2AgdG8gYFBvc3RIb2dQcm92aWRlcmAuIGBvcHRpb25zYCB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIGBjbGllbnRgLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNsaWVudDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXBpS2V5KSB7XG4gICAgICAgICAgICByZXR1cm4gcG9zdGhvZ0pzO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIE5vIGBhcGlLZXlgIG9yIGBjbGllbnRgIHdlcmUgcHJvdmlkZWQgdG8gYFBvc3RIb2dQcm92aWRlcmAuIFVzaW5nIGRlZmF1bHQgZ2xvYmFsIGB3aW5kb3cucG9zdGhvZ2AgaW5zdGFuY2UuIFlvdSBtdXN0IGluaXRpYWxpemUgaXQgbWFudWFsbHkuIFRoaXMgaXMgbm90IHJlY29tbWVuZGVkIGJlaGF2aW9yLicpO1xuICAgICAgICByZXR1cm4gcG9zdGhvZ0pzO1xuICAgIH0sIFtjbGllbnQsIGFwaUtleSwgSlNPTi5zdHJpbmdpZnkob3B0aW9ucyldKTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY2xpZW50KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByZXZpb3VzSW5pdGlhbGl6YXRpb24gPSBwcmV2aW91c0luaXRpYWxpemF0aW9uUmVmLmN1cnJlbnQ7XG4gICAgICAgIGlmICghcHJldmlvdXNJbml0aWFsaXphdGlvbikge1xuICAgICAgICAgICAgaWYgKHBvc3Rob2dKcy5fX2xvYWRlZCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIGBwb3N0aG9nYCB3YXMgYWxyZWFkeSBsb2FkZWQgZWxzZXdoZXJlLiBUaGlzIG1heSBjYXVzZSBpc3N1ZXMuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwb3N0aG9nSnMuaW5pdChhcGlLZXksIG9wdGlvbnMpO1xuICAgICAgICAgICAgcHJldmlvdXNJbml0aWFsaXphdGlvblJlZi5jdXJyZW50ID0ge1xuICAgICAgICAgICAgICAgIGFwaUtleTogYXBpS2V5LFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChhcGlLZXkgIT09IHByZXZpb3VzSW5pdGlhbGl6YXRpb24uYXBpS2V5KSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW1Bvc3RIb2cuanNdIFlvdSBoYXZlIHByb3ZpZGVkIGEgZGlmZmVyZW50IGBhcGlLZXlgIHRvIGBQb3N0SG9nUHJvdmlkZXJgIHRoYW4gdGhlIG9uZSB0aGF0IHdhcyBhbHJlYWR5IGluaXRpYWxpemVkLiBUaGlzIGlzIG5vdCBzdXBwb3J0ZWQgYnkgb3VyIHByb3ZpZGVyIGFuZCB3ZSdsbCBrZWVwIHVzaW5nIHRoZSBwcmV2aW91cyBrZXkuIElmIHlvdSBuZWVkIHRvIHRvZ2dsZSBiZXR3ZWVuIEFQSSBLZXlzIHlvdSBuZWVkIHRvIGNvbnRyb2wgdGhlIGBjbGllbnRgIHlvdXJzZWxmIGFuZCBwYXNzIGl0IGluIGFzIGEgcHJvcCByYXRoZXIgdGhhbiBhbiBgYXBpS2V5YCBwcm9wLlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRpb25zICYmICFpc0RlZXBFcXVhbChvcHRpb25zLCBwcmV2aW91c0luaXRpYWxpemF0aW9uLm9wdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgcG9zdGhvZ0pzLnNldF9jb25maWcob3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmV2aW91c0luaXRpYWxpemF0aW9uUmVmLmN1cnJlbnQgPSB7XG4gICAgICAgICAgICAgICAgYXBpS2V5OiBhcGlLZXksXG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgPyBvcHRpb25zIDoge30sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwgW2NsaWVudCwgYXBpS2V5LCBKU09OLnN0cmluZ2lmeShvcHRpb25zKV0pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChQb3N0SG9nQ29udGV4dC5Qcm92aWRlciwgeyB2YWx1ZTogeyBjbGllbnQ6IHBvc3Rob2csIGJvb3RzdHJhcDogKF9iID0gb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmJvb3RzdHJhcCkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogKF9jID0gY2xpZW50ID09PSBudWxsIHx8IGNsaWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogY2xpZW50LmNvbmZpZykgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmJvb3RzdHJhcCB9IH0sIGNoaWxkcmVuKSk7XG59XG5cbnZhciBpc0Z1bmN0aW9uID0gZnVuY3Rpb24gKGYpIHtcbiAgICByZXR1cm4gdHlwZW9mIGYgPT09ICdmdW5jdGlvbic7XG59O1xudmFyIGlzVW5kZWZpbmVkID0gZnVuY3Rpb24gKHgpIHtcbiAgICByZXR1cm4geCA9PT0gdm9pZCAwO1xufTtcbnZhciBpc051bGwgPSBmdW5jdGlvbiAoeCkge1xuICAgIHJldHVybiB4ID09PSBudWxsO1xufTtcblxuZnVuY3Rpb24gdXNlRmVhdHVyZUZsYWdFbmFibGVkKGZsYWcpIHtcbiAgICB2YXIgX2E7XG4gICAgdmFyIF9iID0gdXNlQ29udGV4dChQb3N0SG9nQ29udGV4dCksIGNsaWVudCA9IF9iLmNsaWVudCwgYm9vdHN0cmFwID0gX2IuYm9vdHN0cmFwO1xuICAgIHZhciBfYyA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudC5pc0ZlYXR1cmVFbmFibGVkKGZsYWcpOyB9KSwgZmVhdHVyZUVuYWJsZWQgPSBfY1swXSwgc2V0RmVhdHVyZUVuYWJsZWQgPSBfY1sxXTtcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRmVhdHVyZUZsYWdzKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNldEZlYXR1cmVFbmFibGVkKGNsaWVudC5pc0ZlYXR1cmVFbmFibGVkKGZsYWcpKTtcbiAgICAgICAgfSk7XG4gICAgfSwgW2NsaWVudCwgZmxhZ10pO1xuICAgIHZhciBib290c3RyYXBwZWQgPSAoX2EgPSBib290c3RyYXAgPT09IG51bGwgfHwgYm9vdHN0cmFwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBib290c3RyYXAuZmVhdHVyZUZsYWdzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbZmxhZ107XG4gICAgaWYgKCFjbGllbnQuZmVhdHVyZUZsYWdzLmhhc0xvYWRlZEZsYWdzICYmIChib290c3RyYXAgPT09IG51bGwgfHwgYm9vdHN0cmFwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBib290c3RyYXAuZmVhdHVyZUZsYWdzKSkge1xuICAgICAgICByZXR1cm4gaXNVbmRlZmluZWQoYm9vdHN0cmFwcGVkKSA/IHVuZGVmaW5lZCA6ICEhYm9vdHN0cmFwcGVkO1xuICAgIH1cbiAgICByZXR1cm4gZmVhdHVyZUVuYWJsZWQ7XG59XG5cbmZ1bmN0aW9uIHVzZUZlYXR1cmVGbGFnUGF5bG9hZChmbGFnKSB7XG4gICAgdmFyIF9hID0gdXNlQ29udGV4dChQb3N0SG9nQ29udGV4dCksIGNsaWVudCA9IF9hLmNsaWVudCwgYm9vdHN0cmFwID0gX2EuYm9vdHN0cmFwO1xuICAgIHZhciBfYiA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudC5nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZyk7IH0pLCBmZWF0dXJlRmxhZ1BheWxvYWQgPSBfYlswXSwgc2V0RmVhdHVyZUZsYWdQYXlsb2FkID0gX2JbMV07XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNsaWVudC5vbkZlYXR1cmVGbGFncyhmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZXRGZWF0dXJlRmxhZ1BheWxvYWQoY2xpZW50LmdldEZlYXR1cmVGbGFnUGF5bG9hZChmbGFnKSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtjbGllbnQsIGZsYWddKTtcbiAgICBpZiAoIWNsaWVudC5mZWF0dXJlRmxhZ3MuaGFzTG9hZGVkRmxhZ3MgJiYgKGJvb3RzdHJhcCA9PT0gbnVsbCB8fCBib290c3RyYXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJvb3RzdHJhcC5mZWF0dXJlRmxhZ1BheWxvYWRzKSkge1xuICAgICAgICByZXR1cm4gYm9vdHN0cmFwLmZlYXR1cmVGbGFnUGF5bG9hZHNbZmxhZ107XG4gICAgfVxuICAgIHJldHVybiBmZWF0dXJlRmxhZ1BheWxvYWQ7XG59XG5cbmZ1bmN0aW9uIHVzZUFjdGl2ZUZlYXR1cmVGbGFncygpIHtcbiAgICB2YXIgX2EgPSB1c2VDb250ZXh0KFBvc3RIb2dDb250ZXh0KSwgY2xpZW50ID0gX2EuY2xpZW50LCBib290c3RyYXAgPSBfYS5ib290c3RyYXA7XG4gICAgdmFyIF9iID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gY2xpZW50LmZlYXR1cmVGbGFncy5nZXRGbGFncygpOyB9KSwgZmVhdHVyZUZsYWdzID0gX2JbMF0sIHNldEZlYXR1cmVGbGFncyA9IF9iWzFdO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKGZsYWdzKSB7XG4gICAgICAgICAgICBzZXRGZWF0dXJlRmxhZ3MoZmxhZ3MpO1xuICAgICAgICB9KTtcbiAgICB9LCBbY2xpZW50XSk7XG4gICAgaWYgKCFjbGllbnQuZmVhdHVyZUZsYWdzLmhhc0xvYWRlZEZsYWdzICYmIChib290c3RyYXAgPT09IG51bGwgfHwgYm9vdHN0cmFwID09PSB2b2lkIDAgPyB2b2lkIDAgOiBib290c3RyYXAuZmVhdHVyZUZsYWdzKSkge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMoYm9vdHN0cmFwLmZlYXR1cmVGbGFncyk7XG4gICAgfVxuICAgIHJldHVybiBmZWF0dXJlRmxhZ3M7XG59XG5cbmZ1bmN0aW9uIHVzZUZlYXR1cmVGbGFnVmFyaWFudEtleShmbGFnKSB7XG4gICAgdmFyIF9hID0gdXNlQ29udGV4dChQb3N0SG9nQ29udGV4dCksIGNsaWVudCA9IF9hLmNsaWVudCwgYm9vdHN0cmFwID0gX2EuYm9vdHN0cmFwO1xuICAgIHZhciBfYiA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGNsaWVudC5nZXRGZWF0dXJlRmxhZyhmbGFnKTtcbiAgICB9KSwgZmVhdHVyZUZsYWdWYXJpYW50S2V5ID0gX2JbMF0sIHNldEZlYXR1cmVGbGFnVmFyaWFudEtleSA9IF9iWzFdO1xuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2V0RmVhdHVyZUZsYWdWYXJpYW50S2V5KGNsaWVudC5nZXRGZWF0dXJlRmxhZyhmbGFnKSk7XG4gICAgICAgIH0pO1xuICAgIH0sIFtjbGllbnQsIGZsYWddKTtcbiAgICBpZiAoIWNsaWVudC5mZWF0dXJlRmxhZ3MuaGFzTG9hZGVkRmxhZ3MgJiYgKGJvb3RzdHJhcCA9PT0gbnVsbCB8fCBib290c3RyYXAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJvb3RzdHJhcC5mZWF0dXJlRmxhZ3MpKSB7XG4gICAgICAgIHJldHVybiBib290c3RyYXAuZmVhdHVyZUZsYWdzW2ZsYWddO1xuICAgIH1cbiAgICByZXR1cm4gZmVhdHVyZUZsYWdWYXJpYW50S2V5O1xufVxuXG52YXIgdXNlUG9zdEhvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2xpZW50ID0gdXNlQ29udGV4dChQb3N0SG9nQ29udGV4dCkuY2xpZW50O1xuICAgIHJldHVybiBjbGllbnQ7XG59O1xuXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxyXG5cclxuUGVybWlzc2lvbiB0byB1c2UsIGNvcHksIG1vZGlmeSwgYW5kL29yIGRpc3RyaWJ1dGUgdGhpcyBzb2Z0d2FyZSBmb3IgYW55XHJcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cclxuXHJcblRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIgQU5EIFRIRSBBVVRIT1IgRElTQ0xBSU1TIEFMTCBXQVJSQU5USUVTIFdJVEhcclxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXHJcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcclxuSU5ESVJFQ1QsIE9SIENPTlNFUVVFTlRJQUwgREFNQUdFUyBPUiBBTlkgREFNQUdFUyBXSEFUU09FVkVSIFJFU1VMVElORyBGUk9NXHJcbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXHJcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcclxuUEVSRk9STUFOQ0UgT0YgVEhJUyBTT0ZUV0FSRS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UsIFN1cHByZXNzZWRFcnJvciwgU3ltYm9sLCBJdGVyYXRvciAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxudHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XHJcbiAgICB2YXIgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcclxuICAgIHJldHVybiBlLm5hbWUgPSBcIlN1cHByZXNzZWRFcnJvclwiLCBlLmVycm9yID0gZXJyb3IsIGUuc3VwcHJlc3NlZCA9IHN1cHByZXNzZWQsIGU7XHJcbn07XG5cbmZ1bmN0aW9uIFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXIoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgb25JbnRlcnNlY3QgPSBfYS5vbkludGVyc2VjdCwgb25DbGljayA9IF9hLm9uQ2xpY2ssIHRyYWNrVmlldyA9IF9hLnRyYWNrVmlldywgb3B0aW9ucyA9IF9hLm9wdGlvbnMsIHByb3BzID0gX19yZXN0KF9hLCBbXCJjaGlsZHJlblwiLCBcIm9uSW50ZXJzZWN0XCIsIFwib25DbGlja1wiLCBcInRyYWNrVmlld1wiLCBcIm9wdGlvbnNcIl0pO1xuICAgIHZhciByZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgdmFyIG9ic2VydmVyT3B0aW9ucyA9IHVzZU1lbW8oZnVuY3Rpb24gKCkgeyByZXR1cm4gKF9fYXNzaWduKHsgdGhyZXNob2xkOiAwLjEgfSwgb3B0aW9ucykpOyB9LCBbb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRocmVzaG9sZCwgb3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJvb3QsIG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yb290TWFyZ2luXSk7XG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGlzTnVsbChyZWYuY3VycmVudCkgfHwgIXRyYWNrVmlldylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdmFyIG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgdmFyIGVudHJ5ID0gX2FbMF07XG4gICAgICAgICAgICByZXR1cm4gb25JbnRlcnNlY3QoZW50cnkpO1xuICAgICAgICB9LCBvYnNlcnZlck9wdGlvbnMpO1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKHJlZi5jdXJyZW50KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsgcmV0dXJuIG9ic2VydmVyLmRpc2Nvbm5lY3QoKTsgfTtcbiAgICB9LCBbb2JzZXJ2ZXJPcHRpb25zLCB0cmFja1ZpZXcsIG9uSW50ZXJzZWN0XSk7XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIF9fYXNzaWduKHsgcmVmOiByZWYgfSwgcHJvcHMsIHsgb25DbGljazogb25DbGljayB9KSwgY2hpbGRyZW4pKTtcbn1cblxuZnVuY3Rpb24gVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlcnMoX2EpIHtcbiAgICB2YXIgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbiwgdHJhY2tJbnRlcmFjdGlvbiA9IF9hLnRyYWNrSW50ZXJhY3Rpb24sIHRyYWNrVmlldyA9IF9hLnRyYWNrVmlldywgb3B0aW9ucyA9IF9hLm9wdGlvbnMsIG9uSW50ZXJhY3QgPSBfYS5vbkludGVyYWN0LCBvblZpZXcgPSBfYS5vblZpZXcsIHByb3BzID0gX19yZXN0KF9hLCBbXCJjaGlsZHJlblwiLCBcInRyYWNrSW50ZXJhY3Rpb25cIiwgXCJ0cmFja1ZpZXdcIiwgXCJvcHRpb25zXCIsIFwib25JbnRlcmFjdFwiLCBcIm9uVmlld1wiXSk7XG4gICAgdmFyIGNsaWNrVHJhY2tlZFJlZiA9IHVzZVJlZihmYWxzZSk7XG4gICAgdmFyIHZpc2liaWxpdHlUcmFja2VkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgICB2YXIgY2FjaGVkT25DbGljayA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCFjbGlja1RyYWNrZWRSZWYuY3VycmVudCAmJiB0cmFja0ludGVyYWN0aW9uICYmIG9uSW50ZXJhY3QpIHtcbiAgICAgICAgICAgIG9uSW50ZXJhY3QoKTtcbiAgICAgICAgICAgIGNsaWNrVHJhY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sIFt0cmFja0ludGVyYWN0aW9uLCBvbkludGVyYWN0XSk7XG4gICAgdmFyIG9uSW50ZXJzZWN0ID0gZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIGlmICghdmlzaWJpbGl0eVRyYWNrZWRSZWYuY3VycmVudCAmJiBlbnRyeS5pc0ludGVyc2VjdGluZyAmJiBvblZpZXcpIHtcbiAgICAgICAgICAgIG9uVmlldygpO1xuICAgICAgICAgICAgdmlzaWJpbGl0eVRyYWNrZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciB0cmFja2VkQ2hpbGRyZW4gPSBDaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlciwgX19hc3NpZ24oeyBvbkNsaWNrOiBjYWNoZWRPbkNsaWNrLCBvbkludGVyc2VjdDogb25JbnRlcnNlY3QsIHRyYWNrVmlldzogdHJhY2tWaWV3LCBvcHRpb25zOiBvcHRpb25zIH0sIHByb3BzKSwgY2hpbGQpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgdHJhY2tlZENoaWxkcmVuKTtcbn1cblxuZnVuY3Rpb24gUG9zdEhvZ0ZlYXR1cmUoX2EpIHtcbiAgICB2YXIgZmxhZyA9IF9hLmZsYWcsIG1hdGNoID0gX2EubWF0Y2gsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGZhbGxiYWNrID0gX2EuZmFsbGJhY2ssIHZpc2liaWxpdHlPYnNlcnZlck9wdGlvbnMgPSBfYS52aXNpYmlsaXR5T2JzZXJ2ZXJPcHRpb25zLCB0cmFja0ludGVyYWN0aW9uID0gX2EudHJhY2tJbnRlcmFjdGlvbiwgdHJhY2tWaWV3ID0gX2EudHJhY2tWaWV3LCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiZmxhZ1wiLCBcIm1hdGNoXCIsIFwiY2hpbGRyZW5cIiwgXCJmYWxsYmFja1wiLCBcInZpc2liaWxpdHlPYnNlcnZlck9wdGlvbnNcIiwgXCJ0cmFja0ludGVyYWN0aW9uXCIsIFwidHJhY2tWaWV3XCJdKTtcbiAgICB2YXIgcGF5bG9hZCA9IHVzZUZlYXR1cmVGbGFnUGF5bG9hZChmbGFnKTtcbiAgICB2YXIgdmFyaWFudCA9IHVzZUZlYXR1cmVGbGFnVmFyaWFudEtleShmbGFnKTtcbiAgICB2YXIgcG9zdGhvZyA9IHVzZVBvc3RIb2coKTtcbiAgICB2YXIgc2hvdWxkVHJhY2tJbnRlcmFjdGlvbiA9IHRyYWNrSW50ZXJhY3Rpb24gIT09IG51bGwgJiYgdHJhY2tJbnRlcmFjdGlvbiAhPT0gdm9pZCAwID8gdHJhY2tJbnRlcmFjdGlvbiA6IHRydWU7XG4gICAgdmFyIHNob3VsZFRyYWNrVmlldyA9IHRyYWNrVmlldyAhPT0gbnVsbCAmJiB0cmFja1ZpZXcgIT09IHZvaWQgMCA/IHRyYWNrVmlldyA6IHRydWU7XG4gICAgaWYgKGlzVW5kZWZpbmVkKG1hdGNoKSB8fCB2YXJpYW50ID09PSBtYXRjaCkge1xuICAgICAgICB2YXIgY2hpbGROb2RlID0gaXNGdW5jdGlvbihjaGlsZHJlbikgPyBjaGlsZHJlbihwYXlsb2FkKSA6IGNoaWxkcmVuO1xuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlcnMsIF9fYXNzaWduKHsgZmxhZzogZmxhZywgb3B0aW9uczogdmlzaWJpbGl0eU9ic2VydmVyT3B0aW9ucywgdHJhY2tJbnRlcmFjdGlvbjogc2hvdWxkVHJhY2tJbnRlcmFjdGlvbiwgdHJhY2tWaWV3OiBzaG91bGRUcmFja1ZpZXcsIG9uSW50ZXJhY3Q6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhcHR1cmVGZWF0dXJlSW50ZXJhY3Rpb24oeyBmbGFnOiBmbGFnLCBwb3N0aG9nOiBwb3N0aG9nLCBmbGFnVmFyaWFudDogdmFyaWFudCB9KTsgfSwgb25WaWV3OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjYXB0dXJlRmVhdHVyZVZpZXcoeyBmbGFnOiBmbGFnLCBwb3N0aG9nOiBwb3N0aG9nLCBmbGFnVmFyaWFudDogdmFyaWFudCB9KTsgfSB9LCBwcm9wcyksIGNoaWxkTm9kZSkpO1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgZmFsbGJhY2spO1xufVxuZnVuY3Rpb24gY2FwdHVyZUZlYXR1cmVJbnRlcmFjdGlvbihfYSkge1xuICAgIHZhciBfYjtcbiAgICB2YXIgZmxhZyA9IF9hLmZsYWcsIHBvc3Rob2cgPSBfYS5wb3N0aG9nLCBmbGFnVmFyaWFudCA9IF9hLmZsYWdWYXJpYW50O1xuICAgIHZhciBwcm9wZXJ0aWVzID0ge1xuICAgICAgICBmZWF0dXJlX2ZsYWc6IGZsYWcsXG4gICAgICAgICRzZXQ6IChfYiA9IHt9LCBfYltcIiRmZWF0dXJlX2ludGVyYWN0aW9uL1wiLmNvbmNhdChmbGFnKV0gPSBmbGFnVmFyaWFudCAhPT0gbnVsbCAmJiBmbGFnVmFyaWFudCAhPT0gdm9pZCAwID8gZmxhZ1ZhcmlhbnQgOiB0cnVlLCBfYiksXG4gICAgfTtcbiAgICBpZiAodHlwZW9mIGZsYWdWYXJpYW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICBwcm9wZXJ0aWVzLmZlYXR1cmVfZmxhZ192YXJpYW50ID0gZmxhZ1ZhcmlhbnQ7XG4gICAgfVxuICAgIHBvc3Rob2cuY2FwdHVyZSgnJGZlYXR1cmVfaW50ZXJhY3Rpb24nLCBwcm9wZXJ0aWVzKTtcbn1cbmZ1bmN0aW9uIGNhcHR1cmVGZWF0dXJlVmlldyhfYSkge1xuICAgIHZhciBfYjtcbiAgICB2YXIgZmxhZyA9IF9hLmZsYWcsIHBvc3Rob2cgPSBfYS5wb3N0aG9nLCBmbGFnVmFyaWFudCA9IF9hLmZsYWdWYXJpYW50O1xuICAgIHZhciBwcm9wZXJ0aWVzID0ge1xuICAgICAgICBmZWF0dXJlX2ZsYWc6IGZsYWcsXG4gICAgICAgICRzZXQ6IChfYiA9IHt9LCBfYltcIiRmZWF0dXJlX3ZpZXcvXCIuY29uY2F0KGZsYWcpXSA9IGZsYWdWYXJpYW50ICE9PSBudWxsICYmIGZsYWdWYXJpYW50ICE9PSB2b2lkIDAgPyBmbGFnVmFyaWFudCA6IHRydWUsIF9iKSxcbiAgICB9O1xuICAgIGlmICh0eXBlb2YgZmxhZ1ZhcmlhbnQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHByb3BlcnRpZXMuZmVhdHVyZV9mbGFnX3ZhcmlhbnQgPSBmbGFnVmFyaWFudDtcbiAgICB9XG4gICAgcG9zdGhvZy5jYXB0dXJlKCckZmVhdHVyZV92aWV3JywgcHJvcGVydGllcyk7XG59XG5cbmZ1bmN0aW9uIFRyYWNrZWRDaGlsZChfYSkge1xuICAgIHZhciBjaGlsZCA9IF9hLmNoaWxkLCBpbmRleCA9IF9hLmluZGV4LCBuYW1lID0gX2EubmFtZSwgcHJvcGVydGllcyA9IF9hLnByb3BlcnRpZXMsIG9ic2VydmVyT3B0aW9ucyA9IF9hLm9ic2VydmVyT3B0aW9ucztcbiAgICB2YXIgdHJhY2tlZFJlZiA9IHVzZVJlZihmYWxzZSk7XG4gICAgdmFyIHBvc3Rob2cgPSB1c2VQb3N0SG9nKCk7XG4gICAgdmFyIG9uSW50ZXJzZWN0ID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGVudHJ5KSB7XG4gICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZyAmJiAhdHJhY2tlZFJlZi5jdXJyZW50KSB7XG4gICAgICAgICAgICBwb3N0aG9nLmNhcHR1cmUoJyRlbGVtZW50X3ZpZXdlZCcsIF9fYXNzaWduKHsgZWxlbWVudF9uYW1lOiBuYW1lLCBjaGlsZF9pbmRleDogaW5kZXggfSwgcHJvcGVydGllcykpO1xuICAgICAgICAgICAgdHJhY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sIFtwb3N0aG9nLCBuYW1lLCBpbmRleCwgcHJvcGVydGllc10pO1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChWaXNpYmlsaXR5QW5kQ2xpY2tUcmFja2VyLCB7IG9uSW50ZXJzZWN0OiBvbkludGVyc2VjdCwgdHJhY2tWaWV3OiB0cnVlLCBvcHRpb25zOiBvYnNlcnZlck9wdGlvbnMgfSwgY2hpbGQpKTtcbn1cbmZ1bmN0aW9uIFBvc3RIb2dDYXB0dXJlT25WaWV3ZWQoX2EpIHtcbiAgICB2YXIgbmFtZSA9IF9hLm5hbWUsIHByb3BlcnRpZXMgPSBfYS5wcm9wZXJ0aWVzLCBvYnNlcnZlck9wdGlvbnMgPSBfYS5vYnNlcnZlck9wdGlvbnMsIHRyYWNrQWxsQ2hpbGRyZW4gPSBfYS50cmFja0FsbENoaWxkcmVuLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wibmFtZVwiLCBcInByb3BlcnRpZXNcIiwgXCJvYnNlcnZlck9wdGlvbnNcIiwgXCJ0cmFja0FsbENoaWxkcmVuXCIsIFwiY2hpbGRyZW5cIl0pO1xuICAgIHZhciB0cmFja2VkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgICB2YXIgcG9zdGhvZyA9IHVzZVBvc3RIb2coKTtcbiAgICB2YXIgb25JbnRlcnNlY3QgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAoZW50cnkpIHtcbiAgICAgICAgaWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nICYmICF0cmFja2VkUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIHBvc3Rob2cuY2FwdHVyZSgnJGVsZW1lbnRfdmlld2VkJywgX19hc3NpZ24oeyBlbGVtZW50X25hbWU6IG5hbWUgfSwgcHJvcGVydGllcykpO1xuICAgICAgICAgICAgdHJhY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0sIFtwb3N0aG9nLCBuYW1lLCBwcm9wZXJ0aWVzXSk7XG4gICAgaWYgKHRyYWNrQWxsQ2hpbGRyZW4pIHtcbiAgICAgICAgdmFyIHRyYWNrZWRDaGlsZHJlbiA9IENoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkLCBpbmRleCkge1xuICAgICAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFRyYWNrZWRDaGlsZCwgeyBrZXk6IGluZGV4LCBjaGlsZDogY2hpbGQsIGluZGV4OiBpbmRleCwgbmFtZTogbmFtZSwgcHJvcGVydGllczogcHJvcGVydGllcywgb2JzZXJ2ZXJPcHRpb25zOiBvYnNlcnZlck9wdGlvbnMgfSkpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oe30sIHByb3BzKSwgdHJhY2tlZENoaWxkcmVuKTtcbiAgICB9XG4gICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXIsIF9fYXNzaWduKHsgb25JbnRlcnNlY3Q6IG9uSW50ZXJzZWN0LCB0cmFja1ZpZXc6IHRydWUsIG9wdGlvbnM6IG9ic2VydmVyT3B0aW9ucyB9LCBwcm9wcyksIGNoaWxkcmVuKSk7XG59XG5cbnZhciBJTklUSUFMX1NUQVRFID0ge1xuICAgIGNvbXBvbmVudFN0YWNrOiBudWxsLFxuICAgIGV4Y2VwdGlvbkV2ZW50OiBudWxsLFxuICAgIGVycm9yOiBudWxsLFxufTtcbnZhciBfX1BPU1RIT0dfRVJST1JfTUVTU0FHRVMgPSB7XG4gICAgSU5WQUxJRF9GQUxMQkFDSzogJ1tQb3N0SG9nLmpzXVtQb3N0SG9nRXJyb3JCb3VuZGFyeV0gSW52YWxpZCBmYWxsYmFjayBwcm9wLCBwcm92aWRlIGEgdmFsaWQgUmVhY3QgZWxlbWVudCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyBhIHZhbGlkIFJlYWN0IGVsZW1lbnQuJyxcbn07XG52YXIgUG9zdEhvZ0Vycm9yQm91bmRhcnkgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhQb3N0SG9nRXJyb3JCb3VuZGFyeSwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBQb3N0SG9nRXJyb3JCb3VuZGFyeShwcm9wcykge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBwcm9wcykgfHwgdGhpcztcbiAgICAgICAgX3RoaXMuc3RhdGUgPSBJTklUSUFMX1NUQVRFO1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFBvc3RIb2dFcnJvckJvdW5kYXJ5LnByb3RvdHlwZS5jb21wb25lbnREaWRDYXRjaCA9IGZ1bmN0aW9uIChlcnJvciwgZXJyb3JJbmZvKSB7XG4gICAgICAgIHZhciBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHRoaXMucHJvcHMuYWRkaXRpb25hbFByb3BlcnRpZXM7XG4gICAgICAgIHZhciBjdXJyZW50UHJvcGVydGllcztcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24oYWRkaXRpb25hbFByb3BlcnRpZXMpKSB7XG4gICAgICAgICAgICBjdXJyZW50UHJvcGVydGllcyA9IGFkZGl0aW9uYWxQcm9wZXJ0aWVzKGVycm9yKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYWRkaXRpb25hbFByb3BlcnRpZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjdXJyZW50UHJvcGVydGllcyA9IGFkZGl0aW9uYWxQcm9wZXJ0aWVzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjbGllbnQgPSB0aGlzLmNvbnRleHQuY2xpZW50O1xuICAgICAgICB2YXIgZXhjZXB0aW9uRXZlbnQgPSBjbGllbnQuY2FwdHVyZUV4Y2VwdGlvbihlcnJvciwgY3VycmVudFByb3BlcnRpZXMpO1xuICAgICAgICB2YXIgY29tcG9uZW50U3RhY2sgPSBlcnJvckluZm8uY29tcG9uZW50U3RhY2s7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgZXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgY29tcG9uZW50U3RhY2s6IGNvbXBvbmVudFN0YWNrLFxuICAgICAgICAgICAgZXhjZXB0aW9uRXZlbnQ6IGV4Y2VwdGlvbkV2ZW50LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFBvc3RIb2dFcnJvckJvdW5kYXJ5LnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGZhbGxiYWNrID0gX2EuZmFsbGJhY2s7XG4gICAgICAgIHZhciBzdGF0ZSA9IHRoaXMuc3RhdGU7XG4gICAgICAgIGlmIChzdGF0ZS5jb21wb25lbnRTdGFjayA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGdW5jdGlvbihjaGlsZHJlbikgPyBjaGlsZHJlbigpIDogY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZW1lbnQgPSBpc0Z1bmN0aW9uKGZhbGxiYWNrKVxuICAgICAgICAgICAgPyBSZWFjdC5jcmVhdGVFbGVtZW50KGZhbGxiYWNrLCB7XG4gICAgICAgICAgICAgICAgZXJyb3I6IHN0YXRlLmVycm9yLFxuICAgICAgICAgICAgICAgIGNvbXBvbmVudFN0YWNrOiBzdGF0ZS5jb21wb25lbnRTdGFjayxcbiAgICAgICAgICAgICAgICBleGNlcHRpb25FdmVudDogc3RhdGUuZXhjZXB0aW9uRXZlbnQsXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgOiBmYWxsYmFjaztcbiAgICAgICAgaWYgKFJlYWN0LmlzVmFsaWRFbGVtZW50KGVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLndhcm4oX19QT1NUSE9HX0VSUk9SX01FU1NBR0VTLklOVkFMSURfRkFMTEJBQ0spO1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCk7XG4gICAgfTtcbiAgICBQb3N0SG9nRXJyb3JCb3VuZGFyeS5jb250ZXh0VHlwZSA9IFBvc3RIb2dDb250ZXh0O1xuICAgIHJldHVybiBQb3N0SG9nRXJyb3JCb3VuZGFyeTtcbn0oUmVhY3QuQ29tcG9uZW50KSk7XG5cbnZhciBzZXR1cFJlYWN0RXJyb3JIYW5kbGVyID0gZnVuY3Rpb24gKGNsaWVudCwgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVycm9yLCBlcnJvckluZm8pIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gY2xpZW50LmNhcHR1cmVFeGNlcHRpb24oZXJyb3IpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGV2ZW50LCBlcnJvciwgZXJyb3JJbmZvKTtcbiAgICAgICAgfVxuICAgIH07XG59O1xuXG5leHBvcnQgeyBQb3N0SG9nQ2FwdHVyZU9uVmlld2VkLCBQb3N0SG9nQ29udGV4dCwgUG9zdEhvZ0Vycm9yQm91bmRhcnksIFBvc3RIb2dGZWF0dXJlLCBQb3N0SG9nUHJvdmlkZXIsIGNhcHR1cmVGZWF0dXJlSW50ZXJhY3Rpb24sIGNhcHR1cmVGZWF0dXJlVmlldywgc2V0dXBSZWFjdEVycm9ySGFuZGxlciwgdXNlQWN0aXZlRmVhdHVyZUZsYWdzLCB1c2VGZWF0dXJlRmxhZ0VuYWJsZWQsIHVzZUZlYXR1cmVGbGFnUGF5bG9hZCwgdXNlRmVhdHVyZUZsYWdWYXJpYW50S2V5LCB1c2VQb3N0SG9nIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/posthog-js/react/dist/esm/index.js\n");

/***/ })

};
;